(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[428],{33908:function(e,t,n){"use strict";n.d(t,{K:function(){return b},w:function(){return N}});var i=n(33028),r=n(32723),s=n(34795),a=n(96234),o=n(59740),l=n(60319),d=n(80018),c=n(20356),u=n(47515),p=n(83473),x=n(44229),m=n(32375),h=n(32667),f=n(78193),g=n(97412),j=n(82182),y=n(22260),v=n(35936),w=["assetKey"],b=function(e){var t=e.assetKey,n=(0,o.Z)(e,w),l=(0,y.m)(),d=t.path.join("/"),g=f.useState(!1),b=(0,a.Z)(g,2),N=b[0],M=b[1],C=f.useRef(),k=f.useCallback((0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.current&&clearTimeout(C.current),l(d),M(!0),e.next=5,(0,j.B7)({icon:"done",intent:"primary",message:"Copied asset key!"});case 5:C.current=setTimeout((function(){M(!1)}),2e3);case 6:case"end":return e.stop()}}),e)}))),[l,d]),A=f.useMemo((function(){var e=[{text:"Assets",href:"/assets"}];return t.path.reduce((function(t,n){var i="".concat(t,"/").concat(encodeURIComponent(n));return e.push({text:n,href:i}),i}),"/assets"),e}),[t.path]);return(0,v.jsx)(c.m,(0,i.Z)({title:(0,v.jsxs)(u.x,{flex:{alignItems:"center",gap:4},style:{maxWidth:"600px",overflow:"hidden",marginBottom:4},children:[(0,v.jsx)(K,{items:A,currentBreadcrumbRenderer:function(e){var t=e.text;return(0,v.jsx)(p.X6,{children:t})},breadcrumbRenderer:function(e){var t=e.text,n=e.href;return(0,v.jsx)(p.X6,{children:(0,v.jsx)(I,{to:n||"#",children:t})})}}),(0,v.jsx)(x.u,{placement:"bottom",content:"Copy asset key",children:(0,v.jsx)(z,{onClick:k,children:(0,v.jsx)(m.JO,{name:N?"copy_to_clipboard_done":"copy_to_clipboard",color:h.w.Gray400})})})]})},n))},z=l.ZP.button.withConfig({displayName:"AssetPageHeader__CopyButton",componentId:"sc-1hk7vw2-0"})(["border:none;background:transparent;cursor:pointer;padding:3px;margin-top:2px;:focus{outline:none;}","{transition:background-color 100ms linear;}:hover ","{background-color:",";}"],m.a1,m.a1,h.w.Gray800),N=function(){return(0,v.jsx)(g.rU,{to:"/asset-groups",children:(0,v.jsxs)(u.x,{flex:{gap:4},children:[(0,v.jsx)(m.JO,{color:h.w.Link,name:"schema"}),"View global asset lineage"]})})},K=(0,l.ZP)(d.Oo).withConfig({displayName:"AssetPageHeader__BreadcrumbsWithSlashes",componentId:"sc-1hk7vw2-1"})(["& li:not(:first-child)::after{background:none;font-size:20px;font-weight:bold;color:#5c7080;content:'/';width:8px;line-height:16px;}"]),I=(0,l.ZP)(g.rU).withConfig({displayName:"AssetPageHeader__BreadcrumbLink",componentId:"sc-1hk7vw2-2"})(["color:",";:hover,:active{color:",";}"],h.w.Gray800,h.w.Gray800)},21507:function(e,t,n){"use strict";n.r(t),n.d(t,{AssetsCatalogRoot:function(){return kn},default:function(){return An}});var i,r=n(71171),s=n(90239),a=n(31623),o=n(3586),l=n(47515),d=n(62459),c=n(32667),u=n(78193),p=n(50032),x=n(74894),m=n(9938),h=n(67099),f=n(34319),g=n(33908),j=n(33028),y=n(96234),v=n(16185),w=n(17868),b=n(67445),z=n(16255),N=n(92555),K=n(95714),I=n(97412),M=n(39707),C=n(40854),k=n(34570),A=n(65778),E=n(50021),O=n(77233),P=n(46860),_=n(12434),D=n(66708),S=n(63167),Z=n(83473),G=n(21189),L=n(32375),R=n(4537),F=n(24265),T=n(15734),J=n(89622),U=n(92761),$=n(60319),q=n(787),V=n.n(q),H=n(60457),W=n.n(H),B=n(84674),Y=n(35936),Q=function(e){var t=e.event,n=e.observations;if(!t||!t.metadataEntries.length&&(null===n||void 0===n||!n.length))return(0,Y.jsx)(Z.YS,{color:c.w.Gray500,children:"No metadata entries"});var i=t.metadataEntries,r=t.timestamp,s=W()((n||[]).flatMap((function(e){return e.metadataEntries.map((function(t){return{timestamp:e.timestamp,runId:e.runId,entry:t}}))})),(function(e){return e.entry.label}));return(0,Y.jsx)(X,{children:(0,Y.jsx)(ee,{children:(0,Y.jsxs)("tbody",{children:[i.map((function(e){return(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)(Z.fv,{children:e.label})}),(0,Y.jsx)("td",{children:(0,Y.jsx)(Z.fv,{children:(0,Y.jsx)(B.BL,{entry:e,expandSmallValues:!0})})}),(0,Y.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),s.map((function(e){return(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)(Z.fv,{children:e.entry.label})}),(0,Y.jsx)("td",{children:(0,Y.jsx)(Z.fv,{children:(0,Y.jsx)(B.BL,{entry:e.entry,expandSmallValues:!0})})}),(0,Y.jsxs)("td",{style:{opacity:.7},children:[(0,Y.jsxs)(l.x,{children:["Observed in run ",(0,Y.jsx)(I.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(r),children:(0,Y.jsx)(Z.fv,{children:(0,J.EI)({id:e.runId})})})]}),(0,Y.jsx)(Z.YS,{children:"(".concat(V()(Number(e.timestamp)).from(Number(r),!0)," later)")}),e.entry.description]})]},"metadata-".concat(e.timestamp,"-").concat(e.entry.label))}))]})})})},X=$.ZP.div.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataScrollContainer",componentId:"sc-cvsmtb-0"})(["width:100%;overflow-x:auto;"]),ee=$.ZP.table.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataTable",componentId:"sc-cvsmtb-1"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td:first-child{max-width:300px;word-wrap:break-word;width:25%;}tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),te=n(65532),ne=n(12478),ie=n(68079),re=n(14491),se=n(67274),ae=n.n(se),oe=n(85514);V().extend(ae());var le,de,ce,ue=function(e){var t,n=e.assetKey,i=e.timestamp,r=(0,s.a)(pe,{skip:!i,variables:{assetKey:n,timestamp:i||""}}),a=(0,m.ll)(n),o="AssetNode"===(null===(t=r.data)||void 0===t?void 0:t.assetNodeOrError.__typename)?r.data.assetNodeOrError.assetMaterializationUsedData:[],d=function e(t,n,r){var s=(0,m.ll)(t.assetKey),a=(0,oe.p)(t.assetKey,{view:"events",time:t.timestamp});return[(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsxs)(l.x,{flex:{gap:4},style:{paddingLeft:20*Math.max(0,n)},children:[r&&(0,Y.jsx)(L.JO,{name:"arrow_indent",style:{marginLeft:-20}}),(0,Y.jsx)(I.rU,{to:a,children:(0,Y.jsxs)(l.x,{flex:{gap:4},children:[(0,Y.jsx)(L.JO,{name:"asset"}),(0,Y.jsx)(re.g,{text:s})]})})]})}),(0,Y.jsx)("td",{children:(0,Y.jsxs)(l.x,{flex:{gap:8},style:{whiteSpace:"nowrap"},children:[(0,Y.jsx)(I.rU,{to:a,children:(0,Y.jsx)(C.E,{timestamp:{ms:Number(t.timestamp)},timeFormat:{showSeconds:!0,showTimezone:!1}})}),(0,Y.jsxs)("span",{style:{opacity:.7},children:["(",V()(Number(t.timestamp)).from(Number(i),!0)," earlier)"]})]})})]},s)].concat((0,ie.Z)(o.filter((function(e){return(0,m.ll)(e.downstreamAssetKey)===s})).map((function(t,i){return e(t,n+1,0===i)}))))};return r.loading?(0,Y.jsx)(xe,{children:(0,Y.jsx)("tbody",{children:(0,Y.jsx)("tr",{children:(0,Y.jsx)("td",{children:"Loading\u2026"})})})}):o.length?(0,Y.jsx)(xe,{children:(0,Y.jsx)("tbody",{children:o.filter((function(e){return(0,m.ll)(e.downstreamAssetKey)===a})).map((function(e){return d(e,0,!1)}))})}):(0,Y.jsx)(xe,{children:(0,Y.jsx)("tbody",{children:(0,Y.jsx)("tr",{children:(0,Y.jsx)("td",{children:"No upstream materializations to display."})})})})},pe=(0,a.Ps)(i||(i=(0,r.Z)(["\n  query AssetMaterializationUpstreamQuery($assetKey: AssetKeyInput!, $timestamp: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        assetMaterializationUsedData(timestampMillis: $timestamp) {\n          ...MaterializationUpstreamDataVersionFragment\n        }\n      }\n    }\n  }\n\n  fragment MaterializationUpstreamDataVersionFragment on MaterializationUpstreamDataVersion {\n    timestamp\n    assetKey {\n      path\n    }\n    downstreamAssetKey {\n      path\n    }\n  }\n"]))),xe=$.ZP.table.withConfig({displayName:"AssetMaterializationUpstreamData__AssetUpstreamDataTable",componentId:"sc-s4nk8c-0"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),me=function(e){var t,n=e.event,i=e.assetKey,r="Run"===(null===(t=n.runOrError)||void 0===t?void 0:t.__typename)?n.runOrError:null,s=null===r||void 0===r?void 0:r.repositoryOrigin,a=s?(0,D.kQ)(s.repositoryName,s.repositoryLocationName):null,o=(0,U.Ux)(a),d="MaterializationEvent"===n.__typename?n.assetLineage:[];return(0,Y.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,Y.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,Y.jsx)(Z.X6,{children:(0,Y.jsx)(C.E,{timestamp:{ms:Number(n.timestamp)}})})}),(0,Y.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Event"}),"MaterializationEvent"===n.__typename?(0,Y.jsxs)(l.x,{flex:{gap:4},children:[(0,Y.jsx)(L.JO,{name:"materialization"}),"Materialization"]}):(0,Y.jsxs)(l.x,{flex:{gap:4},children:[(0,Y.jsx)(L.JO,{name:"observation"}),"Observation"]})]}),n.partition&&(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Partition"}),(0,Y.jsx)(l.x,{flex:{gap:4},children:n.partition})]}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,Y.jsx)(Z.pm,{children:"Run"}),r?(0,Y.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Y.jsx)(T.hk,{runId:r.id,status:r.status}),(0,Y.jsx)(I.rU,{to:(0,J.tA)(r,n),children:(0,Y.jsx)(Z.fv,{children:(0,J.EI)(r)})})]}):"\u2014"]}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Job"}),r&&!(0,m.pv)(r.pipelineName)?(0,Y.jsxs)(l.x,{children:[(0,Y.jsx)(l.x,{children:(0,Y.jsx)(F.h,{showIcon:!0,pipelineName:r.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:r.pipelineSnapshotId,isJob:(0,U.E8)(o,r.pipelineName)})}),(0,Y.jsxs)(R.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Y.jsx)(L.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Y.jsx)(I.rU,{to:(0,J.tA)(r,n),children:n.stepKey})]})]}):"\u2014"]})]}),n.description&&(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Description"}),n.description]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Metadata"}),(0,Y.jsx)(Q,{event:n})]}),"MaterializationEvent"===n.__typename&&(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Source data"}),(0,Y.jsx)(ue,{timestamp:n.timestamp,assetKey:i})]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"System tags"}),(0,Y.jsx)(te.M,{event:n,collapsible:!0})]}),d.length>0&&(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Parent materializations"}),(0,Y.jsx)(ne.i,{elements:d,timestamp:n.timestamp})]})]})},he=function(){return(0,Y.jsxs)(l.x,{padding:{horizontal:24},style:{flex:1},children:[(0,Y.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,Y.jsx)(Z.X6,{color:c.w.Gray400,children:"No event selected"})}),(0,Y.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,Y.jsx)(l.x,{flex:{gap:4,direction:"column"},children:(0,Y.jsx)(Z.pm,{children:"Event"})}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,Y.jsx)(Z.pm,{children:"Run"}),"\u2014"]}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Job"}),"\u2014"]})]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Metadata"}),(0,Y.jsx)(Q,{event:null})]})]})},fe=n(50260),ge=n(23555),je=n(67888),ye=n(3077),ve=n(45519),we=function(e){var t=e.hasPartitions,n=e.hasLineage,i=e.groups,r=e.focused,s=e.setFocused;return(0,Y.jsxs)(je.i,{children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{children:[t&&(0,Y.jsx)("th",{style:{minWidth:100},children:"Partition"}),(0,Y.jsx)("th",{style:{minWidth:150},children:"Timestamp"}),(0,Y.jsx)("th",{style:{minWidth:150},children:"Job"}),(0,Y.jsx)("th",{style:{width:100},children:"Run"})]})}),(0,Y.jsx)("tbody",{children:i.map((function(e){return(0,Y.jsxs)(u.Fragment,{children:[(0,Y.jsx)(Ke,{onClick:function(t){t.target instanceof HTMLElement&&t.target.closest("a")||null===s||void 0===s||s(r!==e?e:void 0)},children:(0,Y.jsx)(Ne,{group:e,hasPartitions:t,hasLineage:n,isFocused:r===e})}),r===e?(0,Y.jsx)(ze,{hasLineage:n,group:e}):void 0]},e.timestamp||e.partition)}))})]})},be=function(){return(0,Y.jsx)("span",{style:{color:c.w.Gray400},children:"None"})},ze=u.memo((function(e){var t=e.group,n=e.hasLineage,i=t.latest,r=t.timestamp;if(!i)return(0,Y.jsx)("tr",{});var s="MaterializationEvent"===i.__typename?i.assetLineage:[],a="MaterializationEvent"===i.__typename?t.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(i.timestamp)})):[];return(0,Y.jsx)("tr",{style:{background:c.w.Gray50},children:(0,Y.jsxs)("td",{colSpan:6,style:{fontSize:14,padding:0},children:[i.description&&(0,Y.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:i.description}),i.metadataEntries.length||n?(0,Y.jsx)(Ie,{children:(0,Y.jsxs)("tbody",{children:[i.metadataEntries.map((function(e){return(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{style:{maxWidth:300},children:e.label}),(0,Y.jsx)("td",{children:(0,Y.jsx)(B.BL,{entry:e,expandSmallValues:!0})}),(0,Y.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),a.map((function(e){return(0,Y.jsx)(u.Fragment,{children:e.metadataEntries.map((function(t){return(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:t.label}),(0,Y.jsx)("td",{children:(0,Y.jsx)(B.BL,{entry:t,expandSmallValues:!0})}),(0,Y.jsxs)("td",{style:{opacity:.7},children:[(0,Y.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,Y.jsx)(L.JO,{name:"observation",size:16}),(0,Y.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,Y.jsx)(I.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,Y.jsx)(Z.fv,{children:(0,J.EI)({id:e.runId})})})," (".concat(V()(Number(e.timestamp)).from(Number(r),!0)," later)")]})]}),t.description]})]},"metadata-".concat(e.timestamp,"-").concat(t.label))}))},e.timestamp)})),n&&r?(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:"Parent Materializations"}),(0,Y.jsx)("td",{children:(0,Y.jsx)(ne.i,{elements:s,timestamp:r})})]}):null]})}):(0,Y.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:"No materialization event metadata"})]})})})),Ne=u.memo((function(e){var t=e.group,n=e.hasPartitions,i=e.hasLineage,r=e.isFocused,s=t.latest,a=t.partition,o=t.timestamp,d=t.all,u=r?{paddingLeft:4,borderLeft:"4px solid ".concat(c.w.HighlightGreen)}:{paddingLeft:8},p="Run"===(null===s||void 0===s?void 0:s.runOrError.__typename)?s.runOrError:void 0,x=null===p||void 0===p?void 0:p.repositoryOrigin,h=x?(0,D.kQ)(x.repositoryName,x.repositoryLocationName):null,f=(0,U.Ux)(h);return s?p?(0,Y.jsxs)(Y.Fragment,{children:[n&&(0,Y.jsx)("td",{style:(0,j.Z)({whiteSpace:"nowrap"},u),children:(0,Y.jsxs)(R.Z,{direction:"row",spacing:2,children:[(0,Y.jsx)(Ce,{open:r}),a||(0,Y.jsx)(be,{})]})}),(0,Y.jsx)("td",{style:n?{}:u,children:(0,Y.jsxs)(R.Z,{direction:"row",spacing:4,children:[!n&&(0,Y.jsx)(Ce,{open:r}),(0,Y.jsxs)(R.Z,{direction:"column",spacing:4,children:[(0,Y.jsx)(C.E,{timestamp:{ms:Number(o)}}),(null===d||void 0===d?void 0:d.length)>1?(0,Y.jsx)(Me,{hasPartitions:n,hasLineage:i,events:d,children:"View ".concat(d.length," events")}):"MaterializationEvent"===s.__typename?(0,Y.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,Y.jsx)(L.JO,{name:"materialization",size:16,color:c.w.Gray600}),"Materialization"]}):(0,Y.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,Y.jsx)(L.JO,{name:"observation",size:16,color:c.w.Gray600})," Observation"]})]})]})}),(0,Y.jsx)("td",{children:!(0,m.pv)(p.pipelineName)&&(0,Y.jsxs)(l.x,{margin:{bottom:4},children:[(0,Y.jsx)(l.x,{padding:{left:8},children:(0,Y.jsx)(F.h,{showIcon:!0,pipelineName:p.pipelineName,pipelineHrefContext:h||"repo-unknown",snapshotId:p.pipelineSnapshotId,isJob:(0,U.E8)(f,p.pipelineName)})}),(0,Y.jsxs)(R.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,Y.jsx)(L.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Y.jsx)(I.rU,{to:(0,J.tA)(p,s),children:s.stepKey})]})]})}),(0,Y.jsx)("td",{children:(0,Y.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Y.jsx)(T.hk,{runId:p.id,status:p.status}),(0,Y.jsx)(I.rU,{to:"/runs/".concat(p.id,"?timestamp=").concat(o),children:(0,Y.jsx)(Z.fv,{children:(0,J.EI)(p)})})]})})]}):(0,Y.jsx)("span",{}):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("td",{style:{whiteSpace:"nowrap",paddingLeft:24},children:a||(0,Y.jsx)(be,{})}),(0,Y.jsx)("td",{colSpan:3})]})})),Ke=$.ZP.tr.withConfig({displayName:"AllIndividualEventsLink__HoverableRow",componentId:"sc-jy8lfp-0"})(["&:hover{background:",";}"],c.w.Gray10),Ie=$.ZP.table.withConfig({displayName:"AllIndividualEventsLink__DetailsTable",componentId:"sc-jy8lfp-1"})(["width:100%;margin:-2px -2px -3px;tr td{font-size:14px;}"]),Me=function(e){var t=e.hasLineage,n=e.hasPartitions,i=e.events,r=e.children,s=u.useState(!1),a=(0,y.Z)(s,2),o=a[0],d=a[1],c=u.useState(),p=(0,y.Z)(c,2),x=p[0],m=p[1],h=u.useMemo((function(){return i.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(N.Z,{onClick:function(){return d(!0)},children:r}),(0,Y.jsxs)(ye.Vq,{isOpen:o,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return d(!1)},style:{width:"80%",minWidth:"800px"},title:function(){if(n&&i[0]){var e=i[0].partition;if(e)return"Materialization and observation events for ".concat(e)}return"Materialization and observation events"}(),children:[o&&(0,Y.jsx)(l.x,{padding:{bottom:8},onClick:function(e){return e.stopPropagation()},children:(0,Y.jsx)(we,{hasLineage:t,hasPartitions:n,focused:x,setFocused:m,groups:h})}),(0,Y.jsx)(ye.cN,{children:(0,Y.jsx)(ve.zx,{intent:"primary",onClick:function(){return d(!1)},children:"OK"})})]})]})},Ce=function(e){var t=e.open,n=e.onClick;return(0,Y.jsx)(ke,{onClick:n,$open:t,children:(0,Y.jsx)(L.JO,{name:"arrow_drop_down",size:24})})},ke=$.ZP.button.withConfig({displayName:"AllIndividualEventsLink__DisclosureTriangleButton",componentId:"sc-jy8lfp-2"})(["padding:4px;margin:-4px;cursor:pointer;border:0;background:transparent;outline:none;","{margin:-2px -5px;transform:",";opacity:0.25;}:focus{outline:none;","{background:",";opacity:0.5;}}"],L.a1,(function(e){return e.$open?"rotate(0deg)":"rotate(-90deg)"}),L.a1,c.w.Dark),Ae=n(13167),Ee=n(44435),Oe=function(e){var t=(0,s.a)(Pe,{variables:{assetKey:e.assetKey,partitionKey:e.partitionKey}}),n=u.useMemo((function(){var e,n;return"AssetNode"!==(null===(e=t.data)||void 0===e||null===(n=e.assetNodeOrError)||void 0===n?void 0:n.__typename)?{materializations:[],observations:[],hasLineage:!1,latestRunForPartition:null}:{latestRunForPartition:t.data.assetNodeOrError.latestRunForPartition,materializations:(0,ie.Z)(t.data.assetNodeOrError.assetMaterializations).sort((function(e,t){return Number(t.timestamp)-Number(e.timestamp)})),observations:(0,ie.Z)(t.data.assetNodeOrError.assetObservations).sort((function(e,t){return Number(t.timestamp)-Number(e.timestamp)})),hasLineage:t.data.assetNodeOrError.assetMaterializations.some((function(e){return e.assetLineage.length>0}))}}),[t.data]),i=n.materializations,r=n.observations,a=n.hasLineage,o=n.latestRunForPartition,l=i[0];return!t.loading&&t.data&&l?(0,Y.jsx)(_e,{assetKey:e.assetKey,latestRunForPartition:o,hasLineage:a,group:{latest:l,timestamp:l.timestamp,partition:e.partitionKey,all:[].concat((0,ie.Z)(i),(0,ie.Z)(r)).sort((function(e,t){return Number(t.timestamp)-Number(e.timestamp)}))}}):(0,Y.jsx)(De,{partitionKey:e.partitionKey})},Pe=(0,a.Ps)(le||(le=(0,r.Z)(["\n  query AssetPartitionDetailQuery($assetKey: AssetKeyInput!, $partitionKey: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        latestRunForPartition(partition: $partitionKey) {\n          id\n          ...AssetPartitionLatestRunFragment\n        }\n        assetMaterializations(partitions: [$partitionKey]) {\n          ... on MaterializationEvent {\n            runId\n            ...AssetMaterializationFragment\n          }\n        }\n        assetObservations(partitions: [$partitionKey]) {\n          ... on ObservationEvent {\n            runId\n            ...AssetObservationFragment\n          }\n        }\n      }\n    }\n  }\n  fragment AssetPartitionLatestRunFragment on Run {\n    id\n    status\n    endTime\n  }\n\n  ","\n  ","\n"])),Ee.ZC,Ee.T8),_e=function(e){var t,n=e.assetKey,i=e.group,r=e.hasLineage,s=e.hasLoadingState,a=e.latestRunForPartition,o=i.latest,u=i.partition,p=i.all,x="Run"===(null===o||void 0===o||null===(t=o.runOrError)||void 0===t?void 0:t.__typename)?o.runOrError:null,h=(null===a||void 0===a?void 0:a.id)!==(null===x||void 0===x?void 0:x.id)?a:null,f=(null===h||void 0===h?void 0:h.status)===ge.VOA.STARTED?"has started and is refreshing this partition.":(null===h||void 0===h?void 0:h.status)===ge.VOA.STARTING?"is starting and will refresh this partition.":(null===h||void 0===h?void 0:h.status)===ge.VOA.QUEUED?"is queued and is refreshing this partition.":void 0,g=null===x||void 0===x?void 0:x.repositoryOrigin,j=g?(0,D.kQ)(g.repositoryName,g.repositoryLocationName):null,y=(0,U.Ux)(j),v="MaterializationEvent"===(null===o||void 0===o?void 0:o.__typename)?i.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(o.timestamp)})):[],w=o?p.slice(p.indexOf(o)):p;return(0,Y.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,Y.jsxs)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center"},children:[u?(0,Y.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,Y.jsx)(Z.X6,{children:u}),s?(0,Y.jsx)(d.$,{purpose:"body-text"}):o&&(0,Y.jsx)(K.V,{intent:"success",children:"Materialized"})]}):(0,Y.jsx)(Z.X6,{color:c.w.Gray400,children:"No partition selected"}),(0,Y.jsx)("div",{style:{flex:1}})]}),(null===h||void 0===h?void 0:h.status)===ge.VOA.FAILURE&&(0,Y.jsx)(Ae.Z,{run:h,padding:{horizontal:0,vertical:16},border:{side:"bottom",width:1,color:c.w.KeylineGray}}),h&&f&&(0,Y.jsx)(z.b,{intent:"info",icon:(0,Y.jsx)(d.$,{purpose:"body-text"}),title:(0,Y.jsxs)("div",{style:{fontWeight:400},children:["Run ",(0,Y.jsx)(I.rU,{to:"/runs/".concat(h.id),children:(0,J.EI)(h)})," ",f]})}),(0,Y.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16,minHeight:76},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[o?(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"MaterializationEvent"===o.__typename?"Latest materialization":"Latest observation"}),(0,Y.jsxs)(l.x,{flex:{gap:4},style:{whiteSpace:"nowrap"},children:["MaterializationEvent"===o.__typename?(0,Y.jsx)(L.JO,{name:"materialization"}):(0,Y.jsx)(L.JO,{name:"observation"}),(0,Y.jsx)(C.E,{timestamp:{ms:Number(o.timestamp)}}),w.length>0&&(0,Y.jsx)(Me,{hasPartitions:!0,hasLineage:r,events:p,children:"(".concat(w.length-1," prior ").concat(w.length-1===1?"event":"events",")")})]})]}):(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Latest materialization"}),(0,Y.jsxs)(l.x,{flex:{gap:4},children:[(0,Y.jsx)(L.JO,{name:"materialization"}),"None"]})]}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Run"}),x&&o?(0,Y.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Y.jsx)(T.hk,{runId:x.id,status:x.status}),(0,Y.jsx)(I.rU,{to:(0,J.tA)(x,o),children:(0,Y.jsx)(Z.fv,{children:(0,J.EI)(x)})})]}):"None"]}),(0,Y.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Y.jsx)(Z.pm,{children:"Job"}),o&&x&&!(0,m.pv)(x.pipelineName)?(0,Y.jsxs)(l.x,{children:[(0,Y.jsx)(l.x,{children:(0,Y.jsx)(F.h,{showIcon:!0,pipelineName:x.pipelineName,pipelineHrefContext:j||"repo-unknown",snapshotId:x.pipelineSnapshotId,isJob:(0,U.E8)(y,x.pipelineName)})}),(0,Y.jsxs)(R.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Y.jsx)(L.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Y.jsx)(I.rU,{to:(0,J.tA)(x,o),children:o.stepKey})]})]}):"None"]})]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Metadata"}),(0,Y.jsx)(Q,{event:o,observations:v})]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Source data"}),(0,Y.jsx)(ue,{timestamp:null===o||void 0===o?void 0:o.timestamp,assetKey:n})]}),(0,Y.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"System tags"}),(0,Y.jsx)(te.M,{event:o,collapsible:!0})]})]})},De=function(e){var t=e.partitionKey;return(0,Y.jsx)(_e,{assetKey:{path:[""]},group:{all:[],latest:null,timestamp:"0",partition:t},latestRunForPartition:null,hasLineage:!1,hasLoadingState:!0})},Se=n(15117),Ze=n(51294),Ge=function(e){var t=e.assetKey,n=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=e.liveData,a=e.dataRefreshHint,o=(0,Ee.fE)(t,i,{assetHasDefinedPartitions:!1}),p=o.xAxis,x=o.materializations,m=o.observations,h=o.loadedPartitionKeys,f=o.refetch,g=o.loading;u.useEffect((function(){i.asOf||f()}),[i.asOf,a,f]);var y=(0,Ze.L)(p,x,m,h),v=function(e){var t="time"===p?{time:(null===e||void 0===e?void 0:e.timestamp)!==i.time&&(null===e||void 0===e?void 0:e.timestamp)||""}:{partition:(null===e||void 0===e?void 0:e.partition)!==i.partition&&(null===e||void 0===e?void 0:e.partition)||""};r((0,j.Z)((0,j.Z)({},i),t))},b=y.find((function(e){return i.time?Number(e.timestamp)<=Number(i.time):!!i.partition&&e.partition===i.partition}))||y[0],z=!n&&y.some((function(e){return e.partition})),N=x.some((function(e){return e.assetLineage.length>0}));return(0,Y.jsxs)(Y.Fragment,{children:[z&&(0,Y.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:[(0,Y.jsx)(Z.pm,{children:"Asset Events"}),(0,Y.jsx)("div",{style:{margin:"-6px 0 "},children:(0,Y.jsx)(G.h,{activeItems:new Set([p]),buttons:[{id:"partition",label:"By partition"},{id:"time",label:"By timestamp"}],onClick:function(e){return r("time"===e?(0,j.Z)((0,j.Z)({},i),{},{partition:void 0,time:(null===b||void 0===b?void 0:b.timestamp)||""}):(0,j.Z)((0,j.Z)({},i),{},{partition:(null===b||void 0===b?void 0:b.partition)||"",time:void 0}))}})})]}),!n&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Ae.Z,{run:(null===s||void 0===s?void 0:s.runWhichFailedToMaterialize)||null,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),(0,Y.jsx)(Se.j,{liveData:s,border:{side:"bottom",width:1,color:c.w.KeylineGray}})]}),(0,Y.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},onKeyDown:function(e){var t={ArrowDown:1,ArrowUp:-1}[e.key];if(t&&b&&!e.isDefaultPrevented()){var n=y[y.indexOf(b)+t];n&&(e.preventDefault(),v(n))}},tabIndex:-1,children:[(0,Y.jsx)(l.x,{style:{display:"flex",flex:1,minWidth:200},flex:{direction:"column"},background:c.w.Gray50,children:g?(0,Y.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,Y.jsx)(d.$,{purpose:"section"})}):(0,Y.jsx)(fe.cJ,{xAxis:p,groups:y,focused:b,setFocused:v})}),(0,Y.jsx)(l.x,{flex:{direction:"column"},style:{flex:3,minWidth:0,overflowY:"auto"},border:{side:"left",color:c.w.KeylineGray,width:1},children:(0,Y.jsx)(w.S,{region:"event",resetErrorOnChange:[b],children:"partition"===p?b?(0,Y.jsx)(_e,{group:b,hasLineage:N,assetKey:t,latestRunForPartition:null}):(0,Y.jsx)(De,{}):null!==b&&void 0!==b&&b.latest?(0,Y.jsx)(me,{assetKey:t,event:b.latest}):(0,Y.jsx)(he,{})})})]})]})},Le=n(86741),Re=n(1497),Fe=n(27954),Te=n(54665),Je=n(54335),Ue=n(27409),$e=n(69040),qe=n(46634),Ve=function(e){var t=e.items,n=e.liveDataByNode,i=(0,p.k6)();return null===t?(0,Y.jsx)(He,{flex:{alignItems:"center",justifyContent:"center"},children:(0,Y.jsx)(d.$,{purpose:"section"})}):(0,Y.jsx)(He,{flex:{gap:4},padding:{horizontal:12},children:t.map((function(e){return(0,Y.jsx)(We,{onClick:function(t){t.stopPropagation(),i.push((0,oe.p)(e.assetKey,{view:"definition"}))},children:(0,Y.jsx)(Re.p4,{definition:e,selected:!1,liveData:n[(0,m.Wu)(e.assetKey)]})},e.id)}))})},He=(0,$.ZP)(l.x).withConfig({displayName:"AssetNodeList__Container",componentId:"sc-1ee72i3-0"})(["height:154px;overflow-x:auto;width:100%;white-space:nowrap;"]),We=$.ZP.div.withConfig({displayName:"AssetNodeList__AssetNodeWrapper",componentId:"sc-1ee72i3-1"})(["cursor:pointer;width:260px;flex-shrink:0;"]),Be=n(8078),Ye=n(62894),Qe=n(17163),Xe=n(64869),et=n(95460),tt=function(e){var t,n=e.assetNode,i=e.upstream,r=e.downstream,s=e.liveDataByNode,a=e.dependsOnSelf,o=(0,qe.U6)(n),d=o.assetMetadata,u=o.assetType,p=s[(0,m.Wu)(n.assetKey)],x=null===(t=n.configField)||void 0===t?void 0:t.configType,h=x&&"Any"!==x.key?x:null,f=(0,D.kQ)(n.repository.name,n.repository.location.name);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)($e.N,{assetKey:n.assetKey,loadedFromRepo:f,padded:!0}),(0,Y.jsxs)(l.x,{flex:{direction:"row"},style:{flex:1},children:[(0,Y.jsxs)(l.x,{style:{flex:1,minWidth:0},flex:{direction:"column"},border:{side:"right",width:1,color:c.w.KeylineGray},children:[(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Y.jsx)(Z.pm,{children:"Description"}),(0,Y.jsx)(nt,{assetNode:n,repoAddress:f})]}),(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},style:{flex:1,flexBasis:"content",flexGrow:0,minHeight:123},children:n.description?(0,Y.jsx)(Te.d,{description:n.description,maxHeight:260}):(0,Y.jsx)(Z.uT,{children:"No description provided"})}),n.opVersion&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Code version"})}),(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:(0,Y.jsx)(et.G,{children:n.opVersion})})]}),n.freshnessPolicy&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Freshness policy"})}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"flex-start"},children:[(0,Y.jsx)(Z.uT,{style:{flex:1},children:(0,Ye.jY)(n.freshnessPolicy)}),(0,Y.jsx)(Ye.vy,{liveData:p,policy:n.freshnessPolicy})]})]}),n.autoMaterializePolicy&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Auto-materialize policy"})}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"flex-start"},children:[(0,Y.jsx)(Z.uT,{style:{flex:1},children:(0,Be.r)(n.autoMaterializePolicy)}),(0,Y.jsx)(Be.W,{policy:n.autoMaterializePolicy})]})]}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Y.jsxs)(Z.pm,{children:["Upstream assets",null!==i&&void 0!==i&&i.length?" (".concat(i.length,")"):""]}),(0,Y.jsx)(I.rU,{to:"?view=lineage&lineageScope=upstream",children:(0,Y.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View upstream graph",(0,Y.jsx)(L.JO,{name:"open_in_new",color:c.w.Link})]})})]}),a&&(0,Y.jsx)(Qe.x,{}),(0,Y.jsx)(Ve,{items:i,liveDataByNode:s}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Y.jsxs)(Z.pm,{children:["Downstream assets",null!==r&&void 0!==r&&r.length?" (".concat(r.length,")"):""]}),(0,Y.jsx)(I.rU,{to:"?view=lineage&lineageScope=downstream",children:(0,Y.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View downstream graph",(0,Y.jsx)(L.JO,{name:"open_in_new",color:c.w.Link})]})})]}),(0,Y.jsx)(Ve,{items:r,liveDataByNode:s}),(0,Y.jsx)("div",{style:{flex:1}})]}),(0,Y.jsxs)(l.x,{border:{side:"vertical",width:1,color:c.w.KeylineGray},style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Required Resources"})}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[n.requiredResources.map((function(e){return(0,Y.jsxs)(Je.b1,{children:[(0,Y.jsx)(L.JO,{name:"resource",color:c.w.Gray700}),f?(0,Y.jsx)(I.rU,{to:(0,S.$U)(f,"/resources/".concat(e.resourceKey)),children:(0,Y.jsx)(Je.bZ,{children:e.resourceKey})}):(0,Y.jsx)(Je.bZ,{children:e.resourceKey})]},e.resourceKey)})),0===n.requiredResources.length&&(0,Y.jsxs)(Z.uT,{children:["No required resources to display",(0,Y.jsx)(l.x,{padding:{top:4},children:(0,Y.jsx)("a",{href:"https://docs.dagster.io/concepts/resources#using-software-defined-assets",children:"View documentation"})})]})]})]}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Config"})}),(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:h?(0,Y.jsx)(Le.L,{type:h,typesInScope:h.recursiveConfigTypes}):(0,Y.jsxs)(Z.uT,{children:["No config schema defined",(0,Y.jsx)(l.x,{padding:{top:4},children:(0,Y.jsx)("a",{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#asset-configuration",children:"View documentation"})})]})})]}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Type"})}),u&&"Any"!==u.displayName?(0,Y.jsx)(Fe.Ot,{type:u}):(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,Y.jsxs)(Z.uT,{children:["No input and output type data defined",(0,Y.jsx)(l.x,{padding:{top:4},children:(0,Y.jsx)("a",{href:"https://docs.dagster.io/concepts/types#overview",children:"View documentation"})})]})})]}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:(0,Y.jsx)(Z.pm,{children:"Metadata"})}),(0,Y.jsx)(l.x,{style:{flex:1},children:d.length>0?(0,Y.jsx)(qe.mQ,{assetMetadata:d,repoLocation:null===f||void 0===f?void 0:f.location}):(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,Y.jsxs)(Z.uT,{children:["No asset definition metadata defined",(0,Y.jsx)(l.x,{padding:{top:4},children:(0,Y.jsx)("a",{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#attaching-definition-metadata",children:"View documentation"})})]})})})]})]})]})]})},nt=function(e){var t=e.assetNode,n=e.repoAddress;return(0,Y.jsxs)(l.x,{flex:{alignItems:"baseline",gap:16,wrap:"wrap"},style:{lineHeight:0},children:[t.jobNames.filter((function(e){return!(0,m.pv)(e)})).map((function(e){return(0,Y.jsx)(Z.fv,{children:(0,Y.jsx)(F.h,{isJob:!0,showIcon:!0,pipelineName:e,pipelineHrefContext:n})},e)})),(0,Y.jsx)(Xe.d,{assetNode:t,repoAddress:n}),t.isSource&&(0,Y.jsx)(Z.YS,{style:{lineHeight:"16px",marginTop:2},children:"Source Asset"})]})},it=(0,a.Ps)(de||(de=(0,r.Z)(["\n  fragment AssetNodeDefinitionFragment on AssetNode {\n    id\n    description\n    graphName\n    opNames\n    opVersion\n    jobNames\n    autoMaterializePolicy {\n      policyType\n    }\n    freshnessPolicy {\n      maximumLagMinutes\n      cronSchedule\n      cronScheduleTimezone\n    }\n\n    partitionDefinition {\n      description\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n\n    ...AssetNodeConfigFragment\n    ...AssetNodeFragment\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"])),Ue.r,Re.zU,qe.Ws),rt=n(92578),st=n.n(rt),at=n(73765),ot=n(26756),lt=n(20876),dt=function(e){var t=e.assetNode,n=e.repoAddress,i=st()(t.jobs,(function(e){return e.schedules})),r=st()(t.jobs,(function(e){return e.sensors}));return(0,Y.jsx)(at.I,{repoAddress:n,schedules:i,sensors:r,showSwitch:!1})},ct=(0,a.Ps)(ce||(ce=(0,r.Z)(["\n  fragment AssetNodeInstigatorsFragment on AssetNode {\n    id\n    jobs {\n      id\n      name\n      schedules {\n        id\n\n        ...ScheduleSwitchFragment\n      }\n      sensors {\n        id\n\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),ot.J,lt.U),ut=n(80923),pt=n(1035),xt=n(14228),mt=n(3060),ht=n(7055),ft=n(1018),gt=n(21916),jt=n(79962),yt="lineageGraphZoomLevel",vt=function(e){var t=e.assetKey,n=e.assetGraphData,i=e.liveDataByNode,r=e.params,s=(0,m.Wu)(t),a=u.useState(null),o=(0,y.Z)(a,2),c=o[0],x=o[1],h=(0,gt.oJ)(n),f=h.layout,g=h.loading,v=u.useRef(),w=(0,p.k6)();return u.useEffect((function(){if(v.current&&f){var e=Number((0,jt.n)(yt));v.current.autocenter(!1,e),v.current.focus()}}),[v,f,s]),!f||g?(0,Y.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,Y.jsx)(d.$,{purpose:"page"})}):(0,Y.jsx)(ft.l,{ref:function(e){return v.current=e||void 0},interactor:ft.l.Interactors.PanAndZoom,graphWidth:f.width,graphHeight:f.height,onDoubleClick:function(e){var t;null===(t=v.current)||void 0===t||t.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1.2,children:function(e){var t=e.scale;return(0,Y.jsxs)(bt,{width:f.width,height:f.height,children:[v.current&&(0,Y.jsx)(wt,{scale:t}),(0,Y.jsx)(pt.i,{highlighted:c,edges:f.edges}),Object.values(f.groups).sort((function(e,t){return e.id.length-t.id.length})).map((function(e){return(0,u.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},e.bounds),{},{key:e.id}),(0,Y.jsx)(mt.l,{group:e,scale:t}))})),Object.values(f.nodes).map((function(e){var a=e.id,o=e.bounds,l=n.nodes[a],d=JSON.parse(a);return(0,u.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},o),{},{key:a,style:{overflow:"visible"},onMouseEnter:function(){return x(a)},onMouseLeave:function(){return x(null)},onClick:function(){return e={path:d},void w.push((0,oe.p)(e,(0,j.Z)((0,j.Z)({},r),{},{lineageScope:"neighbors"})));var e},onDoubleClick:function(e){var t;null===(t=v.current)||void 0===t||t.zoomToSVGBox(o,!0,1.2),e.stopPropagation()}}),l?t<xt.CZ?(0,Y.jsx)(Re.t$,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,Y.jsx)(Re.p4,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,Y.jsx)(ht.w,{assetKey:{path:d}}))}))]})}})},wt=function(e){var t=e.scale;return u.useEffect((function(){try{window.localStorage.setItem(yt,JSON.stringify(t))}catch(e){}}),[t]),(0,Y.jsx)(Y.Fragment,{})},bt=$.ZP.svg.withConfig({displayName:"AssetNodeLineageGraph__SVGContainer",componentId:"sc-q47dxd-0"})(["overflow:visible;border-radius:0;"]),zt=n(30559),Nt=function(e){var t=e.params,n=e.setParams,i=e.assetKey,r=e.liveDataByNode,s=e.assetGraphData,a=e.graphQueryItems,o=e.requestedDepth,d=u.useMemo((function(){return(0,k.BK)(a,i)}),[a,i]),p="upstream"===t.lineageScope?d.upstream:"downstream"===t.lineageScope?d.downstream:Math.max(d.upstream,d.downstream),x=Math.max(1,Math.min(p,o));return(0,Y.jsxs)(l.x,{style:{width:"100%",flex:1,minHeight:0,position:"relative"},flex:{direction:"column"},children:[(0,Y.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center",gap:12},padding:{left:24,right:12,vertical:12},border:{side:"bottom",color:c.w.KeylineGray,width:1},children:[(0,Y.jsx)(G.h,{activeItems:new Set([t.lineageScope||"neighbors"]),buttons:[{id:"neighbors",label:"Nearest Neighbors",icon:"graph_neighbors"},{id:"upstream",label:"Upstream",icon:"graph_upstream"},{id:"downstream",label:"Downstream",icon:"graph_downstream"}],onClick:function(e){return n((0,j.Z)((0,j.Z)({},t),{},{lineageScope:e,lineageDepth:void 0}))}}),(0,Y.jsx)(It,{value:x,onChange:function(e){return n((0,j.Z)((0,j.Z)({},t),{},{lineageDepth:e}))},max:p}),(0,Y.jsx)("div",{style:{flex:1}}),Object.values(s.nodes).length>1?(0,Y.jsx)(zt.XE,{intent:"none",liveDataForStale:r,scope:{all:Object.values(s.nodes).map((function(e){return e.definition}))}}):(0,Y.jsx)(ve.zx,{icon:(0,Y.jsx)(L.JO,{name:"materialization"}),disabled:!0,children:"Materialize all"})]}),x<p&&(0,Y.jsx)(Kt,{children:"Not all upstream/downstream assets shown. Increase the depth to show more."}),(0,Y.jsx)(vt,{assetKey:i,liveDataByNode:r,assetGraphData:s,params:t})]})},Kt=$.ZP.div.withConfig({displayName:"AssetNodeLineage__DepthHidesAssetsNotice",componentId:"sc-1kyddw2-0"})(["background:",";border-radius:8px;color:",";align-items:center;display:flex;padding:4px 8px;gap:4px;position:absolute;right:12px;top:70px;z-index:2;"],c.w.Gray100,c.w.Gray500),It=function(e){var t=e.value,n=e.max,i=e.onChange,r=u.useState("".concat(t)),s=(0,y.Z)(r,2),a=s[0],o=s[1];u.useEffect((function(){o("".concat(t))}),[t]);var d=function(){var e=Number(a)?Math.min(n,Number(a)):t;i(e)};return(0,Y.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:["Graph depth",(0,Y.jsxs)(ve.zH,{children:[(0,Y.jsx)(ve.zx,{disabled:t<=1,onClick:function(){return i(t-1)},icon:(0,Y.jsx)(L.JO,{name:"subtract"})}),(0,Y.jsx)(ut.oi,{min:1,max:n,disabled:n<=1,inputMode:"numeric",style:{width:40,marginLeft:-1,textAlign:"center",height:32,padding:6,borderRadius:0,boxShadow:"none",border:"1px solid ".concat(c.w.Gray300)},value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return"Enter"===e.key||"Return"===e.key?d():void 0},onBlur:function(){return d()}},t),(0,Y.jsx)(ve.zx,{disabled:t>=n,onClick:function(){return i(t+1)},icon:(0,Y.jsx)(L.JO,{name:"add"})}),(0,Y.jsx)(ve.zx,{disabled:t>=n,onClick:function(){return i(n)},children:"All"})]})]})},Mt=n(8236),Ct=n.n(Mt),kt=n(23662),At=n.n(kt),Et=n(28832),Ot=n(97186),Pt=n(18517),_t=n(99772),Dt=n(87519),St=n(17914),Zt=function(e){var t=e.counts,n=e.value,i=e.onChange,r=e.allowed,s=e.disabled;return(0,Y.jsx)(l.x,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:r.map((function(e){return(0,Y.jsx)(St.X,{"data-testid":(0,Pt.N)("partition-status-".concat(e,"-checkbox")),disabled:s,style:{marginBottom:0,marginLeft:10,minWidth:200},checked:n.includes(e)&&!s,label:"".concat((0,Dt.be)(e)," (").concat(t[e],")"),onChange:function(){return i(n.includes(e)?n.filter((function(t){return t!==e})):[].concat((0,ie.Z)(n),[e]))}},e)}))})},Gt=n(30557),Lt=n(45129),Rt=n(52072);var Ft=[Dt.yo.MISSING,Dt.yo.MATERIALIZING,Dt.yo.MATERIALIZED,Dt.yo.FAILED].sort(),Tt=function(e){var t=e.assetKey,n=e.assetPartitionDimensions,i=e.params,r=e.setParams,s=e.dataRefreshHint,a=(0,Rt.mR)([t],s)[0],o=(0,Lt.q)({knownDimensionNames:n,modifyQueryString:!0,assetHealth:a,shouldReadPartitionQueryStringParam:!1}),p=(0,y.Z)(o,2),x=p[0],m=p[1],h=u.useState([]),f=(0,y.Z)(h,2),g=f[0],v=f[1],w=(0,P.q)({defaults:{status:(0,ie.Z)(Ft).sort().join(",")},encode:function(e){return{status:(0,ie.Z)(e).sort().join(",")}},decode:function(e){return(e.status||"").split(",").filter((function(e){return Ft.includes(e)}))}}),b=(0,y.Z)(w,2),z=b[0],N=b[1],K=x.findIndex((function(e){return(0,Gt.nv)(e.dimension)})),I=function(e){var t=e.params,n=e.setParams,i=e.dimensionCount,r=e.defaultKeyInDimension,s=u.useMemo((function(){return t.partition?i>1?t.partition.split("|").filter(Boolean):[t.partition]:[]}),[i,t.partition]);return[s,function(e,i){for(var a=[],o=0;o<e;o++)a.push(s[o]||r(o));i&&a.push(i),n((0,j.Z)((0,j.Z)({},t),{},{partition:a.join("|")}))}]}({params:i,setParams:r,dimensionCount:x.length,defaultKeyInDimension:function(e){return E(e)[0]}}),M=(0,y.Z)(I,2),C=M[0],k=M[1],A=u.useMemo((function(){return a?x.map((function(e,t){return a.rangesForSingleDimension(t,1===t&&C[0]?[(0,Rt.mC)(C[0],x[0].dimension)]:-1!==K&&t!==K?x[K].selectedRanges:void 0)})):x.map((function(){return[]}))}),[a,x,K,C]),E=function(e){if(!x[e])return[];if(-1!==K&&0===x[K].selectedRanges.length)return[];var t=x[e],n=t.dimension,i=t.selectedRanges,r=n.partitionKeys,s=g[e]||Jt(x[e].dimension.type),a=function(){return At()(i.flatMap((function(e){var t=e.start,n=e.end;return r.slice(t.idx,n.idx+1)})))};if(Ct()(Ft,z)){var o=a();return 1===s?o:o.reverse()}var l,d,c=(0,Rt.tP)(A[e],i),u=At()((l=z.filter((function(e){return e!==Dt.yo.MISSING})),c.flatMap((function(e){return l.some((function(t){return e.value.includes(t)}))?r.slice(e.start.idx,e.end.idx+1):[]}))));if(z.includes(Dt.yo.MISSING)){var p=a();d=r.filter((function(e,t){return p.includes(e)&&(u.includes(e)||function(e){return!c.some((function(t){return t.start.idx<=e&&t.end.idx>=e&&!t.value.includes(Dt.yo.MISSING)}))}(t))}))}else d=u;return 1===s?d:d.reverse()},O=(0,Rt.CA)(a,x),_=z.reduce((function(e,t){return e+O[t]}),0);return(0,Y.jsxs)(Y.Fragment,{children:[-1!==K&&(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Ot.x,{partitionKeys:x[K].dimension.partitionKeys,health:{ranges:A[K]},selected:x[K].selectedKeys,setSelected:function(e){return m(x.map((function(t,n){return n===K?(0,j.Z)((0,j.Z)({},t),{},{selectedKeys:e}):t})))},dimensionType:x[K].dimension.type})}),(0,Y.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between"},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,Y.jsxs)("div",{"data-testid":(0,Pt.N)("partitions-selected"),children:[_.toLocaleString()," Partitions Selected"]}),(0,Y.jsx)(Zt,{counts:O,allowed:Ft,value:z,onChange:N})]}),(0,Y.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},tabIndex:-1,children:[x.map((function(e,t){return(0,Y.jsxs)(l.x,{style:{display:"flex",flex:1,paddingRight:1,minWidth:200},flex:{direction:"column"},border:{side:"right",color:c.w.KeylineGray,width:1},background:c.w.Gray50,"data-testid":(0,Pt.N)("partitions-".concat(e.dimension.name)),children:[(0,Y.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},background:c.w.White,border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{horizontal:24,vertical:8},children:[(0,Y.jsx)("div",{children:"default"!==e.dimension.name&&(0,Y.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,Y.jsx)(L.JO,{name:"partition"}),(0,Y.jsx)(Z.pm,{children:e.dimension.name})]})}),(0,Y.jsx)(Et.Kz,{style:{marginRight:"-16px"},"data-testid":"sort-".concat(t),onClick:function(){v((function(e){var n=(0,ie.Z)(e);return n[t]?n[t]=-1===n[t]?1:-1:n[t]=-1*Jt(x[t].dimension.type),n}))},children:(0,Y.jsx)(L.JO,{name:"sort_by_alpha",color:c.w.Gray400})})]}),a?(0,Y.jsx)(_t.k,{partitions:E(t),statusForPartition:function(n){if(1===t&&C[0])return[a.stateForKey([C[0],n])];var i=e.dimension.partitionKeys.indexOf(n);return(0,Rt.h1)(A[t],i).filter((function(e){return z.includes(e)}))},focusedDimensionKey:C[t],setFocusedDimensionKey:function(e){k(t,e)}}):(0,Y.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,Y.jsx)(d.$,{purpose:"section"})})]},e.dimension.name)})),(0,Y.jsx)(l.x,{style:{flex:3,minWidth:0,overflowY:"auto"},flex:{direction:"column"},children:i.partition&&C.length===x.length?(0,Y.jsx)(Oe,{assetKey:t,partitionKey:i.partition}):(0,Y.jsx)(De,{})})]})]})};function Jt(e){return e===ge.iVC.TIME_WINDOW?-1:1}var Ut,$t,qt=n(94403),Vt=function(e){var t=e.assetKey,n=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=(0,Ee.fE)(t,i,{assetHasDefinedPartitions:n}),a=s.materializations,o=s.observations,p=s.loadedPartitionKeys,x=s.loading,m=s.xAxis,h=(0,Ze.L)(m,a,o,p),f=u.useMemo((function(){return new Set([m])}),[m]);return x?(0,Y.jsxs)(l.x,{children:[(0,Y.jsx)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:(0,Y.jsx)(Z.pm,{children:"Asset plots"})}),(0,Y.jsx)(l.x,{padding:{vertical:48},children:(0,Y.jsx)(d.$,{purpose:"page"})})]}):(0,Y.jsxs)(l.x,{children:[(0,Y.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:[(0,Y.jsx)(Z.pm,{children:"Asset plots"}),n?(0,Y.jsx)("div",{style:{margin:"-6px 0 "},children:(0,Y.jsx)(G.h,{activeItems:f,buttons:[{id:"partition",label:"Partitions",icon:"partition"},{id:"time",label:"Events",icon:"materialization"}],onClick:function(e){return r("time"===e?(0,j.Z)((0,j.Z)({},i),{},{partition:void 0,time:""}):(0,j.Z)((0,j.Z)({},i),{},{partition:"",time:void 0}))}})}):null]}),(0,Y.jsx)(qt.l,{xAxis:m,groups:h})]})},Ht=n(86562),Wt=n(21117),Bt=n.n(Wt),Yt=n(92014),Qt=n(4774),Xt=n(46856),en=n(25960);V().extend(Bt());var tn=function(e){var t,n=e.assetKey,i=function(e){var t=e.assetKey;return(0,Qt.l)({nextCursorForResult:function(e){var t,n;if("AutoMaterializeAssetEvaluationRecords"===(null===(t=e.autoMaterializeAssetEvaluationsOrError)||void 0===t?void 0:t.__typename))return null===(n=e.autoMaterializeAssetEvaluationsOrError.records[nn-1])||void 0===n?void 0:n.evaluationId.toString()},getResultArray:function(e){var t;return"AutoMaterializeAssetEvaluationRecords"===(null===e||void 0===e||null===(t=e.autoMaterializeAssetEvaluationsOrError)||void 0===t?void 0:t.__typename)?e.autoMaterializeAssetEvaluationsOrError.records:[]},variables:{assetKey:t},query:xn,pageSize:nn})}({assetKey:n}),r=i.queryResult,s=i.paginationProps;(0,M.C4)(r,M.dT);var a=u.useMemo((function(){var e,t,n;return"AutoMaterializeAssetEvaluationRecords"===(null===(e=r.data)||void 0===e||null===(t=e.autoMaterializeAssetEvaluationsOrError)||void 0===t?void 0:t.__typename)?{evaluations:null===(n=r.data)||void 0===n?void 0:n.autoMaterializeAssetEvaluationsOrError.records,currentEvaluationId:r.data.autoMaterializeAssetEvaluationsOrError.currentEvaluationId}:{evaluations:[],currentEvaluationId:null}}),[null===(t=r.data)||void 0===t?void 0:t.autoMaterializeAssetEvaluationsOrError]),o=a.evaluations,d=a.currentEvaluationId,p=!s.hasPrevCursor,x=!s.hasNextCursor,m=r.loading&&!r.data,h=u.useMemo((function(){return function(e){var t,n=e.isLoading,i=e.currentEvaluationId,r=e.evaluations,s=e.isFirstPage,a=e.isLastPage;if(n||!i)return[];var o=[],l=s?i:(null===(t=r[0])||void 0===t?void 0:t.evaluationId)||1;if(r.forEach((function(e,t){var n=r[t-1];e.evaluationId!==l&&o.push({__typename:"no_conditions_met",evaluationId:l,amount:l-e.evaluationId,endTimestamp:null!==n&&void 0!==n&&n.timestamp?(null===n||void 0===n?void 0:n.timestamp)-60:"now",startTimestamp:e.timestamp+60}),o.push(e),l=e.evaluationId-1})),a&&l>0){var d=r[r.length-1];o.push({__typename:"no_conditions_met",evaluationId:l,amount:l-0,endTimestamp:null!==d&&void 0!==d&&d.timestamp?(null===d||void 0===d?void 0:d.timestamp)-60:"now",startTimestamp:0})}return o}({currentEvaluationId:d,evaluations:o,isFirstPage:p,isLastPage:x,isLoading:m})}),[d,o,p,x,m]),f=(0,P.q)({queryKey:"evaluation",decode:function(e){var t=parseInt(e.evaluation);return isNaN(t)?void 0:t}}),g=(0,y.Z)(f,2),j=g[0],v=g[1],w=u.useMemo((function(){return j?h.find((function(e){return e.evaluationId===j})):h[0]}),[j,h]),b=u.useState(1),z=(0,y.Z)(b,2),N=z[0],K=z[1];return(0,Y.jsxs)(gn,{style:{flex:1,minHeight:0,color:c.w.Gray700},flex:{direction:"row"},children:[(0,Y.jsxs)(l.x,{flex:{direction:"column",grow:1},border:{side:"right",width:1,color:c.w.KeylineGray},children:[(0,Y.jsx)(pn,{flex:{justifyContent:"space-between"},padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Evaluation History"})}),(0,Y.jsxs)(l.x,{flex:{direction:"row"},style:{flex:1,minHeight:0},children:[(0,Y.jsx)(l.x,{border:{side:"right",color:c.w.KeylineGray,width:1},flex:{grow:0,direction:"column"},style:{width:"296px"},children:(0,Y.jsx)(rn,{evaluations:o,evaluationsIncludingEmpty:h,paginationProps:s,onSelectEvaluation:function(e){v(e.evaluationId)},selectedEvaluation:w})}),(0,Y.jsx)(l.x,{flex:{grow:1},style:{minHeight:0},children:(0,Y.jsx)(dn,{assetKey:n,maxMaterializationsPerMinute:N,selectedEvaluation:w},(null===w||void 0===w?void 0:w.evaluationId)||"")})]})]}),(0,Y.jsx)(l.x,{children:(0,Y.jsx)(an,{assetKey:n,setMaxMaterializationsPerMinute:K})})]})};var nn=30;function rn(e){var t=e.evaluations,n=e.evaluationsIncludingEmpty,i=e.paginationProps,r=e.onSelectEvaluation,s=e.selectedEvaluation;return(0,Y.jsxs)(l.x,{flex:{direction:"column",grow:1},style:{overflowY:"auto"},children:[(0,Y.jsx)(l.x,{style:{flex:1,minHeight:0,overflowY:"auto"},flex:{grow:1,direction:"column"},children:n.map((function(e){var t=(null===s||void 0===s?void 0:s.evaluationId)===e.evaluationId;return"no_conditions_met"===e.__typename?(0,Y.jsx)(fn,{flex:{direction:"column"},onClick:function(){r(e)},$selected:t,children:(0,Y.jsxs)(l.x,{padding:{left:16},border:{side:"left",width:1,color:c.w.KeylineGray},flex:{direction:"column",gap:4},style:{width:"100%"},children:[(0,Y.jsx)("div",{children:"No materialization conditions met "}),(0,Y.jsx)(Z.YS,{children:e.startTimestamp?1===e.amount?"1 evaluation":"".concat((0,en.J)(e.amount)," evaluations"):(0,Y.jsx)(Y.Fragment,{children:"now"===e.endTimestamp?"Before now":(0,Y.jsxs)(Y.Fragment,{children:["Before ",(0,Y.jsx)(Xt.v,{timestamp:e.endTimestamp})]})})})]})},"skip-".concat(e.endTimestamp)):e.numSkipped?(0,Y.jsx)(fn,{onClick:function(){r(e)},$selected:t,children:(0,Y.jsxs)(l.x,{padding:{left:16},border:{side:"left",width:1,color:c.w.KeylineGray},flex:{direction:"column",gap:4},style:{width:"100%"},children:[(0,Y.jsxs)("div",{style:{color:c.w.Yellow700},children:[(0,en.J)(e.numSkipped)," skipped"]}),(0,Y.jsx)(Z.YS,{children:(0,Y.jsx)(Xt.v,{timestamp:e.timestamp})})]})},"skip-".concat(e.timestamp)):(0,Y.jsx)(fn,{onClick:function(){r(e)},$selected:t,children:(0,Y.jsxs)(l.x,{flex:{direction:"row",gap:8},style:{color:c.w.Blue700,marginLeft:"-8px"},children:[(0,Y.jsx)(L.JO,{name:"done",color:c.w.Blue700}),(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:4},style:{width:"100%"},children:[(0,Y.jsxs)("div",{children:[(0,en.J)(e.numRequested)," requested"]}),(0,Y.jsx)(Z.YS,{children:(0,Y.jsx)(Xt.v,{timestamp:e.timestamp})})]})]})},e.evaluationId)}))}),t.length?(0,Y.jsx)(hn,{children:(0,Y.jsx)(Ht.b$,(0,j.Z)({},i))}):null]})}var sn,an=function(e){var t=e.assetKey,n=e.setMaxMaterializationsPerMinute,i=(0,s.a)(mn,{variables:{assetKey:t}});(0,M.C4)(i,M.dT);var r=i.data,a=i.error;return u.useEffect((function(){if("AssetNode"===(null===r||void 0===r?void 0:r.assetNodeOrError.__typename)){var e,t=null===(e=r.assetNodeOrError.autoMaterializePolicy)||void 0===e?void 0:e.maxMaterializationsPerMinute;"number"===typeof t&&n(t)}}),[r,n]),(0,Y.jsxs)(l.x,{flex:{direction:"column"},style:{width:"294px"},children:[(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(Z.pm,{children:"Overview"})}),a?(0,Y.jsx)(l.x,{padding:24,children:(0,Y.jsx)(Yt.Vx,{children:JSON.stringify(a)})}):r?"AssetNotFoundError"===r.assetNodeOrError.__typename?(0,Y.jsx)(p.l_,{to:"/assets"}):(0,Y.jsxs)(Y.Fragment,{children:[r.assetNodeOrError.autoMaterializePolicy?(0,Y.jsx)(on,{title:(0,Y.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},children:["Auto-materialize Policy",(0,Y.jsx)(Be.W,{policy:r.assetNodeOrError.autoMaterializePolicy})]}),children:(0,Y.jsx)(Z.uT,{style:{flex:1},children:(0,Be.r)(r.assetNodeOrError.autoMaterializePolicy)})}):(0,Y.jsx)(b.t,{title:"No Automaterialize policy found",shrinkable:!0,description:(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,Y.jsx)("div",{children:"An AutoMaterializePolicy specifies how Dagster should attempt to keep an asset up-to-date."}),(0,Y.jsx)("div",{children:(0,Y.jsx)(ve.fr,{href:"https://docs.dagster.io/_apidocs/assets#dagster.AutoMaterializePolicy",target:"_blank",rel:"noreferrer",icon:(0,Y.jsx)(L.JO,{name:"open_in_new"}),children:"View documentation"})})]})}),r.assetNodeOrError.freshnessPolicy?(0,Y.jsxs)(on,{title:"Freshness policy",children:[(0,Y.jsx)(ln,{title:"Maximum lag minutes",value:r.assetNodeOrError.freshnessPolicy.maximumLagMinutes}),(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:8},children:["This asset will be considered late if it is not materialized within"," ",r.assetNodeOrError.freshnessPolicy.maximumLagMinutes," minutes of it\u2019s upstream dependencies.",(0,Y.jsx)(I.rU,{to:(0,oe.p)(t,{view:"lineage",lineageScope:"upstream"}),children:"View upstream assets"})]})]}):(0,Y.jsx)(b.t,{title:"No freshness policy found",shrinkable:!0,description:(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,Y.jsx)("div",{children:"A FreshnessPolicy specifies how up-to-date you want a given asset to be."}),(0,Y.jsx)("div",{children:(0,Y.jsx)(ve.fr,{href:"https://docs.dagster.io/_apidocs/assets#dagster.FreshnessPolicy",target:"_blank",rel:"noreferrer",icon:(0,Y.jsx)(L.JO,{name:"open_in_new"}),children:"View documentation"})})]})})]}):(0,Y.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},padding:{vertical:24},children:(0,Y.jsx)(d.$,{purpose:"section"})})]})},on=function(e){var t=e.title,n=e.children;return(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:12},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:12,horizontal:16},children:[(0,Y.jsx)(Z.pm,{children:t}),n]})},ln=function(e){var t=e.title,n=e.value;return(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:2},children:[(0,Y.jsx)(pn,{flex:{gap:6},children:t}),n]})},dn=function(e){var t,n=e.assetKey,i=e.selectedEvaluation,r=e.maxMaterializationsPerMinute,a=(0,s.a)(xn,{variables:{assetKey:n,cursor:null!==i&&void 0!==i&&i.evaluationId?(i.evaluationId+1).toString():void 0,limit:2}}),o=a.data,p=a.loading,x=a.error,m=u.useMemo((function(){var e,t={};return null===i||void 0===i||null===(e=i.conditions)||void 0===e||e.forEach((function(e){switch(e.__typename){case"DownstreamFreshnessAutoMaterializeCondition":t.requiredToMeetADownstreamFreshnessPolicy=!0;break;case"FreshnessAutoMaterializeCondition":t.requiredToMeetAFreshnessPolicy=!0;break;case"MissingAutoMaterializeCondition":t.materializationIsMissing=!0;break;case"ParentMaterializedAutoMaterializeCondition":t.upstreamDataHasChangedSinceLatestMaterialization=!0;break;case"ParentOutdatedAutoMaterializeCondition":t.waitingOnUpstreamData=!0;break;case"MaxMaterializationsExceededAutoMaterializeCondition":t.exceedsMaxMaterializationsPerMinute=!0;break;default:console.error("Unexpected condition",e.__typename)}})),t}),[i]);return p?(0,Y.jsx)(l.x,{flex:{direction:"column",grow:1},children:(0,Y.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},padding:{vertical:24},children:(0,Y.jsx)(d.$,{purpose:"section"})})}):x?(0,Y.jsx)(l.x,{flex:{direction:"column",grow:1},children:(0,Y.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},padding:24,children:(0,Y.jsx)(Yt.Vx,{children:JSON.stringify(x)})})}):"AutoMaterializeAssetEvaluationNeedsMigrationError"===(null===o||void 0===o||null===(t=o.autoMaterializeAssetEvaluationsOrError)||void 0===t?void 0:t.__typename)?(0,Y.jsx)(l.x,{flex:{direction:"column",grow:1},children:(0,Y.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},padding:{vertical:24},children:(0,Y.jsx)(b.t,{icon:"error",title:"Error",description:o.autoMaterializeAssetEvaluationsOrError.message})})}):(0,Y.jsxs)(l.x,{flex:{direction:"column",grow:1},children:[(0,Y.jsxs)(l.x,{padding:{vertical:8,right:24,left:48},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between"},children:[(0,Y.jsx)(Z.pm,{children:"Result"}),(0,Y.jsx)(l.x,{children:null!==i&&void 0!==i&&i.numSkipped||null!==i&&void 0!==i&&i.numDiscarded?(0,Y.jsx)(K.V,{intent:"warning",children:"Skipped"}):(0,Y.jsx)(Y.Fragment,{children:null!==i&&void 0!==i&&i.numRequested?(0,Y.jsxs)(K.V,{intent:"primary",children:[null===i||void 0===i?void 0:i.numRequested," run",1===(null===i||void 0===i?void 0:i.numRequested)?"":"s"," requested"]}):(0,Y.jsx)(K.V,{intent:"none",children:"No materialization conditions met"})})})]}),(0,Y.jsx)(cn,{header:"Materialization conditions met",children:(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,Y.jsx)(un,{text:"Materialization is missing",met:!!m.materializationIsMissing}),(0,Y.jsx)(un,{text:"Upstream data has changed since latest materialization",met:!!m.upstreamDataHasChangedSinceLatestMaterialization}),(0,Y.jsx)(un,{text:"Required to meet this asset's freshness policy",met:!!m.requiredToMeetAFreshnessPolicy}),(0,Y.jsx)(un,{text:"Required to meet a downstream freshness policy",met:!!m.requiredToMeetADownstreamFreshnessPolicy})]})}),(0,Y.jsx)(cn,{header:"Skip conditions met",children:(0,Y.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,Y.jsx)(un,{text:"Waiting on upstream data",met:!!m.waitingOnUpstreamData,skip:!0}),(0,Y.jsx)(un,{text:"Exceeds ".concat(r," materializations per minute"),met:!!m.exceedsMaxMaterializationsPerMinute,skip:!0})]})})]})},cn=function(e){var t=e.header,n=e.headerRightSide,i=e.children,r=u.useState(!1),s=(0,y.Z)(r,2),a=s[0],o=s[1];return(0,Y.jsxs)(l.x,{flex:{direction:"column"},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,Y.jsxs)(pn,{flex:{justifyContent:"space-between",gap:12,grow:1},padding:{vertical:8,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,Y.jsxs)(pn,{flex:{gap:8,grow:1},onClick:function(){o(!a)},style:{cursor:"pointer",outline:"none"},tabIndex:0,children:[(0,Y.jsx)(L.JO,{name:"arrow_drop_down",style:{transform:a?"rotate(-90deg)":"rotate(0deg)"}}),(0,Y.jsx)(Z.pm,{children:t})]}),n]}),a?null:(0,Y.jsx)(l.x,{padding:{vertical:12,horizontal:24},children:i})]})},un=function(e){var t=e.text,n=e.met,i=e.skip,r=void 0!==i&&i?c.w.Yellow700:c.w.Green700;return(0,Y.jsxs)(pn,{flex:{justifyContent:"space-between"},children:[(0,Y.jsxs)(pn,{flex:{gap:8},children:[(0,Y.jsx)(L.JO,{name:n?"done":"close",color:n?r:c.w.Gray400}),(0,Y.jsx)("div",{style:{color:n?r:void 0},children:t})]}),(0,Y.jsx)("div",{})]})},pn=u.forwardRef((function(e,t){return(0,Y.jsx)(l.x,(0,j.Z)((0,j.Z)({},e),{},{ref:t,flex:(0,j.Z)({direction:"row",alignItems:"center"},e.flex||{})}))})),xn=(0,a.Ps)(Ut||(Ut=(0,r.Z)(["\n  query GetEvaluationsQuery($assetKey: AssetKeyInput!, $limit: Int!, $cursor: String) {\n    autoMaterializeAssetEvaluationsOrError(assetKey: $assetKey, limit: $limit, cursor: $cursor) {\n      ... on AutoMaterializeAssetEvaluationRecords {\n        currentEvaluationId\n        records {\n          id\n          evaluationId\n          numRequested\n          numSkipped\n          numDiscarded\n          timestamp\n          conditions {\n            ... on AutoMaterializeConditionWithDecisionType {\n              decisionType\n            }\n          }\n        }\n      }\n      ... on AutoMaterializeAssetEvaluationNeedsMigrationError {\n        message\n      }\n    }\n  }\n"]))),mn=(0,a.Ps)($t||($t=(0,r.Z)(["\n  query GetPolicyInfoQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        freshnessPolicy {\n          maximumLagMinutes\n          cronSchedule\n          cronScheduleTimezone\n        }\n        autoMaterializePolicy {\n          policyType\n          maxMaterializationsPerMinute\n        }\n      }\n    }\n  }\n"]))),hn=$.ZP.div.withConfig({displayName:"AssetAutomaterializePolicyPage__PaginationWrapper",componentId:"sc-14kbp9j-0"})(["position:sticky;bottom:0;background:",";border-right:1px solid ",";box-shadow:inset 0 1px ",";margin-top:-1px;padding-bottom:16px;padding-top:16px;> *{margin-top:0;}"],c.w.White,c.w.KeylineGray,c.w.KeylineGray),fn=(0,$.ZP)(pn).withConfig({displayName:"AssetAutomaterializePolicyPage__EvaluationRow",componentId:"sc-14kbp9j-1"})(["cursor:pointer;&:hover{background:",";}&,&:hover{"," width:295px;}padding:8px 24px;border-bottom:1px solid ",";"],c.w.Gray10,(function(e){return e.$selected?"\n    background: ".concat(c.w.Blue50,";\n  "):null}),c.w.KeylineGray),gn=(0,$.ZP)(l.x).withConfig({displayName:"AssetAutomaterializePolicyPage__AutomaterializePage",componentId:"sc-14kbp9j-2"})(["a span{white-space:normal;}"]),jn=n(99304),yn=n(77647),vn=function(e){var t,n,i=e.assetKey,r=(0,P.q)({}),s=(0,y.Z)(r,2),a=s[0],o=s[1],c=Nn(i),p=c.definition,x=c.definitionQueryResult,h=c.lastMaterialization,f=null!==p&&void 0!==p&&p.partitionDefinition?"partitions":"events",b=a.view||f,z=function(e,t){var n=(0,m.Je)(e);if("definition"===t.view)return{query:'+"'.concat(n,'"+'),requestedDepth:1};if("lineage"===t.view){var i="neighbors"===t.lineageScope?2:5,r=Number(t.lineageDepth)||i,s="+".repeat(r);return{query:"lineage"===t.view&&"upstream"===t.lineageScope?"".concat(s,'"').concat(n,'"'):"lineage"===t.view&&"downstream"===t.lineageScope?'"'.concat(n,'"').concat(s):"".concat(s,'"').concat(n,'"').concat(s),requestedDepth:r}}return{query:'"'.concat(n,'"'),requestedDepth:0}}(i,a),N=(0,k.uc)(z.query,{hideEdgesToNodesOutsideQuery:!0}),K=function(e,t){var n=(0,m.Wu)(t);return u.useMemo((function(){return e?{upstream:Object.values(e.nodes).filter((function(t){var i;return null===(i=e.upstream[n])||void 0===i?void 0:i[(0,m.Wu)(t.assetKey)]})).map((function(e){return e.definition})),downstream:Object.values(e.nodes).filter((function(t){var i;return null===(i=e.downstream[n])||void 0===i?void 0:i[(0,m.Wu)(t.assetKey)]})).map((function(e){return e.definition}))}:{upstream:null,downstream:null}}),[e,n])}(N.assetGraphData,i),I=K.upstream,C=K.downstream,E=null===(t=N.assetGraphData)||void 0===t?void 0:t.nodes[(0,m.Wu)(i)],O=(0,A.le)(N.graphAssetKeys),_=O.liveDataRefreshState,D=O.liveDataByNode,S=D[(0,m.Wu)(i)],Z=null===(n=(null===S||void 0===S?void 0:S.lastMaterialization)||h)||void 0===n?void 0:n.timestamp,G=!a.asOf||Number(Z)<=Number(a.asOf),L=S?(0,Rt.em)(S):null===h||void 0===h?void 0:h.timestamp,R=(0,M.V5)((0,M.C4)(x,M.dT),_);return(0,Y.jsxs)(l.x,{flex:{direction:"column",grow:1},style:{height:"100%",width:"100%",overflowY:"auto"},children:[(0,Y.jsx)(g.K,{assetKey:i,tags:(0,Y.jsx)(Mn,{definition:p,liveData:S,onShowUpstream:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"lineage",lineageScope:"upstream"}))}}),tabs:(0,Y.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,Y.jsxs)(v.mQ,{size:"large",selectedTabId:b,children:[(null===p||void 0===p?void 0:p.partitionDefinition)&&(0,Y.jsx)(v.OK,{id:"partitions",title:"Partitions",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"partitions"}))}}),(0,Y.jsx)(v.OK,{id:"events",title:"Events",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"events",partition:void 0}))}}),(0,Y.jsx)(v.OK,{id:"plots",title:"Plots",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"plots"}))}}),(0,Y.jsx)(v.OK,{id:"definition",title:"Definition",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"definition"}))},disabled:!p}),(0,Y.jsx)(v.OK,{id:"lineage",title:"Lineage",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"lineage"}))},disabled:!p}),null!==p&&void 0!==p&&p.autoMaterializePolicy?(0,Y.jsx)(v.OK,{id:"auto-materialize-history",title:"Auto-materialize history",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"auto-materialize-history"}))},disabled:!p}):null]}),R&&(0,Y.jsx)(l.x,{padding:{bottom:8},children:(0,Y.jsx)(M.xi,{refreshState:R})})]}),right:(0,Y.jsx)(l.x,{style:{margin:"-4px 0"},children:p&&p.isObservable?(0,Y.jsx)(yn.y,{intent:"primary",scope:{all:[p],skipAllTerm:!0}}):p&&p.jobNames.length>0&&I?(0,Y.jsx)(zt.XE,{scope:{all:[p]}}):void 0})}),!G&&(0,Y.jsx)(In,{asOf:a.asOf,onClick:function(){return o({asOf:void 0,time:a.asOf})},hasDefinition:!!p}),(0,Y.jsx)(w.S,{region:"page",resetErrorOnChange:[i,a],children:"definition"===b?x.loading&&!x.previousData?(0,Y.jsx)(wn,{}):p?(0,Y.jsx)(tt,{assetNode:p,upstream:I,downstream:C,dependsOnSelf:!!E&&(0,m.Pz)(E),liveDataByNode:D}):(0,Y.jsx)(bn,{}):"lineage"===b?N.assetGraphData?(0,Y.jsx)(Nt,{params:a,setParams:o,assetKey:i,liveDataByNode:D,requestedDepth:z.requestedDepth,assetGraphData:N.assetGraphData,graphQueryItems:N.graphQueryItems}):(0,Y.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,Y.jsx)(d.$,{purpose:"page"})}):"partitions"===b?x.loading&&!x.previousData?(0,Y.jsx)(wn,{}):(0,Y.jsx)(Tt,{assetKey:i,assetPartitionDimensions:null===p||void 0===p?void 0:p.partitionKeysByDimension.map((function(e){return e.name})),dataRefreshHint:L,params:a,paramsTimeWindowOnly:!!a.asOf,setParams:o}):"events"===b?x.loading&&!x.previousData?(0,Y.jsx)(wn,{}):(0,Y.jsx)(Ge,{assetKey:i,assetHasDefinedPartitions:!(null===p||void 0===p||!p.partitionDefinition),dataRefreshHint:L,params:a,paramsTimeWindowOnly:!!a.asOf,setParams:o,liveData:p?D[(0,m.Wu)(p.assetKey)]:void 0}):"plots"===b?x.loading&&!x.previousData?(0,Y.jsx)(wn,{}):(0,Y.jsx)(Vt,{assetKey:i,assetHasDefinedPartitions:!(null===p||void 0===p||!p.partitionDefinition),params:a,setParams:o}):"auto-materialize-history"===b?x.loading&&!x.previousData?(0,Y.jsx)(wn,{}):(0,Y.jsx)(tn,{assetKey:i}):(0,Y.jsx)("span",{})})]})},wn=function(){return(0,Y.jsx)(l.x,{style:{height:390},flex:{direction:"row",justifyContent:"center",alignItems:"center"},children:(0,Y.jsx)(d.$,{purpose:"page"})})},bn=function(){return(0,Y.jsx)(l.x,{padding:{vertical:32},children:(0,Y.jsx)(b.t,{title:"No definition",description:"This asset doesn't have a software definition in any of your code locations.",icon:"materialization"})})};var zn,Nn=function(e){var t=(0,s.a)(Kn,{variables:{assetKey:{path:e.path}},notifyOnNetworkStatusChange:!0}),n=(t.data||t.previousData||{}).assetOrError,i=n&&"Asset"===n.__typename?n:null;return{definitionQueryResult:t,definition:(null===i||void 0===i?void 0:i.definition)||null,lastMaterialization:null===i||void 0===i?void 0:i.assetMaterializations[0]}},Kn=(0,a.Ps)(sn||(sn=(0,r.Z)(["\n  query AssetViewDefinitionQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetMaterializations(limit: 1) {\n          timestamp\n        }\n        definition {\n          id\n          ...AssetViewDefinitionNode\n        }\n      }\n    }\n  }\n\n  fragment AssetViewDefinitionNode on AssetNode {\n    id\n    groupName\n    partitionDefinition {\n      description\n    }\n    partitionKeysByDimension {\n      name\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n\n    ...AssetNodeInstigatorsFragment\n    ...AssetNodeDefinitionFragment\n    ...UnderlyingOpsAssetNodeFragment\n  }\n\n  ","\n  ","\n  ","\n"])),ct,it,Xe.D),In=function(e){var t=e.asOf,n=e.onClick,i=e.hasDefinition;return(0,Y.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Y.jsx)(z.b,{intent:"info",title:(0,Y.jsxs)("span",{children:["This is a historical view of materializations as of"," ",(0,Y.jsx)("span",{style:{fontWeight:600},children:(0,Y.jsx)(C.E,{timestamp:{ms:Number(t)},timeFormat:{showSeconds:!0,showTimezone:!0}})}),"."]}),description:(0,Y.jsx)(N.Z,{onClick:n,underline:"always",children:i?"Show definition and latest materializations":"Show latest materializations"})})})},Mn=function(e){var t=e.definition,n=e.liveData,i=e.onShowUpstream,r=t?(0,D.kQ)(t.repository.name,t.repository.location.name):null;return(0,Y.jsxs)(Y.Fragment,{children:[t&&r?(0,Y.jsxs)(K.V,{icon:"asset",children:["Asset in ",(0,Y.jsx)(_.b,{repoAddress:r})]}):(0,Y.jsx)(K.V,{icon:"asset_non_sda",children:"Asset"}),t&&r&&(0,Y.jsx)(dt,{assetNode:t,repoAddress:r}),t&&r&&t.groupName&&(0,Y.jsx)(K.V,{icon:"asset_group",children:(0,Y.jsx)(I.rU,{to:(0,S.$U)(r,"/asset-groups/".concat(t.groupName)),children:t.groupName})}),t&&t.autoMaterializePolicy&&(0,Y.jsx)(jn.mM,{}),t&&t.freshnessPolicy&&(0,Y.jsx)(Ye.vy,{liveData:n,policy:t.freshnessPolicy,policyOnHover:!0}),t&&(0,Y.jsx)(E.d9,{liveData:n,assetKey:t.assetKey,onClick:i,include:"all"}),t&&(0,Y.jsx)(O.hG,{style:{position:"relative"},definition:t,reduceColor:!0})]})},Cn=n(31127),kn=function(){var e;(0,x.Px)();var t=(0,p.UO)(),n=(0,p.k6)(),i=(t[0]||"").split("/").filter((function(e){return e})).map(decodeURIComponent),r=(0,s.a)(En,{skip:0===i.length,variables:{assetKey:{path:i}}});return(0,h.j)(i&&i.length?"Assets: ".concat((0,m.ll)({path:i})):"Assets"),r.loading?(0,Y.jsxs)(o.T,{children:[(0,Y.jsx)(g.K,{assetKey:{path:i}}),(0,Y.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,Y.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,Y.jsx)(d.$,{purpose:"body-text"}),(0,Y.jsx)("div",{style:{color:c.w.Gray600},children:"Loading assets\u2026"})]})})]}):0===i.length||"AssetNotFoundError"===(null===(e=r.data)||void 0===e?void 0:e.assetOrError.__typename)?(0,Y.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,Y.jsx)(g.K,{assetKey:{path:i},right:(0,Y.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,Y.jsx)(g.w,{}),(0,Y.jsx)(f.i,{label:"Reload definitions"})]})}),(0,Y.jsx)(Cn.fv,{prefixPath:i,setPrefixPath:function(e){return n.push((0,oe.p)({path:e}))}})]}):(0,Y.jsx)(vn,{assetKey:{path:i}})},An=kn,En=(0,a.Ps)(zn||(zn=(0,r.Z)(["\n  query AssetsCatalogRootQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n      }\n    }\n  }\n"])))},97734:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var i=n(96234),r=n(78193),s=function(e,t){var n=new Set(Array.from(e.checkedIds));switch(t.type){case"toggle-one":var r=t.payload,s=r.checked,a=r.id;return s?n.add(a):n.delete(a),{lastCheckedId:a,checkedIds:n};case"toggle-slice":var o=t.payload,l=o.checked,d=o.id,c=o.allIds,u=e.lastCheckedId,p=u?c.indexOf(u):-1,x=c.indexOf(d);if(-1===p||-1===x)return e;var m=[p,x].sort(),h=(0,i.Z)(m,2),f=h[0],g=h[1];return c.slice(f,g+1).forEach((function(e){l?n.add(e):n.delete(e)})),{lastCheckedId:d,checkedIds:n};case"toggle-all":var j=t.payload,y=j.checked,v=j.allIds;return{lastCheckedId:null,checkedIds:y?new Set(v):new Set}}},a={checkedIds:new Set,lastCheckedId:null};function o(e){var t=r.useReducer(s,a),n=(0,i.Z)(t,2),o=n[0],l=n[1];return[o,{onToggleFactory:function(t){return function(n){var i=n.checked;n.shiftKey&&o.lastCheckedId?l({type:"toggle-slice",payload:{checked:i,id:t,allIds:e}}):l({type:"toggle-one",payload:{checked:i,id:t}})}},onToggleAll:function(t){l({type:"toggle-all",payload:{checked:t,allIds:e}})}}]}},79986:function(e,t,n){"use strict";n.d(t,{U:function(){return x}});var i=n(33028),r=n(59740),s=n(60319),a=n(85357),o=n(47515),l=n(32375),d=n(32667),c=(n(78193),n(97412)),u=n(35936),p=["icon","intent","text","disabled"],x=function(e){var t=e.icon,n=e.intent,s=e.text,l=e.disabled,d=(0,r.Z)(e,p);return l?(0,u.jsx)(a.sN,{disabled:!0,icon:t,intent:n,text:s}):(0,u.jsx)(m,(0,i.Z)((0,i.Z)({},d),{},{children:(0,u.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.cR)(t,n),(0,u.jsx)("div",{children:s})]})}))},m=(0,s.ZP)(c.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],l.a1,l.a1,d.w.Gray900,d.w.Gray100)},25960:function(e,t,n){"use strict";n.d(t,{J:function(){return s},V:function(){return r}});var i=new Intl.NumberFormat(navigator.language,{compactDisplay:"short",notation:"compact"}),r=new Intl.NumberFormat(navigator.language,{}),s=function(e){return i.format(e)}},34319:function(e,t,n){"use strict";n.d(t,{i:function(){return m}});var i=n(96234),r=n(44229),s=n(45519),a=n(32375),o=n(3077),l=n(78193),d=n(35740),c=n(92014),u=n(49009),p=n(99246),x=n(35936),m=function(e){var t=e.label,n=void 0===t?"Reload all":t,m=(0,d.WB)(),h=m.permissions.canReloadWorkspace,f=m.disabledReasons,g=(0,u.Dc)({scope:"workspace",reloadFn:u.rL}),j=g.reloading,y=g.tryReload,v=g.error,w=g.errorLocationId,b=l.useState(!!v),z=(0,i.Z)(b,2),N=z[0],K=z[1];return l.useEffect((function(){return K(!!v)}),[v]),h?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.zx,{onClick:y,icon:(0,x.jsx)(a.JO,{name:"refresh"}),loading:j,intent:"none",children:n}),w?(0,x.jsx)(p.V,{error:v,location:w,reloading:j,onTryReload:y,onDismiss:function(){return K(!1)},isOpen:N}):(0,x.jsxs)(o.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:N,children:[(0,x.jsx)(o.a7,{children:v&&(0,x.jsx)(c.T9,{error:v})}),(0,x.jsx)(o.cN,{children:(0,x.jsx)(s.zx,{onClick:function(){return K(!1)},children:"Dismiss"})})]})]}):(0,x.jsx)(r.u,{content:f.canReloadWorkspace,children:(0,x.jsx)(s.zx,{icon:(0,x.jsx)(a.JO,{name:"refresh"}),disabled:!0,intent:"none",children:n})})}},86562:function(e,t,n){"use strict";n.d(t,{Rp:function(){return d},b$:function(){return o},pI:function(){return l}});var i=n(60319),r=(n(78193),n(45519)),s=n(32375),a=n(35936),o=function(e){var t=e.hasPrevCursor,n=e.hasNextCursor,i=e.popCursor,o=e.advanceCursor;return(0,a.jsxs)(d,{children:[(0,a.jsx)(r.zx,{disabled:!t,icon:(0,a.jsx)(s.JO,{name:"arrow_back"}),onClick:i,children:"Previous"}),(0,a.jsx)(r.zx,{disabled:!n,rightIcon:(0,a.jsx)(s.JO,{name:"arrow_forward"}),onClick:o,children:"Next"})]})},l=function(e){var t=e.hasPrevCursor,n=e.hasNextCursor,i=e.popCursor,o=e.advanceCursor;return(0,a.jsxs)(d,{children:[(0,a.jsx)(r.zx,{icon:(0,a.jsx)(s.JO,{name:"arrow_back"}),disabled:!t,onClick:i,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,a.jsx)(r.zx,{rightIcon:(0,a.jsx)(s.JO,{name:"arrow_forward"}),disabled:!n,onClick:o,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},d=i.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},21117:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,i){var r=n.prototype,s=r.format;i.en.formats=e,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,i=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,r){var s=r&&r.toUpperCase();return i||n[r]||e[r]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return s.call(this,i)}}}()},225:function(e,t,n){var i=n(67268),r=n(86357),s=n(93550),a=n(9747),o=n(4564),l=n(59390);e.exports=function(e,t,n,d){var c=-1,u=r,p=!0,x=e.length,m=[],h=t.length;if(!x)return m;n&&(t=a(t,o(n))),d?(u=s,p=!1):t.length>=200&&(u=l,p=!1,t=new i(t));e:for(;++c<x;){var f=e[c],g=null==n?f:n(f);if(f=d||0!==f?f:0,p&&g===g){for(var j=h;j--;)if(t[j]===g)continue e;m.push(f)}else u(t,g,d)||m.push(f)}return m}},92578:function(e,t,n){var i=n(8945),r=n(70214);e.exports=function(e,t){return i(r(e,t),1)}},67656:function(e,t,n){var i=n(56797),r=n(93348)((function(e,t,n){i(e,n,t)}));e.exports=r},42918:function(e,t,n){var i=n(9747),r=n(39095),s=n(74864),a=n(70002);e.exports=function(e,t){if(null==e)return{};var n=i(a(e),(function(e){return[e]}));return t=r(t),s(e,n,(function(e,n){return t(e,n[0])}))}},97346:function(e,t,n){var i=n(225),r=n(94518),s=n(22482),a=r((function(e,t){return s(e)?i(e,t):[]}));e.exports=a}}]);
//# sourceMappingURL=428.ba8c9353.chunk.js.map