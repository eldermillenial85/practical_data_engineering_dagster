"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[867],{51664:function(e,n,t){t.d(n,{K:function(){return i},R:function(){return r}});var i="result",r=function(e){return e.solid.name!==i?"".concat(e.solid.name,":").concat(e.definition.name):e.solid.name}},1497:function(e,n,t){t.d(n,{zU:function(){return q},oR:function(){return W},p4:function(){return z},t$:function(){return U},KB:function(){return F},D5:function(){return V}});var i,r,o=t(71171),a=t(60319),s=t(31623),l=t(32375),c=t(47515),d=t(32667),u=t(62459),p=t(44229),f=t(57103),m=t(83473),h=t(8236),g=t.n(h),x=t(78193),y=t(97412),v=t(88949),b=t(46089),j=t(99772),w=t(87519),S=t(62894),C=t(50021),N=t(85514),k=t(77233),E=t(46856),I=t(83851),Z=t.n(I),P=t(46831),_=t(15578),O=t(78488),D=t.n(O),T=(0,P.j)().use(_.Z).use(D()),A=new(Z())({max:500}),M=function(e){var n=A.get(e);if(n)return n;var t=T.processSync(e).toString().replace(/\\/g,"").trim();return A.set(e,t),t},R=t(2528),K=t(50545),L=t(35936),F=function(e){return e.LOADING="LOADING",e.SOURCE_OBSERVING="SOURCE_OBSERVING",e.SOURCE_OBSERVED="SOURCE_OBSERVED",e.SOURCE_NEVER_OBSERVED="SOURCE_NEVER_OBSERVED",e.SOURCE_NO_STATE="SOURCE_NO_STATE",e.MATERIALIZING="MATERIALIZING",e.LATE_OR_FAILED="LATE_OR_FAILED",e.NEVER_MATERIALIZED="NEVER_MATERIALIZED",e.MATERIALIZED="MATERIALIZED",e.PARTITIONS_FAILED="PARTITIONS_FAILED",e.PARTITIONS_MISSING="PARTITIONS_MISSING",e.PARTITIONS_MATERIALIZED="PARTITIONS_MATERIALIZED",e}({}),z=x.memo((function(e){var n=e.definition,t=e.selected,i=e.liveData,r=n.assetKey.path[n.assetKey.path.length-1],o=n.isSource;return(0,L.jsxs)(J,{children:[(0,L.jsx)(G,{definition:n,liveData:i}),(0,L.jsx)(Y,{$selected:t,children:(0,L.jsxs)(X,{$selected:t,$isSource:o,children:[(0,L.jsxs)(ee,{$isSource:o,children:[(0,L.jsx)("span",{style:{marginTop:1},children:(0,L.jsx)(l.JO,{name:o?"source_asset":"asset"})}),(0,L.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,v.R9)(r,{maxLength:K.ASSET_NODE_NAME_MAX_LENGTH})}),(0,L.jsx)("div",{style:{flex:1}})]}),(0,L.jsxs)(c.x,{style:{padding:"6px 8px"},flex:{direction:"column",gap:4},border:{side:"top",width:1,color:d.w.KeylineGray},children:[n.description?(0,L.jsx)(re,{$color:d.w.Gray800,children:M(n.description).split("\n")[0]}):(0,L.jsx)(re,{$color:d.w.Gray400,children:"No description"}),n.isPartitioned&&(0,L.jsx)(b.oS,{definition:n,liveData:i}),(0,L.jsx)(C.d9,{liveData:i,assetKey:n.assetKey,include:"self"})]}),o&&!n.isObservable?null:(0,L.jsx)($,{definition:n,liveData:i}),(0,L.jsx)(k.hG,{definition:n,style:{right:-2,paddingTop:7}})]})})]})}),g()),G=function(e){var n=e.definition,t=e.liveData;return(0,L.jsx)(c.x,{flex:{gap:4},padding:{left:4},style:{height:24},children:(0,L.jsx)(C.d9,{liveData:t,assetKey:n.assetKey,include:"upstream"})})},B=function(e){var n=e.background,t=e.children;return(0,L.jsx)(c.x,{padding:{horizontal:8},style:{borderBottomLeftRadius:6,borderBottomRightRadius:6,whiteSpace:"nowrap",lineHeight:"12px",fontSize:12,height:24},flex:{justifyContent:"space-between",alignItems:"center",gap:6},background:n,children:t})},$=function(e){var n=e.definition,t=e.liveData,i=V({assetKey:n.assetKey,definition:n,liveData:t}),r=i.content,o=i.background;return(0,L.jsx)(B,{background:o,children:r})};function H(e){return(e.opNames.length?e.opNames[0]:null)||""}function V(e){var n=e.assetKey,t=e.definition,i=e.liveData,r=e.expanded;if(!i)return{case:F.LOADING,background:d.w.Gray100,border:d.w.Gray300,content:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.$,{purpose:"caption-text"}),(0,L.jsx)("span",{style:{flex:1,color:d.w.Gray800},children:"Loading..."})]})};var o=i.lastMaterialization,a=i.runWhichFailedToMaterialize,s=i.inProgressRunIds,c=i.unstartedRunIds,f=s[0]||c[0],m=(0,S.Tx)(i);if(t.isSource)return f?{case:F.SOURCE_OBSERVING,background:d.w.Gray100,border:d.w.Gray300,content:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.a,{liveData:i,purpose:"caption-text"}),(0,L.jsx)("span",{style:{flex:1},color:d.w.Gray800,children:"Observing..."}),r&&(0,L.jsx)(ae,{}),(0,L.jsx)(R.T,{runId:f})]})}:null!==i&&void 0!==i&&i.lastObservation?{case:F.SOURCE_OBSERVED,background:d.w.Gray100,border:d.w.Gray300,content:(0,L.jsxs)(L.Fragment,{children:[r&&(0,L.jsx)(j.d,{status:[w.yo.MISSING]}),(0,L.jsx)("span",{children:"Observed"}),r&&(0,L.jsx)(ae,{}),(0,L.jsx)("span",{style:{textAlign:"right",overflow:"hidden"},children:(0,L.jsx)(R.T,{runId:i.lastObservation.runId,event:{stepKey:H(t),timestamp:i.lastObservation.timestamp},children:(0,L.jsx)(E.v,{timestamp:Number(i.lastObservation.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})})]})}:t.isObservable?{case:F.SOURCE_NEVER_OBSERVED,background:d.w.Gray100,border:d.w.Gray300,content:(0,L.jsxs)(L.Fragment,{children:[r&&(0,L.jsx)(l.JO,{name:"partition_missing",color:d.w.Gray300,style:{marginRight:-2},size:12}),(0,L.jsx)("span",{children:"Never observed"}),!r&&(0,L.jsx)("span",{children:"\u2013"})]})}:{case:F.SOURCE_NO_STATE,background:d.w.Gray100,border:d.w.Gray300,content:(0,L.jsx)("span",{children:"\u2013"})};if(f){var h,g=null===(h=i.partitionStats)||void 0===h?void 0:h.numMaterializing;return{case:F.MATERIALIZING,background:d.w.Blue50,border:d.w.Blue500,numMaterializing:g,content:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{style:{marginLeft:-1,marginRight:-1},children:(0,L.jsx)(R.a,{liveData:i,purpose:"caption-text"})}),(0,L.jsx)("span",{style:{flex:1},color:d.w.Gray800,children:1===g?"Materializing 1 partition...":g?"Materializing ".concat(g," partitions..."):"Materializing..."}),r&&(0,L.jsx)(ae,{}),g&&1!==g?void 0:(0,L.jsx)(R.T,{runId:f})]})}}if(i.partitionStats){var x=i.partitionStats,v=x.numPartitions,C=x.numMaterialized,k=x.numFailed,I=v-k-C,Z=b.g8[m||k?w.yo.FAILED:I?w.yo.MISSING:w.yo.MATERIALIZED],P=Z.background,_=Z.foreground,O=Z.border;return{case:m||k?F.PARTITIONS_FAILED:I?F.PARTITIONS_MISSING:F.PARTITIONS_MATERIALIZED,background:P,border:O,numPartitions:v,numMissing:I,numFailed:k,numMaterialized:C,content:(0,L.jsx)(y.rU,{to:(0,N.p)(n,{view:"partitions"}),style:{color:_},target:"_blank",rel:"noreferrer",children:m?(0,L.jsx)(p.u,{position:"top",content:(0,S.Dn)(i.freshnessInfo.currentMinutesLate),children:"Overdue"}):(0,b._e)(v)})}}var D=o?(0,L.jsx)("span",{style:{overflow:"hidden"},children:(0,L.jsx)(R.T,{runId:o.runId,event:{stepKey:H(t),timestamp:o.timestamp},children:(0,L.jsx)(E.v,{timestamp:Number(o.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})}):void 0;return a||m?{case:F.LATE_OR_FAILED,background:d.w.Red50,border:d.w.Red500,content:(0,L.jsxs)(L.Fragment,{children:[r&&(0,L.jsx)(l.JO,{name:"partition_failure",color:d.w.Red500,style:{marginRight:-2},size:12}),m&&a?(0,L.jsx)(p.u,{position:"top",content:(0,S.Dn)(i.freshnessInfo.currentMinutesLate),children:(0,L.jsx)("span",{style:{color:d.w.Red700},children:"Failed, Overdue"})}):m?(0,L.jsx)(p.u,{position:"top",content:(0,S.Dn)(i.freshnessInfo.currentMinutesLate),children:(0,L.jsx)("span",{style:{color:d.w.Red700},children:"Overdue"})}):a?(0,L.jsx)("span",{style:{color:d.w.Red700},children:"Failed"}):void 0,r&&(0,L.jsx)(ae,{}),a?(0,L.jsx)("span",{style:{overflow:"hidden"},children:(0,L.jsx)(R.T,{runId:a.id,children:(0,L.jsx)(E.v,{timestamp:Number(a.endTime),timeFormat:{showSeconds:!1,showTimezone:!1}})})}):D]})}:o?{case:F.MATERIALIZED,background:d.w.Green50,border:d.w.Green500,content:(0,L.jsxs)(L.Fragment,{children:[r&&(0,L.jsx)(j.d,{status:[w.yo.MATERIALIZED]}),(0,L.jsx)("span",{style:{color:d.w.Green700},children:"Materialized"}),r&&(0,L.jsx)(ae,{}),D]})}:{case:F.NEVER_MATERIALIZED,background:d.w.Yellow50,border:d.w.Yellow500,content:(0,L.jsxs)(L.Fragment,{children:[r&&(0,L.jsx)(l.JO,{name:"partition_missing",color:d.w.Yellow500,style:{marginRight:-2},size:12}),(0,L.jsx)("span",{style:{color:d.w.Yellow700},children:"Never materialized"})]})}}var U=function(e){var n=e.selected,t=e.definition,i=e.liveData,r=t.isSource,o=t.assetKey,a=V({assetKey:o,definition:t,liveData:i}),s=a.border,l=a.background,c=o.path[o.path.length-1];return(0,L.jsx)(J,{children:(0,L.jsx)(ne,{$selected:n,children:(0,L.jsx)(oe,{content:c,canShow:c.length>14,targetTagName:"div",position:"top",children:(0,L.jsxs)(te,{$selected:n,$isSource:r,$background:l,$border:s,children:[(0,L.jsx)("div",{style:{position:"absolute",top:"50%",transform:"translate(8px, -16px)"},children:(0,L.jsx)(R.a,{liveData:i,purpose:"section"})}),(0,L.jsx)(ie,{style:{fontSize:30},$isSource:r,children:(0,v.R9)(c,{maxLength:14})})]})})})})},W=(0,s.Ps)(i||(i=(0,o.Z)(["\n  fragment AssetNodeLiveFragment on AssetNode {\n    id\n    opNames\n    repository {\n      id\n    }\n    assetKey {\n      path\n    }\n    assetMaterializations(limit: 1) {\n      ...AssetNodeLiveMaterialization\n    }\n    assetObservations(limit: 1) {\n      ...AssetNodeLiveObservation\n    }\n    freshnessInfo {\n      ...AssetNodeLiveFreshnessInfo\n    }\n    staleStatus\n    staleCauses {\n      key {\n        path\n      }\n      reason\n      category\n      dependency {\n        path\n      }\n    }\n    partitionStats {\n      numMaterialized\n      numMaterializing\n      numPartitions\n      numFailed\n    }\n  }\n\n  fragment AssetNodeLiveFreshnessInfo on AssetFreshnessInfo {\n    currentMinutesLate\n  }\n\n  fragment AssetNodeLiveMaterialization on MaterializationEvent {\n    timestamp\n    runId\n  }\n\n  fragment AssetNodeLiveObservation on ObservationEvent {\n    timestamp\n    runId\n  }\n"]))),q=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment AssetNodeFragment on AssetNode {\n    id\n    graphName\n    hasMaterializePermission\n    jobNames\n    opNames\n    opVersion\n    description\n    computeKind\n    isPartitioned\n    isObservable\n    isSource\n    assetKey {\n      ...AssetNodeKey\n    }\n  }\n\n  fragment AssetNodeKey on AssetKey {\n    path\n  }\n"]))),J=a.ZP.div.withConfig({displayName:"AssetNode__AssetInsetForHoverEffect",componentId:"sc-ja35mc-0"})(["padding:10px 4px 2px 4px;height:100%;& *:focus{outline:0;}"]),Y=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeContainer",componentId:"sc-ja35mc-1"})(["user-select:none;cursor:default;padding:4px;"]),Q=a.ZP.span.withConfig({displayName:"AssetNode__AssetNodeShowOnHover",componentId:"sc-ja35mc-2"})(["display:none;"]),X=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeBox",componentId:"sc-ja35mc-3"})(["",";",";background:",";border-radius:8px;position:relative;&:hover{box-shadow:rgba(0,0,0,0.12) 0px 2px 12px 0px;","{display:initial;}}"],(function(e){return e.$isSource?"border: 2px dashed ".concat(e.$selected?d.w.Gray600:d.w.Gray300):"border: 2px solid ".concat(e.$selected?d.w.Blue500:d.w.Blue200)}),(function(e){return e.$isSource?"outline: 3px solid ".concat(e.$selected?d.w.Gray300:"transparent"):"outline: 3px solid ".concat(e.$selected?d.w.Blue200:"transparent")}),d.w.White,Q),ee=a.ZP.div.withConfig({displayName:"AssetNode__Name",componentId:"sc-ja35mc-4"})(["display:flex;padding:3px 6px;background:",";font-family:",";border-top-left-radius:7px;border-top-right-radius:7px;font-weight:600;gap:4px;"],(function(e){return e.$isSource?d.w.Gray100:d.w.Blue50}),f.b.monospace),ne=(0,a.ZP)(Y).withConfig({displayName:"AssetNode__MinimalAssetNodeContainer",componentId:"sc-ja35mc-5"})(["padding-top:30px;padding-bottom:42px;height:100%;"]),te=a.ZP.div.withConfig({displayName:"AssetNode__MinimalAssetNodeBox",componentId:"sc-ja35mc-6"})(["background:",";",";",";border-radius:10px;position:relative;padding:4px;height:100%;min-height:46px;&:hover{box-shadow:rgba(0,0,0,0.12) 0px 2px 12px 0px;}"],(function(e){return e.$background}),(function(e){return e.$isSource?"border: 4px dashed ".concat(e.$selected?d.w.Gray500:e.$border):"border: 4px solid ".concat(e.$selected?d.w.Blue500:e.$border)}),(function(e){return e.$isSource?"outline: 8px solid ".concat(e.$selected?d.w.Gray300:"transparent"):"outline: 8px solid ".concat(e.$selected?d.w.Blue200:"transparent")})),ie=(0,a.ZP)(ee).withConfig({displayName:"AssetNode__MinimalName",componentId:"sc-ja35mc-7"})(["font-weight:600;white-space:nowrap;position:absolute;background:none;top:50%;left:50%;transform:translate(-50%,-50%);"]),re=a.ZP.div.withConfig({displayName:"AssetNode__Description",componentId:"sc-ja35mc-8"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";font-size:12px;"],(function(e){return e.$color})),oe=(0,a.ZP)(p.u).withConfig({displayName:"AssetNode__TooltipStyled",componentId:"sc-ja35mc-9"})(["height:100%;"]),ae=function(){return(0,L.jsx)(m.uT,{color:d.w.KeylineGray,style:{marginLeft:-3,marginRight:-3},children:"\u2022"})}},2528:function(e,n,t){t.d(n,{T:function(){return d},a:function(){return c}});var i=t(44229),r=t(62459),o=t(57103),a=(t(78193),t(97412)),s=t(89622),l=t(35936),c=function(e){var n,t,o=e.liveData,a=e.purpose,s=void 0===a?"body-text":a;return null!==o&&void 0!==o&&null!==(n=o.inProgressRunIds)&&void 0!==n&&n.length?(0,l.jsx)(i.u,{content:"A run is currently rematerializing this asset.",children:(0,l.jsx)(r.$,{purpose:s})}):null!==o&&void 0!==o&&null!==(t=o.unstartedRunIds)&&void 0!==t&&t.length?(0,l.jsx)(i.u,{content:"A run has started that will rematerialize this asset soon.",children:(0,l.jsx)(r.$,{purpose:s,stopped:!0})}):null},d=function(e){var n=e.runId,t=e.children,i=e.event;return(0,l.jsx)(a.rU,{to:i?(0,s.tA)({id:n},i):"/runs/".concat(n),target:"_blank",rel:"noreferrer",children:t||(0,l.jsx)("span",{style:{fontSize:"1.2em",fontFamily:o.b.monospace},children:(0,s.EI)({id:n})})})}},50545:function(e,n,t){t.d(n,{ASSET_LINK_NAME_MAX_LENGTH:function(){return u},ASSET_NODE_NAME_MAX_LENGTH:function(){return h},layoutAssetGraph:function(){return d}});var i=t(96234),r=t(41361),o=t(83975),a=t(276),s=t.n(a),l=100,c="group__",d=function(e){var n=new o.graphlib.Graph({compound:!0});n.setGraph({rankdir:"TB",marginx:l,marginy:l,nodesep:40,edgesep:10,ranksep:10}),n.setDefaultEdgeLabel((function(){return{}}));var t,a=function(e){return[c,e.definition.repository.location.name,e.definition.repository.name,e.definition.groupName].join("__")},d=function(e){return e},u=Object.values(e.nodes).filter(d),h={},x=(0,r.Z)(u);try{for(x.s();!(t=x.n()).done;){var y=t.value;if(y.definition.groupName){var v=a(y);h[v]={id:v,groupName:y.definition.groupName,repositoryName:y.definition.repository.name,repositoryLocationName:y.definition.repository.location.name,repositoryDisambiguationRequired:!1,bounds:{x:0,y:0,width:0,height:0}}}}}catch(D){x.e(D)}finally{x.f()}var b=Object.keys(h).length>1;b&&Object.keys(h).forEach((function(e){return n.setNode(e,{})})),u.forEach((function(e){n.setNode(e.id,g(e.definition)),b&&e.definition.groupName&&n.setParent(e.id,a(e))}));var j={};Object.entries(e.downstream).forEach((function(t){var r=(0,i.Z)(t,2),o=r[0],a=r[1];Object.keys(a).forEach((function(t){(e.nodes[t]||e.nodes[o])&&(n.setEdge({v:o,w:t},{weight:1}),e.nodes[t]?e.nodes[o]||(j[o]=!0):j[t]=!0)}))})),Object.keys(j).forEach((function(e){n.setNode(e,p())})),o.layout(n);var w=0,S=0,C={};if(n.nodes().forEach((function(e){var t=n.node(e);if(t){var i={x:t.x-t.width/2,y:t.y-t.height/2,width:t.width,height:t.height};e.startsWith(c)||(C[e]={id:e,bounds:i}),w=Math.max(w,t.x+t.width/2),S=Math.max(S,t.y+t.height/2)}})),b){var N,k=(0,r.Z)(u);try{for(k.s();!(N=k.n()).done;){var E=N.value;if(E.definition.groupName){var I=h[a(E)];I.bounds=0===I.bounds.width?C[E.id].bounds:m(I.bounds,C[E.id].bounds)}}}catch(D){k.e(D)}finally{k.f()}for(var Z=0,P=Object.values(h);Z<P.length;Z++){var _=P[Z];_.bounds=f(_.bounds,{x:15,top:70,bottom:-10})}}Object.values(s()(Object.values(h),(function(e){return e.groupName}))).filter((function(e){return e.length>1})).flat().forEach((function(e){e.bounds.y-=18,e.bounds.height+=18,e.repositoryDisambiguationRequired=!0}));var O=[];return n.edges().forEach((function(e){var t=n.node(e.v),i=j[e.v]?16:24,r=n.node(e.w),o=j[e.w]?16:24;O.push({from:{x:t.x-t.width/2+i,y:t.y-30+t.height/2},fromId:e.v,to:{x:r.x-r.width/2+o,y:r.y+20-r.height/2},toId:e.w})})),{nodes:C,edges:O,width:w+l,height:S+l,groups:b?h:{}}},u=10,p=function(){return{width:106,height:90}},f=function(e,n){return{x:e.x-n.x,y:e.y-n.top,width:e.width+2*n.x,height:e.height+n.top+n.bottom}},m=function(e,n){var t=Math.min(e.x,n.x),i=Math.min(e.y,n.y);return{x:t,y:i,width:Math.max(e.x+e.width,n.x+n.width)-t,height:Math.max(e.y+e.height,n.y+n.height)-i}},h=28,g=function(e){if(e.isSource&&!e.isObservable)return{width:265,height:102};var n=100;return e.isPartitioned&&(n+=40),e.isSource?n+=30:n+=26,{width:265,height:n+=30}}},65778:function(e,n,t){t.d(n,{le:function(){return b}});var i,r,o=t(71171),a=t(68079),s=t(90239),l=t(32151),c=t(31623),d=t(23662),u=t.n(d),p=t(78193),f=t(39707),m=t(89622),h=t(1497),g=t(99741),x=t(9938),y=3e4,v=2e3;function b(e){var n=(0,s.a)(w,{skip:0===e.length,variables:{assetKeys:e},notifyOnNetworkStatusChange:!0}),t=p.useMemo((function(){return n.data?(0,x.Qg)(n.data):{}}),[n.data]),i=p.useRef(!1);i.current=[l.I.refetch,l.I.loading].includes(n.networkStatus);var r=p.useRef(null),o=p.useCallback((function(){var e=n.refetch;r.current||(r.current=setTimeout((function n(){i.current?r.current=setTimeout(n,v):(r.current=null,e())}),v))}),[r,n.refetch]);p.useEffect((function(){return function(){r.current&&clearTimeout(r.current)}}),[]);var c=(0,f.C4)(n,y);return(0,m.Qs)(n.refetch,v),p.useEffect((function(){var i,r=new Set(e.map(x.Je)),s=new Set((null===(i=n.data)||void 0===i?void 0:i.assetNodes.flatMap((function(e){return e.opNames})))||[]),l=u()(Object.values(t).flatMap((function(e){return[].concat((0,a.Z)(e.unstartedRunIds),(0,a.Z)(e.inProgressRunIds))}))).sort();return(0,g.fw)(l,(function(e){e.some((function(e){return e.assetKey&&r.has((0,x.Je)(e.assetKey))||e.stepKey&&s.has(e.stepKey)}))&&o()}))}),[o,e,t,n]),{liveDataByNode:t,liveDataRefreshState:c,assetKeys:e}}var j=(0,c.Ps)(i||(i=(0,o.Z)(["\n  fragment AssetLatestInfoFragment on AssetLatestInfo {\n    assetKey {\n      path\n    }\n    unstartedRunIds\n    inProgressRunIds\n    latestRun {\n      id\n      ...AssetLatestInfoRun\n    }\n  }\n\n  fragment AssetLatestInfoRun on Run {\n    status\n    endTime\n    id\n  }\n"]))),w=(0,c.Ps)(r||(r=(0,o.Z)(["\n  query AssetGraphLiveQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      ...AssetNodeLiveFragment\n    }\n    assetsLatestInfo(assetKeys: $assetKeys) {\n      ...AssetLatestInfoFragment\n    }\n  }\n\n  ","\n  ","\n"])),h.oR,j)},27409:function(e,n,t){t.d(n,{r:function(){return s}});var i,r=t(71171),o=t(31623),a=t(11311),s=(0,o.Ps)(i||(i=(0,r.Z)(["\n  fragment AssetNodeConfigFragment on AssetNode {\n    id\n    configField {\n      name\n      isRequired\n      configType {\n        ...ConfigTypeSchemaFragment\n        recursiveConfigTypes {\n          ...ConfigTypeSchemaFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),a.S)},69040:function(e,n,t){t.d(n,{N:function(){return x},a:function(){return g}});var i,r=t(71171),o=t(90239),a=t(31623),s=t(47515),l=t(32667),c=t(16255),d=t(92555),u=(t(78193),t(80005)),p=t(9938),f=t(66708),m=t(9610),h=t(35936),g="Multiple asset definitions found",x=function(e){var n=e.assetKey,t=e.loadedFromRepo,i=e.padded,r=(0,o.a)(y,{variables:{assetKeys:[{path:n.path}]}}).data,a=null===r||void 0===r?void 0:r.assetNodeDefinitionCollisions[0];if(!a)return(0,h.jsx)("span",{});var x=a.repositories.map((function(e){return(0,m.Uz)({name:e.name,location:e.location.name})}));return(0,h.jsx)(s.x,{padding:i?{vertical:16,left:24,right:12}:{},border:{side:"bottom",width:1,color:l.w.KeylineGray},children:(0,h.jsx)(c.b,{intent:"warning",title:g,description:(0,h.jsxs)(h.Fragment,{children:["This asset was loaded from"," ",(0,f.At)(t.name,t.location),", but duplicate definitions were found in"," ",(0,h.jsxs)(d.Z,{underline:"always",color:l.w.Yellow700,onClick:function(){return(0,u._)({title:g,body:(0,h.jsxs)(h.Fragment,{children:["Code locations containing an asset definition for"," ",(0,h.jsx)("strong",{children:(0,p.ll)(n)}),":",(0,h.jsx)("ul",{children:x.map((function(e){return(0,h.jsx)("li",{children:e},e)}))})]})})},children:[x.length-1," other repo",2===x.length?"":"s"]}),". You should rename these assets to avoid collisions."]})})})},y=(0,a.Ps)(i||(i=(0,r.Z)(["\n  query AssetDefinitionCollisionQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n"])))},50260:function(e,n,t){t.d(n,{Qe:function(){return y},cJ:function(){return x},gC:function(){return v}});var i=t(60319),r=t(47515),o=t(32667),a=t(32375),s=t(95714),l=t(83473),c=t(25626),d=t(78193),u=t(40854),p=t(2528),f=t(15734),m=t(89622),h=t(93015),g=t(35936),x=function(e){var n=e.groups,t=e.focused,i=e.setFocused,a=e.xAxis,s=d.useRef(null),l=d.useRef(null),u=(0,c.useVirtualizer)({count:n.length,getScrollElement:function(){return s.current},estimateSize:function(){return 80},overscan:10}),p=u.getTotalSize(),f=u.getVirtualItems();return d.useEffect((function(){if(l.current){var e=l.current;e&&e instanceof HTMLElement&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest"})}}),[t]),(0,g.jsx)(y,{ref:s,children:(0,g.jsx)(h.Nh,{$totalHeight:p,children:f.map((function(e){var s=e.index,c=e.key,d=e.size,u=e.start,p=n[s];return(0,g.jsx)(v,{$height:d,$start:u,$focused:p===t,ref:p===t?l:void 0,onClick:function(e){e.target instanceof HTMLElement&&e.target.closest("a")||null===i||void 0===i||i(t!==p?p:void 0)},children:(0,g.jsx)(r.x,{style:{height:d},padding:{left:24,right:12},flex:{direction:"column",justifyContent:"center",gap:8},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:"partition"===a?(0,g.jsx)(b,{group:p}):(0,g.jsx)(j,{group:p})})},c)}))})})},y=(0,i.ZP)(h.W2).withConfig({displayName:"AssetEventList__AssetListContainer",componentId:"sc-y5fuyp-0"})(["outline:none;&:focus{box-shadow:0 -1px ",";}"],o.w.Blue500),v=(0,i.ZP)(h.X2).withConfig({displayName:"AssetEventList__AssetListRow",componentId:"sc-y5fuyp-1"})(["cursor:pointer;user-select:none;:focus,:active,:hover{outline:none;background:",";}",""],o.w.Gray100,(function(e){return e.$focused&&"background: ".concat(o.w.Blue50,";\n     color: ").concat(o.w.Blue700,";\n     :hover {\n       background: ").concat(o.w.Blue50,";\n     }\n    ")})),b=function(e){var n=e.group,t=n.partition,i=n.latest,c=n.timestamp;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.x,{flex:{gap:4,direction:"row",alignItems:"flex-start"},children:[(0,g.jsx)(a.JO,{name:"partition"}),t,(0,g.jsx)("div",{style:{flex:1}}),i?(0,g.jsx)(s.V,{intent:"success",children:"Materialized"}):(0,g.jsx)(s.V,{intent:"none",children:"Missing"})]}),(0,g.jsx)(l.YS,{color:o.w.Gray600,style:{userSelect:"none"},children:c?(0,g.jsxs)("span",{children:["Materialized ",(0,g.jsx)(u.E,{timestamp:{ms:Number(c)}})]}):"Never materialized"})]})},j=function(e){var n=e.group,t=n.latest,i=n.partition,o=n.timestamp,l="Run"===(null===t||void 0===t?void 0:t.runOrError.__typename)?t.runOrError:null;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.x,{flex:{gap:4,direction:"row"},children:["MaterializationEvent"===(null===t||void 0===t?void 0:t.__typename)?(0,g.jsx)(a.JO,{name:"materialization"}):(0,g.jsx)(a.JO,{name:"observation"}),(0,g.jsx)(u.E,{timestamp:{ms:Number(o)}})]}),(0,g.jsxs)(r.x,{flex:{gap:4,direction:"row"},children:[i&&(0,g.jsx)(s.V,{children:i}),t&&l&&(0,g.jsx)(s.V,{children:(0,g.jsx)(p.T,{runId:l.id,event:{stepKey:t.stepKey,timestamp:t.timestamp},children:(0,g.jsxs)(r.x,{flex:{gap:4,direction:"row",alignItems:"center"},children:[(0,g.jsx)(f.hk,{runId:l.id,status:l.status,size:8}),(0,m.EI)(l)]})})})]})]})}},46089:function(e,n,t){t.d(n,{_e:function(){return p},g8:function(){return m},oS:function(){return h},ux:function(){return x}});var i,r=t(56666),o=t(60319),a=t(32667),s=t(47515),l=t(44229),c=t(32375),d=(t(78193),t(87519)),u=t(35936),p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(void 0===e?"-":e.toLocaleString()," ").concat(n).concat(n?" ":"").concat(1===e?"partition":"partitions")},f=function(e){return e?e.numPartitions-e.numFailed-e.numMaterializing-e.numMaterialized:void 0},m=(i={},(0,r.Z)(i,d.yo.FAILED,{background:a.w.Red50,foreground:a.w.Red700,border:a.w.Red500,icon:"partition_failure",adjective:"failed"}),(0,r.Z)(i,d.yo.MATERIALIZED,{background:a.w.Green50,foreground:a.w.Green700,border:a.w.Green500,icon:"partition_success",adjective:"materialized"}),(0,r.Z)(i,d.yo.MATERIALIZING,{background:a.w.Blue50,foreground:a.w.Blue700,border:a.w.Blue500,icon:"partition_success",adjective:"materializing"}),(0,r.Z)(i,d.yo.MISSING,{background:a.w.Gray100,foreground:a.w.Gray900,border:a.w.Gray500,icon:"partition_missing",adjective:"missing"}),i),h=function(e){var n,t=null===(n=e.liveData)||void 0===n?void 0:n.partitionStats;return(0,u.jsxs)(s.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[(0,u.jsx)(g,{status:d.yo.MATERIALIZED,value:null===t||void 0===t?void 0:t.numMaterialized,total:null===t||void 0===t?void 0:t.numPartitions}),(0,u.jsx)(g,{status:d.yo.MISSING,value:f(t),total:null===t||void 0===t?void 0:t.numPartitions}),(0,u.jsx)(g,{status:d.yo.FAILED,value:null===t||void 0===t?void 0:t.numFailed,total:null===t||void 0===t?void 0:t.numPartitions})]})},g=function(e){var n=e.status,t=e.value,i=e.total,r=m[n],o=t?r.foreground:a.w.Gray500,s=t?r.background:a.w.Gray50;return(0,u.jsx)(l.u,{display:"block",position:"top",canShow:void 0!==t,content:p(t,r.adjective),children:(0,u.jsxs)(v,{style:{color:o,background:s},children:[(0,u.jsx)(c.JO,{name:r.icon,color:o,size:12}),void 0===t?"\u2014":t===i?"All":t>1e3?"999+":t]})})},x=function(e){var n=e.partitionStats;return(0,u.jsxs)(s.x,{style:{display:"flex",gap:8},children:[(0,u.jsx)(y,{status:d.yo.MATERIALIZED,value:null===n||void 0===n?void 0:n.numMaterialized,total:null===n||void 0===n?void 0:n.numPartitions}),(0,u.jsx)(y,{status:d.yo.MISSING,value:f(n),total:null===n||void 0===n?void 0:n.numPartitions}),(0,u.jsx)(y,{status:d.yo.FAILED,value:null===n||void 0===n?void 0:n.numFailed,total:null===n||void 0===n?void 0:n.numPartitions}),(0,u.jsx)(y,{status:d.yo.MATERIALIZING,value:null===n||void 0===n?void 0:n.numMaterializing,total:null===n||void 0===n?void 0:n.numPartitions})]})},y=function(e){var n=e.status,t=e.value,i=e.total,r=m[n];return(0,u.jsx)(l.u,{display:"block",position:"top",canShow:void 0!==t,content:p(t,r.adjective),children:(0,u.jsxs)(s.x,{flex:{gap:4,alignItems:"center"},style:{color:void 0===t||0===t?a.w.Gray300:a.w.Dark},children:[(0,u.jsx)(c.JO,{name:r.icon,color:t?r.border:a.w.Gray300,size:12}),void 0===t?"\u2014":t===i?"All":t.toLocaleString()]})})},v=o.ZP.div.withConfig({displayName:"AssetNodePartitionCounts__PartitionCountContainer",componentId:"sc-yxh173-0"})(["width:100%;border-radius:6px;font-size:12px;gap:4px;display:flex;align-items:center;justify-content:center;padding:4px;"])},99772:function(e,n,t){t.d(n,{d:function(){return f},k:function(){return p}});var i=t(33028),r=t(47515),o=t(32667),a=t(25626),s=t(78193),l=t(93015),c=t(50260),d=t(87519),u=t(35936),p=function(e){var n=e.focusedDimensionKey,t=e.setFocusedDimensionKey,i=e.statusForPartition,p=e.partitions,m=s.useRef(null),h=(0,a.useVirtualizer)({count:p.length,getItemKey:function(e){return p[e]},getScrollElement:function(){return m.current},estimateSize:function(){return 36},overscan:10}),g=h.getTotalSize(),x=h.getVirtualItems();return s.useEffect((function(){n&&h.scrollToIndex(p.indexOf(n),{smoothScroll:!1,align:"auto"})}),[n,h,p]),(0,u.jsx)(c.Qe,{ref:m,tabIndex:-1,onKeyDown:function(e){var i={ArrowDown:1,ArrowUp:-1}[e.key];if(t&&i&&n&&!e.isDefaultPrevented()){var r=p.indexOf(n)+i,o=p[r];o&&(e.preventDefault(),t(o))}},children:(0,u.jsx)(l.Nh,{$totalHeight:g,children:x.map((function(e){var a=e.index,s=e.key,l=e.size,m=e.start,h=p[a],g=i(h);return(0,u.jsx)(c.gC,{$height:l,$start:m,$focused:h===n,onClick:function(e){e.target instanceof HTMLElement&&e.target.closest("a")||null===t||void 0===t||t(n!==h?h:void 0)},children:(0,u.jsx)(r.x,{style:{height:l},padding:{left:24,right:12},flex:{direction:"column",justifyContent:"center",gap:8},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:(0,u.jsxs)(r.x,{flex:{gap:4,direction:"row",alignItems:"center"},children:[h,(0,u.jsx)("div",{style:{flex:1}}),g.includes(d.yo.MISSING)&&(0,u.jsx)(f,{status:[d.yo.MISSING]}),g.includes(d.yo.FAILED)&&(0,u.jsx)(f,{status:[d.yo.FAILED]}),g.includes(d.yo.MATERIALIZING)&&(0,u.jsx)(f,{status:[d.yo.MATERIALIZING]}),g.includes(d.yo.MATERIALIZED)&&(0,u.jsx)(f,{status:[d.yo.MATERIALIZED]})]})})},s)}))})})},f=function(e){var n=e.status;return(0,u.jsx)("div",{style:(0,i.Z)({width:10,height:10,borderRadius:"100%",flexShrink:0},(0,d.Tg)(n))})}},87519:function(e,n,t){t.d(n,{Bw:function(){return s},Tg:function(){return d},be:function(){return l},yo:function(){return a}});var i=t(56666),r=t(32667),o=t(88949),a=function(e){return e.FAILED="FAILED",e.MATERIALIZED="MATERIALIZED",e.MATERIALIZING="MATERIALIZING",e.MISSING="MISSING",e}({}),s=function(){var e;return e={},(0,i.Z)(e,a.MISSING,0),(0,i.Z)(e,a.MATERIALIZED,0),(0,i.Z)(e,a.MATERIALIZING,0),(0,i.Z)(e,a.FAILED,0),e},l=function(e){switch(e){case a.MATERIALIZED:return"Materialized";case a.MATERIALIZING:return"Materializing";case a.FAILED:return"Failed";case a.MISSING:return"Missing";default:(0,o.UT)(e)}},c=function(e){switch(e){case a.MATERIALIZED:return r.w.Green500;case a.MATERIALIZING:return r.w.Blue500;case a.FAILED:return r.w.Red500;case a.MISSING:return r.w.Gray200;default:(0,o.UT)(e)}},d=function(e){if(0===e.length)return{background:r.w.Gray200};if(1===e.length)return{background:c(e[0])};var n=c(e[0]),t=c(e[1]);return{backgroundImage:"linear-gradient(135deg, ".concat(n," 25%, ").concat(t," 25%, ").concat(t," 50%, ").concat(n," 50%, ").concat(n," 75%, ").concat(t," 75%, ").concat(t," 100%)"),backgroundSize:"8.49px 8.49px"}}},98813:function(e,n,t){t.d(n,{K:function(){return s}});var i=t(33028),r=t(32667),o=(t(23955),t(78193),t(16019)),a=t(35936),s=function(e){if(!e.data)return(0,a.jsx)("span",{});var n=void 0,t=e.xHover;"partition"===e.data.xAxis&&(n=e.data.values.map((function(e){return e.x})),t=t?n.indexOf(t):null);var s={labels:n,datasets:[{label:e.label,lineTension:0,data:e.data.values.map((function(e){return{x:e.xNumeric,y:e.y}})),borderColor:r.w.Blue500,backgroundColor:"rgba(0,0,0,0)",pointBorderWidth:2,pointHoverBorderWidth:2,pointHoverRadius:13,pointHoverBorderColor:r.w.Blue500}]},l={animation:{duration:0},elements:{point:{radius:function(e){var n;return(null===(n=e.dataset.data[e.dataIndex])||void 0===n?void 0:n.x)===t?13:2}}},scales:{x:(0,i.Z)({id:"x",display:!0},"time"===e.data.xAxis?{type:"time",title:{display:!0,text:"Timestamp"}}:{type:"category",title:{display:!0,text:"Partition"}}),y:{id:"y",display:!0,title:{display:!0,text:e.yAxisLabel||"Value"}}},plugins:{legend:{display:!1}},onHover:function(n,t){if(0!==t.length){var i=t[0].index;0!==i?e.onHoverX(e.data.values[i].x):e.onHoverX(null)}else e.onHoverX(null)}};return(0,a.jsx)(o.x1,{data:s,height:100,options:l},e.width)}},62894:function(e,n,t){t.d(n,{Dn:function(){return m},Tx:function(){return f},jY:function(){return g},vy:function(){return h}});var i=t(44229),r=t(95714),o=t(787),a=t.n(o),s=t(38343),l=t.n(s),c=t(67274),d=t.n(c),u=(t(78193),t(65033)),p=t(35936);function f(e){return(null===e||void 0===e?void 0:e.freshnessInfo)&&((null===e||void 0===e?void 0:e.freshnessInfo.currentMinutesLate)||0)>0||!1}a().extend(l()),a().extend(d());var m=function(e){return"".concat(a().duration(e,"minutes").humanize(!1)," overdue")},h=function(e){var n=e.liveData,t=e.policyOnHover,o=e.policy;if(null===n||void 0===n||!n.freshnessInfo)return null;var a=n.freshnessInfo,s=t?g(o):"";return null===a.currentMinutesLate?(0,p.jsx)(i.u,{content:(0,p.jsx)("div",{style:{maxWidth:400},children:"".concat("This asset has never been materialized."," ").concat(s)}),children:(0,p.jsx)(r.V,{intent:"danger",icon:"warning",children:"Overdue"})}):0===a.currentMinutesLate?s?(0,p.jsx)(i.u,{content:g(o),children:(0,p.jsx)(r.V,{intent:"success",icon:"check_circle"})}):(0,p.jsx)(r.V,{intent:"success",icon:"check_circle"}):(0,p.jsx)(i.u,{content:(0,p.jsx)("div",{style:{maxWidth:400},children:"".concat("A materialization incorporating more recent upstream data is overdue."," ").concat(s)}),children:(0,p.jsx)(r.V,{intent:"danger",icon:"warning",children:m(a.currentMinutesLate)})})},g=function(e){if(!e)return"";var n=e.cronSchedule,t=e.maximumLagMinutes,i=e.cronScheduleTimezone,r=n?(0,u.A)(n,i||"UTC").replace(/^At /,""):"",o=t%30===0?"".concat(t/60," hour").concat(t/60!==1?"s":""):"".concat(t," min");return r?"By ".concat(r,", this asset should incorporate all data up to ").concat(o," before that").concat("\xa0","time."):"At any point in time, this asset should incorporate all data up to ".concat(o," before that").concat("\xa0","time.")}},30559:function(e,n,t){t.d(n,{U2:function(){return $e},XE:function(){return _e},VF:function(){return ze},Ot:function(){return Fe},ZP:function(){return Ae},DO:function(){return Oe}});var i,r,o,a,s,l,c,d=t(71171),u=t(32723),p=t(34795),f=t(96234),m=t(61794),h=t(31623),g=t(32375),x=t(44229),y=t(45519),v=t(47515),b=t(62459),j=t(73070),w=t(85357),S=t(60163),C=t.n(S),N=t(23662),k=t.n(N),E=t(78193),I=t(80005),Z=t(87919),P=t(9938),_=t(1360),O=t(20358),D=t(18517),T=t(11311),A=t(66708),M=t(9610),R=t(27409),K=t(69040),L=t(68079),F=t(33028),z=t(60319),G=t(90239),B=t(80018),$=t(3077),H=t(83473),V=t(16255),U=t(32667),W=t(17914),q=z.ZP.div.withConfig({displayName:"Radio__RadioContainer",componentId:"sc-1a1frnn-0"})([".bp4-control{margin-bottom:0;display:flex;flex-direction:row;align-items:center;input{display:none;}}.bp4-control.bp4-radio{padding:4px 4px 4px 0;}.bp4-control.bp4-radio.bp4-disabled{cursor:default;color:",";","{opacity:0.3;}}.bp4-control .bp4-control-indicator{margin:0;margin-right:8px;}.bp4-control input:checked ~ .bp4-control-indicator{background-color:",";}.bp4-control.bp4-radio input:disabled ~ .bp4-control-indicator{cursor:default;opacity:0.7;}.bp4-control.bp4-radio input:disabled:checked ~ .bp4-control-indicator{background-color:",";}.bp4-control .bp4-control-indicator,.bp4-control .bp4-control-indicator::before{width:18px;height:18px;}"],U.w.Gray300,g.a1,U.w.Blue500,U.w.Blue200),J=t(92555),Y=t(69590),Q=t.n(Y),X=t(50032),ee=t(35740),ne=t(92014),te=t(23555),ie=t(33258),re=t(28832),oe=t(83305),ae=t(13079),se=t(97186),le=t(36980),ce=t(68506),de=t(46089),ue=t(87519),pe=t(30557),fe=t(50883),me=t(97412),he=t(35936),ge=function(e){var n=e.partitionSetName,t=(0,G.a)(xe).data,i=("PartitionBackfills"===(null===t||void 0===t?void 0:t.partitionBackfillsOrError.__typename)?t.partitionBackfillsOrError.results:[]).filter((function(e){return e.partitionSetName===n})).length;return 0===i?(0,he.jsx)("span",{}):(0,he.jsxs)("div",{style:{color:U.w.Gray400,maxWidth:350},children:[1===i?"Note: A backfill has been requested for this job and may be refreshing displayed assets. ":"Note: ".concat(i," backfills have been requested for this job and may be refreshing displayed assets. "),(0,he.jsx)(me.rU,{to:"/overview/backfills",target:"_blank",children:(0,he.jsxs)(v.x,{flex:{gap:4,display:"inline-flex",alignItems:"center"},children:["View ",(0,he.jsx)(g.JO,{name:"open_in_new",color:U.w.Link})]})})]})},xe=(0,h.Ps)(i||(i=(0,d.Z)(["\n  query RunningBackfillsNoticeQuery {\n    partitionBackfillsOrError(status: REQUESTED) {\n      ... on PartitionBackfills {\n        results {\n          id\n          partitionSetName\n        }\n      }\n    }\n  }\n"]))),ye=t(45129),ve=t(52072),be=function(e){var n=e.assets.length>1?"".concat(e.assets.length," assets"):(0,P.ll)(e.assets[0].assetKey),t="Launch runs to materialize ".concat(n);return(0,he.jsxs)($.Vq,{style:{width:700},isOpen:e.open,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return e.setOpen(!1)},children:[(0,he.jsx)($.fK,{icon:"layers",label:t}),(0,he.jsx)(je,(0,F.Z)({},e))]})},je=function(e){var n,t=e.setOpen,i=e.assets,r=e.repoAddress,o=e.target,a=e.upstreamAssetKeys,s=e.refetch,l=i.filter((function(e){return!!e.partitionDefinition})),c=(0,ee.xz)(r.location),d=c.permissions,h=d.canLaunchPipelineExecution,b=d.canLaunchPartitionBackfill,j=c.disabledReasons,w=E.useState(!1),S=(0,f.Z)(w,2),C=S[0],N=S[1],k=E.useState(!1),Z=(0,f.Z)(k,2),O=Z[0],T=Z[1],A=E.useState([]),M=(0,f.Z)(A,2),R=M[0],K=M[1],z=E.useState(0),G=(0,f.Z)(z,2),Y=G[0],Q=G[1],le=l.length-Y,me=E.useState(Date.now()),xe=(0,f.Z)(me,2),be=xe[0],je=xe[1],we=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===s||void 0===s?void 0:s();case 2:je(Date.now());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=(0,ve.mR)(l.map((function(e){return e.assetKey})),be.toString(),"immediate"),ke=0===Se.length,Ee=E.useMemo((function(){return"pureAll"===o.type?(0,pe.$G)([]):"job"===o.type||ke?(0,pe.$G)(Se):Se.find((0,P.Bl)(o.anchorAssetKey))||(0,pe.$G)([])}),[Se,ke,o]),Ie="job"===o.type?l[0]:"pureWithAnchorAsset"===o.type?l.find((0,P.Bl)(o.anchorAssetKey)):null,Ze=null===Ie||void 0===Ie?void 0:Ie.partitionDefinition,Pe=(null===(n=l[0].partitionDefinition)||void 0===n?void 0:n.dimensionTypes)||[],_e=E.useState(!1),Oe=(0,f.Z)(_e,2),De=Oe[0],Te=Oe[1],Ae=(0,ye.q)({knownDimensionNames:Pe.map((function(e){return e.name})),modifyQueryString:!1,assetHealth:Ee,skipPartitionKeyValidation:(null===Ze||void 0===Ze?void 0:Ze.type)===te.iVC.DYNAMIC,shouldReadPartitionQueryStringParam:!0}),Me=(0,f.Z)(Ae,2),Re=Me[0],Ke=Me[1],Le=E.useMemo((function(){return(0,pe.f1)(Re,(function(e){var n=Ee.stateForKey(e);return n instanceof Array||(n=[n]),n}))}),[Re,Ee]),ze=E.useState(!1),Ge=(0,f.Z)(ze,2),Be=Ge[0],$e=Ge[1],He=Re.every((function(e){return 1===e.selectedRanges.length}))&&Re.some((function(e){return e.selectedKeys.length>1})),Ve=E.useMemo((function(){return De?Le.filter((function(e){return[ue.yo.MISSING,ue.yo.FAILED].some((function(n){return e.state.includes(n)}))})):Le}),[Le,De]),Ue=(0,m.x)(),We=(0,X.k6)(),qe=(0,(0,_.C)().useLaunchWithTelemetry)(),Je=["pureWithAnchorAsset","pureAll"].includes(o.type)||!Be&&1!==Ve.length;E.useEffect((function(){!He&&$e(!1)}),[He]),E.useEffect((function(){Be&&Te(!1)}),[Be]),E.useEffect((function(){["pureWithAnchorAsset","pureAll"].includes(o.type)&&Te(!1)}),[o]);var Ye=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!0),!Je){e.next=6;break}return e.next=4,Xe();case 4:e.next=8;break;case 6:return e.next=8,Qe();case 8:N(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var n,a,s,l,c,d;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("jobName"in o){e.next=3;break}return(0,I._)({title:"Unable to launch as single run",body:"This selection is not valid for a single run launch. Please report this error to the Dagster team."}),e.abrupt("return");case 3:return h||(0,I._)({title:"Unable to launch as single run",body:"You do not have permission to launch this job."}),e.next=6,Ue.query({query:re.Fp,fetchPolicy:"network-only",variables:{repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name},partitionSetName:o.partitionSetName,partitionName:Ve[0].partitionKey}});case 6:if(n=e.sent,(a=n.data)&&a.partitionSetOrError&&"PartitionSet"===a.partitionSetOrError.__typename&&a.partitionSetOrError.partition){e.next=10;break}return e.abrupt("return");case 10:if("PythonError"!==(s=a.partitionSetOrError.partition).tagsOrError.__typename){e.next=14;break}return(0,I._)({title:"Unable to load tags",body:(0,he.jsx)(ne.T9,{error:s.tagsOrError})}),e.abrupt("return");case 14:if("PythonError"!==s.runConfigOrError.__typename){e.next=17;break}return(0,I._)({title:"Unable to load tags",body:(0,he.jsx)(ne.T9,{error:s.runConfigOrError})}),e.abrupt("return");case 17:return l=s.runConfigOrError.yaml||"",c=[].concat((0,L.Z)(s.tagsOrError.results),(0,L.Z)(R)),Be&&((c=c.filter((function(e){return!e.key.startsWith(ce.H.Partition)}))).push({key:ce.H.AssetPartitionRangeStart,value:Le[0].partitionKey}),c.push({key:ce.H.AssetPartitionRangeEnd,value:Le[Le.length-1].partitionKey})),e.next=22,qe({executionParams:(0,F.Z)((0,F.Z)({},Fe(r,o.jobName,i,c)),{},{runConfigData:l,mode:s.mode})},"toast");case 22:"LaunchRunSuccess"===(null===(d=e.sent)||void 0===d?void 0:d.__typename)&&t(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var n,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="job"!==o.type||(0,P.pv)(o.jobName)?"pureAll"===o.type?{tags:R,assetSelection:i.map((function(e){return{path:e.assetKey.path}})),allPartitions:!0}:{tags:R,assetSelection:i.map((function(e){return{path:e.assetKey.path}})),partitionNames:Ve.map((function(e){return e.partitionKey})),fromFailure:!1}:{tags:R,assetSelection:i.map((function(e){return{path:e.assetKey.path}})),partitionNames:Ve.map((function(e){return e.partitionKey})),fromFailure:!1,selector:{partitionSetName:o.partitionSetName,repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name}}},e.next=3,Ue.mutate({mutation:ie.f,variables:{backfillParams:n}});case 3:a=e.sent,"LaunchBackfillSuccess"===(null===(s=a.data)||void 0===s?void 0:s.launchPartitionBackfill.__typename)?((0,ae.Xd)(We,null===s||void 0===s?void 0:s.launchPartitionBackfill.backfillId,!0),t(!1)):(0,ae.mv)(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsxs)("div",{"data-testid":(0,D.N)("choose-partitions-dialog"),children:[(0,he.jsx)(Ce,{displayedPartitionDefinition:Ze,launchAsBackfill:Je,upstreamAssetKeys:a,selections:Re,setSelections:Ke}),"pureAll"===o.type?(0,he.jsx)(Ne,{isInitiallyOpen:!0,title:(0,he.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,he.jsx)(H.pm,{children:"Partition selection"}),(0,he.jsx)("span",{children:"All partitions"})]}),children:(0,he.jsx)(v.x,{padding:{vertical:12,horizontal:24},"data-testid":(0,D.N)("pure-all-partitions-only"),children:(0,he.jsx)(V.b,{intent:"info",title:"The root assets of this selection have different partition definitions. To backfill a specific partition or partition range, select a subset of the assets."},"alert")})}):(0,he.jsxs)(Ne,{isInitiallyOpen:!0,title:(0,he.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,he.jsx)(H.pm,{children:"Partition selection"}),"pureWithAnchorAsset"===o.type?(0,he.jsx)("span",{}):(0,he.jsx)("span",{children:(0,de._e)(Le.length)})]}),children:["pureWithAnchorAsset"===o.type&&(0,he.jsxs)(v.x,{flex:{alignItems:"center",gap:8},padding:{top:12,horizontal:24},"data-testid":(0,D.N)("anchor-asset-label"),children:[(0,he.jsx)(g.JO,{name:"asset"}),(0,he.jsx)(H.pm,{children:(0,P.ll)(o.anchorAssetKey)})]}),Re.map((function(e,n){var t,i;return(0,he.jsxs)(v.x,{border:{side:"bottom",width:1,color:U.w.KeylineGray},padding:{vertical:12,horizontal:24},children:[(0,he.jsxs)(v.x,{as:H.pm,flex:{alignItems:"center",gap:8},children:[(0,he.jsx)(g.JO,{name:"partition"}),e.dimension.name]}),(0,he.jsxs)(v.x,{children:["Select partitions to materialize."," ",e.dimension.type===te.iVC.TIME_WINDOW?"Click and drag to select a range on the timeline.":null]}),(0,he.jsx)(se.x,{partitionKeys:e.dimension.partitionKeys,health:{ranges:Ee.rangesForSingleDimension(n,2===Re.length?Re[1-n].selectedRanges:void 0)},dimensionType:e.dimension.type,selected:e.selectedKeys,setSelected:function(n){return Ke((function(t){return t.map((function(t){return t.dimension===e.dimension?(0,F.Z)((0,F.Z)({},t),{},{selectedKeys:n}):t}))}))},partitionDefinitionName:(null===Ze||void 0===Ze?void 0:Ze.name)||(null===Ie||void 0===Ie||null===(t=Ie.partitionDefinition)||void 0===t||null===(i=t.dimensionTypes.find((function(n){return n.name===e.dimension.name})))||void 0===i?void 0:i.dynamicPartitionsDefinitionName),repoAddress:r,refetch:we}),"pureWithAnchorAsset"===o.type&&(0,he.jsx)(V.b,{intent:"info",title:"Dagster will materialize all partitions downstream of the selected partitions for the selected assets, using separate runs as needed."},"alert")]},e.dimension.name)}))]}),(0,he.jsx)(Ne,{title:(0,he.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,he.jsx)(H.pm,{children:"Tags"}),(0,he.jsxs)("span",{children:[R.length," tags"]})]}),isInitiallyOpen:!1,children:(0,he.jsxs)(v.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:12},children:[(0,he.jsx)(oe.U,{tagsFromSession:R,onChange:K,open:O,onRequestClose:function(){return T(!1)}}),(0,he.jsx)("div",{children:"Tags will be applied to all backfill runs"}),R.length?(0,he.jsx)(oe.x,{tagsFromSession:R,onRequestEdit:function(){return T(!0)},actions:[{label:"Remove",onClick:function(e){K(R.filter((function(n){return n.key!==e.key})))}}]}):null,(0,he.jsx)("div",{children:(0,he.jsx)(y.zx,{onClick:function(){return T(!0)},children:"".concat(R.length?"Edit":"Add"," tags")})})]})}),(0,he.jsx)(Ne,{title:(0,he.jsx)(H.pm,{"data-testid":(0,D.N)("backfill-options"),children:"Backfill options"}),isInitiallyOpen:!0,children:"job"===o.type&&(0,he.jsxs)(v.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:12},children:[(0,he.jsx)(W.X,{"data-testid":(0,D.N)("missing-only-checkbox"),label:"Backfill only failed and missing partitions within selection",checked:De,disabled:Be,onChange:function(){return Te(!De)}}),(0,he.jsxs)(q,{children:[(0,he.jsx)(H.pm,{children:"Launch as..."}),(0,he.jsx)(B.Y8,{"data-testid":(0,D.N)("ranges-as-tags-true-radio"),checked:He&&Be,disabled:!He,onChange:function(){return $e(!Be)},children:(0,he.jsxs)(v.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,he.jsx)("span",{children:"Single run"}),(0,he.jsx)(x.u,{targetTagName:"div",position:"top-left",content:(0,he.jsx)("div",{style:{maxWidth:300},children:"This option requires that your assets are written to operate on a partition key range via context.asset_partition_key_range_for_output or context.asset_partitions_time_window_for_output."}),children:(0,he.jsx)(g.JO,{name:"info",color:U.w.Gray500})})]})}),(0,he.jsx)(B.Y8,{"data-testid":(0,D.N)("ranges-as-tags-false-radio"),checked:!He||!Be,disabled:!He,onChange:function(){return $e(!Be)},children:"Multiple runs (One per selected partition)"})]})]})}),(0,he.jsxs)(v.x,{padding:{horizontal:24},children:[Y>0&&(0,he.jsxs)(v.x,{margin:{top:16},flex:{direction:"column",gap:8},padding:{vertical:16,horizontal:20},border:{side:"horizontal",width:1,color:U.w.KeylineGray},background:U.w.Gray100,style:{marginLeft:-20,marginRight:-20,overflowY:"auto",overflowX:"visible",maxHeight:"35vh"},children:[l.slice(0,Y).map((function(e){return(0,he.jsx)(fe.m,{assetKey:e.assetKey,showAssetKey:!0,data:Se,selections:e.partitionDefinition&&Ze&&(0,pe.z3)(e.partitionDefinition,Ze)?Re:void 0},(0,P.ll)(e.assetKey))})),le>0&&(0,he.jsx)(v.x,{margin:{vertical:8},children:(0,he.jsxs)(J.Z,{onClick:function(){return Q(l.length)},children:["Show ",le," more ",le>1?"previews":"preview"]})})]}),0===Y&&l.length>1&&(0,he.jsx)(v.x,{margin:{top:16,bottom:8},children:(0,he.jsx)(J.Z,{onClick:function(){return Q(5)},children:"Show per-asset partition health"})})]})]}),(0,he.jsxs)($.cN,{topBorder:!0,left:"partitionSetName"in o&&(0,he.jsx)(ge,{partitionSetName:o.partitionSetName}),children:[(0,he.jsx)(y.zx,{intent:"none",onClick:function(){return t(!1)},children:"Cancel"}),Je&&!b?(0,he.jsx)(x.u,{content:j.canLaunchPartitionBackfill,children:(0,he.jsx)(y.zx,{disabled:!0,children:"job"===o.type?"Launch ".concat(Ve.length,"-run backfill"):"Launch backfill"})}):Je||h?(0,he.jsx)(y.zx,{"data-testid":(0,D.N)("launch-button"),intent:"primary",onClick:Ye,disabled:"pureAll"!==o.type&&0===Ve.length,loading:C,children:C?"Launching...":Je?"job"===o.type?"Launch ".concat(Ve.length,"-run backfill"):"Launch backfill":"Launch 1 run"}):(0,he.jsx)(x.u,{content:j.canLaunchPipelineExecution,children:(0,he.jsx)(y.zx,{disabled:!0,children:"Launch 1 run"})})]})]})},we=function(e){var n=e.upstreamAssetKeys,t=e.selections,i=e.setSelections,r=(0,ve.mR)(n);if(0===r.length)return null;var o=function(e){return r.some((function(n){return n.dimensions.length&&n.stateForKey([e])===ue.yo.MISSING}))},a=1===t.length?(0,le.lU)(t[0].selectedKeys,o).filter((function(e){return!0===e.status})):[];if(0===a.length)return null;return(0,he.jsx)(V.b,{intent:"warning",title:"Upstream data missing",description:(0,he.jsxs)(he.Fragment,{children:[a.map((function(e){return(0,le.ZX)(e,t[0].selectedKeys)})).join(", ")," cannot be materialized because upstream materializations are missing. Consider materializing upstream assets or ",(0,he.jsx)(J.Z,{underline:"always",onClick:function(){if(t.length>1)throw new Error("Assertion failed, this feature is only available for 1 dimensional assets");var e=t[0];i([(0,F.Z)((0,F.Z)({},e),{},{selectedKeys:Q()(e.selectedKeys,o)})])},children:"remove these partitions"})," to avoid failures."]})})},Se=(0,h.Ps)(r||(r=(0,d.Z)(["\n  query LaunchAssetWarningsQuery($upstreamAssetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $upstreamAssetKeys) {\n      id\n      isSource\n      assetKey {\n        path\n      }\n      partitionDefinition {\n        description\n        dimensionTypes {\n          __typename\n          name\n          dynamicPartitionsDefinitionName\n        }\n      }\n    }\n    instance {\n      id\n      ...DaemonNotRunningAlertInstanceFragment\n      ...UsingDefaultLauncherAlertInstanceFragment\n    }\n  }\n\n  ","\n  ","\n"])),ae.op,ae.EC),Ce=function(e){var n,t,i=e.launchAsBackfill,r=e.upstreamAssetKeys,o=e.selections,a=e.setSelections,s=e.displayedPartitionDefinition,l=(0,G.a)(Se,{variables:{upstreamAssetKeys:r}}),c=null===(n=l.data)||void 0===n?void 0:n.instance,d=null===(t=l.data)||void 0===t?void 0:t.assetNodes,u=E.useMemo((function(){return(d||[]).filter((function(e){return!e.isSource&&e.partitionDefinition&&s&&(0,pe.z3)(e.partitionDefinition,s)})).map((function(e){return e.assetKey}))}),[d,s]),p=[we({upstreamAssetKeys:u,selections:o,setSelections:a}),c&&i&&(0,ae.So)({instance:c}),c&&i&&(0,ae.d)({instance:c})].filter((function(e){return!!e})).map((function(e,n){return(0,he.jsx)(v.x,{children:e},n)}));return c&&p.length?(0,he.jsx)(Ne,{background:U.w.Yellow50,isInitiallyOpen:!1,title:(0,he.jsxs)(v.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},style:{color:U.w.Yellow700},children:[(0,he.jsxs)(v.x,{flex:{alignItems:"center",gap:12},children:[(0,he.jsx)(g.JO,{name:"warning",color:U.w.Yellow700}),(0,he.jsx)(H.pm,{children:"Warnings"})]}),(0,he.jsx)("span",{children:p.length>1?"".concat(p.length," warnings"):"1 warning"})]}),children:(0,he.jsx)(v.x,{flex:{direction:"column",gap:16},padding:{vertical:12,horizontal:24},children:p})}):null},Ne=function(e){var n=e.isInitiallyOpen,t=e.title,i=e.children,r=e.background,o=E.useState(n),a=(0,f.Z)(o,2),s=a[0],l=a[1];return(0,he.jsxs)(v.x,{children:[(0,he.jsxs)(v.x,{onClick:function(){return l(!s)},background:null!==r&&void 0!==r?r:U.w.Gray50,border:{side:"bottom",color:U.w.KeylineGray,width:1},flex:{alignItems:"center",direction:"row"},padding:{vertical:12,horizontal:24},style:{cursor:"pointer"},children:[(0,he.jsx)(ke,{$rotate:!s,children:(0,he.jsx)(g.JO,{name:"arrow_drop_down"})}),(0,he.jsx)("div",{style:{flex:1},children:t})]}),s&&(0,he.jsx)(v.x,{children:i})]})},ke=z.ZP.span.withConfig({displayName:"LaunchAssetChoosePartitionsDialog__Rotateable",componentId:"sc-1mfaiz8-0"})(["",""],(function(e){return e.$rotate?"transform: rotate(-90deg);":""})),Ee=t(50021),Ie=function(e){return e.length>1?" (".concat(e.length,")"):""},Ze=function(e){return e.some((function(e){return"partitionDefinition"in e&&!!e.partitionDefinition||"isPartitioned"in e&&e.isPartitioned}))},Pe="Assets can only be materialized together if they are defined in the same code location and share a partition space, or form a connected graph in which root assets share the same partitioning.";var _e=function(e){var n=e.scope,t=e.liveDataForStale,i=e.preferredJobName,r=e.intent,o=void 0===r?"primary":r,a=Oe(i),s=a.onClick,l=a.loading,c=a.launchpadElement,d=E.useState(!1),u=(0,f.Z)(d,2),p=u[0],m=u[1],h=function(e,n){if("selected"in e){var t=e.selected.filter((function(e){return!e.isSource})),i=e.selected.every((function(e){return e.hasMaterializePermission}));return[{assetKeys:t.map((function(e){return e.assetKey})),label:"Materialize selected".concat(Ie(t)).concat(Ze(t)?"\u2026":""),hasMaterializePermission:i}]}var r=[],o=e.all.filter((function(e){return!e.isSource})),a=o.every((function(e){return e.hasMaterializePermission}));if(r.push({assetKeys:o.map((function(e){return e.assetKey})),label:o.length>1&&!e.skipAllTerm?"Materialize all".concat(Ze(o)?"\u2026":""):"Materialize".concat(Ze(o)?"\u2026":""),hasMaterializePermission:a}),n){var s=o.filter((function(e){return(0,Ee.KO)(n[(0,P.Wu)(e.assetKey)])||(0,Ee.KM)(n[(0,P.Wu)(e.assetKey)])}));r.push({assetKeys:s.map((function(e){return e.assetKey})),label:"Materialize changed and missing".concat(Ie(s)),hasMaterializePermission:a,icon:(0,he.jsx)(g.JO,{name:"changes_present"})})}return r}(n,t),S=h[0],C=S.hasMaterializePermission,N=(0,_.C)().MaterializeButton;return S?C?(0,he.jsxs)(he.Fragment,{children:[(0,he.jsxs)(v.x,{flex:{alignItems:"center"},children:[(0,he.jsx)(x.u,{content:"Shift+click to add configuration",position:"bottom-right",useDisabledButtonTooltipFix:!0,children:(0,he.jsx)(N,{intent:o,"data-testid":(0,D.N)("materialize-button"),onClick:function(e){return s(S.assetKeys,e)},style:{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"1px solid rgba(255,255,255,0.2)"},disabled:!S.assetKeys.length,icon:l?(0,he.jsx)(b.$,{purpose:"body-text"}):(0,he.jsx)(g.JO,{name:"materialization"}),children:S.label})}),(0,he.jsx)(j.J,{isOpen:p,onInteraction:function(e){return m(e)},position:"bottom-right",content:(0,he.jsxs)(w.v2,{children:[h.slice(1).map((function(e){return(0,he.jsx)(w.sN,{text:e.label,icon:e.icon||"materialization",disabled:0===e.assetKeys.length,onClick:function(n){return s(e.assetKeys,n)}},e.label)})),(0,he.jsx)(w.sN,{text:"Open launchpad",icon:(0,he.jsx)(g.JO,{name:"open_in_new"}),onClick:function(e){s(S.assetKeys,e,!0)}})]}),children:(0,he.jsx)(y.zx,{role:"button",style:{minWidth:"initial",borderTopLeftRadius:0,borderBottomLeftRadius:0},icon:(0,he.jsx)(g.JO,{name:"arrow_drop_down"}),disabled:!S.assetKeys.length,intent:o})})]}),c]}):(0,he.jsx)(x.u,{content:"You do not have permission to materialize assets",position:"bottom-right",children:(0,he.jsx)(y.zx,{intent:o,icon:(0,he.jsx)(g.JO,{name:"materialization"}),disabled:!0,children:S.label})}):(0,he.jsx)("span",{})},Oe=function(e){var n=(0,(0,_.C)().useLaunchWithTelemetry)(),t=(0,m.x)(),i=(0,Z.p)(),r=E.useState({type:"none"}),o=(0,f.Z)(r,2),a=o[0],s=o[1],l=function(){var r=(0,p.Z)((0,u.Z)().mark((function r(o,l){var c,d,p,f,m,h,g=arguments;return(0,u.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=g.length>2&&void 0!==g[2]&&g[2],"loading"!==a.type){r.next=3;break}return r.abrupt("return");case 3:return s({type:"loading"}),r.next=6,t.query({query:$e,variables:{assetKeys:o.map((function(e){return{path:e.path}}))}});case 6:if(!(d=r.sent).data.assetNodeDefinitionCollisions.length){r.next=11;break}return(0,I._)(ze(d.data)),s({type:"none"}),r.abrupt("return");case 11:return p=d.data.assetNodes,f=l.shiftKey||c,r.next=15,De(t,p,f,e);case 15:if("error"!==(m=r.sent).type){r.next=20;break}return(0,I._)({title:"Unable to Materialize",body:m.error}),s({type:"none"}),r.abrupt("return");case 20:return r.next=22,Ke(t,p);case 22:if(!(h=r.sent).length){r.next=34;break}return s({type:"none"}),r.prev=25,r.next=28,i({title:"Are you sure?",description:(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)("div",{children:"Materializing these assets may fail because the upstream assets listed below have not been materialized yet."}),(0,he.jsx)("ul",{children:h.map((function(e,n){return(0,he.jsx)("li",{children:(0,P.ll)(e)},n)}))})]})});case 28:s({type:"loading"}),r.next=34;break;case 31:return r.prev=31,r.t0=r.catch(25),r.abrupt("return");case 34:if("single-run"!==m.type){r.next=40;break}return r.next=37,n({executionParams:m.executionParams},"toast");case 37:s({type:"none"}),r.next=41;break;case 40:s(m);case 41:case"end":return r.stop()}}),r,null,[[25,31]])})));return function(e,n){return r.apply(this,arguments)}}();return{onClick:l,loading:"loading"===a.type,launchpadElement:"launchpad"===a.type?(0,he.jsx)(O.e,{assetJobName:a.jobName,repoAddress:a.repoAddress,sessionPresets:a.sessionPresets,open:!0,setOpen:function(){return s({type:"none"})}}):"partitions"===a.type?(0,he.jsx)(be,{assets:a.assets,upstreamAssetKeys:a.upstreamAssetKeys,repoAddress:a.repoAddress,target:a.target,open:!0,setOpen:function(){return s({type:"none"})},refetch:(0,p.Z)((0,u.Z)().mark((function n(){var i,r,o;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.query({query:$e,variables:{assetKeys:a.assets.map((function(e){return{path:e.assetKey.path}}))}});case 2:return i=n.sent,r=i.data.assetNodes,n.next=6,De(t,r,!1,e);case 6:if("error"!==(o=n.sent).type){n.next=11;break}return(0,I._)({title:"Unable to Materialize",body:o.error}),s({type:"none"}),n.abrupt("return");case 11:s(o);case 12:case"end":return n.stop()}}),n)})))}):null}};function De(e,n,t,i){return Te.apply(this,arguments)}function Te(){return(Te=(0,p.Z)((0,u.Z)().mark((function e(n,t,i,r){var o,a,s,l,c,d,p,f,m,h,g,x,y,v,b,j,w,S,C,N;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return e.isSource}))){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more source assets are selected and cannot be materialized."});case 2:if(c=(0,A.kQ)((null===(o=t[0])||void 0===o?void 0:o.repository.name)||"",(null===(a=t[0])||void 0===a?void 0:a.repository.location.name)||""),d=Ae(t,r),p=null===(s=t.find((function(e){return!!e.partitionDefinition})))||void 0===s?void 0:s.partitionDefinition,f=t.every((function(e){return e.repository.name===c.name&&e.repository.location.name===c.location})),m=t.every((function(e){return!e.partitionDefinition||!p||(0,pe.z3)(e.partitionDefinition,p)})),f&&m&&d){e.next=14;break}if(p){e.next=10;break}return e.abrupt("return",{type:"error",error:Pe});case 10:if(h=Me(t)){e.next=13;break}return e.abrupt("return",{type:"partitions",assets:t,target:{type:"pureAll"},upstreamAssetKeys:[],repoAddress:c});case 13:return e.abrupt("return",{type:"partitions",assets:t,target:{type:"pureWithAnchorAsset",anchorAssetKey:h.assetKey},upstreamAssetKeys:Re(t),repoAddress:c});case 14:return e.next=16,n.query({query:He,variables:{pipelineName:d,repositoryName:t[0].repository.name,repositoryLocationName:t[0].repository.location.name}});case 16:if(g=e.sent,"Pipeline"===(x=g.data.pipelineOrError).__typename){e.next=20;break}return e.abrupt("return",{type:"error",error:x.message});case 20:if("PartitionSets"===(y=g.data.partitionSetsOrError).__typename){e.next=23;break}return e.abrupt("return",{type:"error",error:y.message});case 23:if(v=null===(l=y.results[0])||void 0===l?void 0:l.name,b=t.flatMap((function(e){return e.requiredResources.map((function(e){return e.resourceKey}))})),j=x.modes[0].resources.filter((function(e){return b.includes(e.name)})),w=j.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),S=t.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),C=p&&!(0,P.pv)(d),!(!C&&(S||w))&&!i){e.next=33;break}return N=t.flatMap((function(e){return e.opNames||[]})),e.abrupt("return",{type:"launchpad",jobName:d,repoAddress:c,sessionPresets:{flattenGraphs:!0,assetSelection:t.map((function(e){return{assetKey:e.assetKey,opNames:e.opNames}})),solidSelectionQuery:N.map((function(e){return'"'.concat(e,'"')})).join(", "),base:v?{partitionsSetName:v,partitionName:null,tags:[]}:void 0}});case 33:if(!p||!v){e.next=35;break}return e.abrupt("return",{type:"partitions",assets:t,target:{type:"job",jobName:d,partitionSetName:v},upstreamAssetKeys:Re(t),repoAddress:c});case 35:return e.abrupt("return",{type:"single-run",executionParams:Fe(c,d,t,[])});case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,n){var t=e[0]?e[0].jobNames.filter((function(n){return e.every((function(e){return e.jobNames.includes(n)}))})):[];return t.find((function(e){return e===n}))||t[0]||null}function Me(e){var n=e.filter((function(n){var t=n.dependencyKeys.map(P.Je);return!e.some((function(e){return t.includes((0,P.Je)(e.assetKey))}))})).filter((function(e){return!!e.partitionDefinition})).sort((function(e,n){return(0,P.ll)(e.assetKey).localeCompare((0,P.ll)(n.assetKey))}));if(!n.length)return null;var t=n[0];return t&&!n.every((function(e){return(0,pe.z3)(t.partitionDefinition,e.partitionDefinition)}))?null:t}function Re(e){var n=new Set(e.map((function(e){return JSON.stringify({path:e.assetKey.path})})));return k()(e.flatMap((function(e){return e.dependencyKeys.map((function(e){var n=e.path;return JSON.stringify({path:n})}))}))).filter((function(e){return!n.has(e)})).map((function(e){return JSON.parse(e)}))}function Ke(e,n){return Le.apply(this,arguments)}function Le(){return(Le=(0,p.Z)((0,u.Z)().mark((function e(n,t){var i,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(i=Re(t)).length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,n.query({query:Ve,variables:{assetKeys:i}});case 5:return r=e.sent,e.abrupt("return",r.data.assetNodes.filter((function(e){return!e.isSource&&0===e.assetMaterializations.length})).map((function(e){return e.assetKey})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,n,t,i){return{mode:"default",executionMetadata:{tags:i.map((function(e){return C()(e,["key","value"])}))},runConfigData:"{}",selector:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n,assetSelection:t.map((function(e){return{path:e.assetKey.path}}))}}}function ze(e){return{title:K.a,body:(0,he.jsxs)("div",{style:{overflow:"auto"},children:["One or more of the selected assets are defined in multiple code locations. Rename these assets to avoid collisions and then try again.",(0,he.jsx)("ul",{children:e.assetNodeDefinitionCollisions.map((function(e,n){return(0,he.jsxs)("li",{children:[(0,he.jsx)("strong",{children:(0,P.ll)(e.assetKey)}),(0,he.jsx)("ul",{children:e.repositories.map((function(e,n){return(0,he.jsx)("li",{children:(0,M.Uz)({name:e.name,location:e.location.name})},n)}))})]},n)}))})]})}}var Ge=(0,h.Ps)(o||(o=(0,d.Z)(["\n  fragment PartitionDefinitionForLaunchAssetFragment on PartitionDefinition {\n    description\n    type\n    name\n    dimensionTypes {\n      name\n      dynamicPartitionsDefinitionName\n    }\n  }\n"]))),Be=(0,h.Ps)(a||(a=(0,d.Z)(["\n  fragment LaunchAssetExecutionAssetNodeFragment on AssetNode {\n    id\n    opNames\n    jobNames\n    graphName\n    hasMaterializePermission\n    partitionDefinition {\n      ...PartitionDefinitionForLaunchAssetFragment\n    }\n    isObservable\n    isSource\n    assetKey {\n      path\n    }\n    dependencyKeys {\n      path\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n    ...AssetNodeConfigFragment\n  }\n\n  ","\n  ","\n"])),R.r,Ge),$e=(0,h.Ps)(s||(s=(0,d.Z)(["\n  query LaunchAssetLoaderQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys) {\n      id\n      ...LaunchAssetExecutionAssetNodeFragment\n    }\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n\n  ","\n"])),Be),He=(0,h.Ps)(l||(l=(0,d.Z)(["\n  query LaunchAssetLoaderResourceQuery(\n    $pipelineName: String!\n    $repositoryLocationName: String!\n    $repositoryName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PythonError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PartitionSets {\n        results {\n          id\n          name\n        }\n      }\n    }\n\n    pipelineOrError(\n      params: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PythonError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on Pipeline {\n        id\n        modes {\n          id\n          resources {\n            name\n            description\n            configField {\n              name\n              isRequired\n              configType {\n                ...ConfigTypeSchemaFragment\n                recursiveConfigTypes {\n                  ...ConfigTypeSchemaFragment\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"])),T.S),Ve=(0,h.Ps)(c||(c=(0,d.Z)(["\n  query LaunchAssetCheckUpstreamQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      assetKey {\n        path\n      }\n      isSource\n      opNames\n      graphName\n      assetMaterializations(limit: 1) {\n        runId\n      }\n    }\n  }\n"])))},30557:function(e,n,t){t.d(n,{$G:function(){return h},f1:function(){return y},nv:function(){return f},vH:function(){return m},xy:function(){return v},z3:function(){return x},z5:function(){return g}});var i=t(56666),r=t(33028),o=t(68079),a=t(41361),s=t(8236),l=t.n(s),c=t(23662),d=t.n(c),u=t(23555),p=t(87519);function f(e){return m(e.partitionKeys[0])}function m(){return/\d{4}-\d{2}-\d{2}/.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}function h(e){if(!e.length)return{dimensions:[],stateForKey:function(){return[p.yo.MISSING]},rangesForSingleDimension:function(){return[]}};var n=e[0].dimensions;if(!e.every((function(e){return e.dimensions.length===n.length})))throw new Error("Attempting to show unified asset health for assets with different dimensions");if(!e.every((function(e){return e.dimensions.every((function(e,t){return e.partitionKeys.length===n[t].partitionKeys.length}))})))throw new Error("Attempting to show unified asset health for assets with dimension of different lengths");return{dimensions:n.map((function(e){return{name:e.name,partitionKeys:e.partitionKeys,type:e.type}})),stateForKey:function(n){return d()(e.map((function(e){return e.stateForKey(n)})))},rangesForSingleDimension:function(t,i){return function(e,n){if(1===n.length)return n[0];var t,i=[],r=(0,a.Z)(n);try{for(r.s();!(t=r.n()).done;){var o,s=t.value,l=(0,a.Z)(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;i.push({idx:c.start.idx,delta:1,state:c.value}),i.push({idx:c.end.idx+1,delta:-1,state:c.value})}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}return g(e,i,n.length)}(n[t].partitionKeys,e.map((function(e){return e.rangesForSingleDimension(t,i)})))}}}function g(e,n,t){var s,c=(0,o.Z)(n).sort((function(e,n){return e.idx-n.idx||n.delta-e.delta})),d=[],u=(0,a.Z)(c);try{for(u.s();!(s=u.n()).done;){var f,m=s.value,h=(0,a.Z)(m.state);try{for(h.s();!(f=h.n()).done;){var g,x=f.value,y=d[d.length-1];if(y&&y.idx===m.idx)y[x]=(y[x]||0)+m.delta;else d.push((0,r.Z)((0,r.Z)({},y||(0,p.Bw)()),{},(g={},(0,i.Z)(g,x,((null===y||void 0===y?void 0:y[x])||0)+m.delta),(0,i.Z)(g,"idx",m.idx),g)))}}catch(P){h.e(P)}finally{h.f()}}}catch(P){u.e(P)}finally{u.f()}for(var v=[],b=0,j=d;b<j.length;b++){var w=j[b],S=w.idx,C=w.MATERIALIZED,N=w.FAILED,k=w.MATERIALIZING,E=w.MISSING,I=[];N>0&&I.push(p.yo.FAILED),C>0&&I.push(p.yo.MATERIALIZED),k>0&&I.push(p.yo.MATERIALIZING),(E>0||N+C+k<t)&&I.push(p.yo.MISSING);var Z=v[v.length-1];l()(null===Z||void 0===Z?void 0:Z.value,I)||(Z&&(Z.end={idx:S-1,key:e[S-1]}),v.push({start:{idx:S,key:e[S]},end:{idx:S,key:e[S]},value:I}))}return v.filter((function(n){return n.start.idx<e.length&&!l()(n.value,[p.yo.MISSING])}))}function x(e,n){return e.description===n.description&&JSON.stringify(e.dimensionTypes)===JSON.stringify(n.dimensionTypes)}function y(e,n){if(0===e.length)return[];if(1===e.length)return e[0].selectedKeys.map((function(e){return{partitionKey:e,state:n([e])}}));if(2===e.length){var t,i=[],r=(0,a.Z)(e[0].selectedKeys);try{for(r.s();!(t=r.n()).done;){var o,s=t.value,l=(0,a.Z)(e[1].selectedKeys);try{for(l.s();!(o=l.n()).done;){var c=o.value;i.push({partitionKey:"".concat(s,"|").concat(c),state:n([s,c])})}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}return i}throw new Error("Unsupported >2 partitions defined")}var v=function(e){return{dimension:{name:e,partitionKeys:[],type:u.iVC.STATIC},selectedKeys:[],selectedRanges:[]}}},50883:function(e,n,t){t.d(n,{m:function(){return m}});var i=t(68079),r=t(62459),o=t(47515),a=t(32667),s=t(83473),l=t(78193),c=t(9938),d=t(72374),u=t(87519),p=t(30557),f=t(35936),m=l.memo((function(e){var n=e.showAssetKey,t=e.assetKey,l=e.data,m=e.selections,h=l.find((function(e){return JSON.stringify(e.assetKey)===JSON.stringify(t)}));if(!h)return(0,f.jsx)("div",{style:{minHeight:55,position:"relative"},children:(0,f.jsx)(r.$,{purpose:"section"})});var g=m?m.map((function(e){return e.selectedKeys})):h.dimensions.map((function(e){return e.partitionKeys})),x=g.reduce((function(e,n){return n.length*e}),1),y=g.reduce((function(e,n){return e.length?e.flatMap((function(e){return n.map((function(n){return[].concat((0,i.Z)(e),[n])}))})):n.map((function(e){return[e]}))}),[]).filter((function(e){return h.stateForKey(e)===u.yo.MATERIALIZED})).length;return(0,f.jsxs)(o.x,{color:a.w.Gray500,children:[(0,f.jsxs)(o.x,{flex:{justifyContent:"space-between"},style:{fontWeight:600},margin:{bottom:4},children:[(0,f.jsx)(s.YS,{children:n?(0,c.ll)(t):"Materialized"}),(0,f.jsx)(s.YS,{children:"".concat(y.toLocaleString(),"/").concat(x.toLocaleString())})]}),h.dimensions.map((function(e,n){return(0,f.jsxs)(o.x,{margin:{bottom:4},children:[h.dimensions.length>1&&(0,f.jsx)(s.YS,{children:e.name}),(0,f.jsx)(d.b,{small:!0,partitionNames:e.partitionKeys,splitPartitions:!(0,p.nv)(e),selected:m?m[n].selectedKeys:void 0,health:{ranges:h.rangesForSingleDimension(n,2===(null===m||void 0===m?void 0:m.length)?m[1-n].selectedRanges:void 0)}})]},n)}))]})}))},12197:function(e,n,t){t.d(n,{q:function(){return o},y:function(){return a}});var i=t(78193),r=[];function o(e){var n=i.useRef(e);n.current=e,i.useEffect((function(){var e=function(){return n.current()};return r.push(e),function(){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}),[])}function a(){r.forEach((function(e){return e()}))}},50021:function(e,n,t){t.d(n,{KM:function(){return S},KO:function(){return w},d9:function(){return k},f4:function(){return N}});var i,r,o=t(33028),a=t(96234),s=t(56666),l=t(83473),c=t(32667),d=t(44229),u=t(72835),p=t(32375),f=t(92555),m=t(47515),h=t(276),g=t.n(h),x=t(8236),y=t.n(x),v=(t(78193),t(9938)),b=t(23555),j=t(35936),w=function(e){return e&&e.staleStatus===b.D9X.MISSING},S=function(e){return e&&e.staleStatus===b.D9X.STALE},C={self:(i={},(0,s.Z)(i,b.R$Y.CODE,"Code version"),(0,s.Z)(i,b.R$Y.DATA,"Data version"),(0,s.Z)(i,b.R$Y.DEPENDENCIES,"Dependencies"),i),upstream:(r={},(0,s.Z)(r,b.R$Y.CODE,"Upstream code version"),(0,s.Z)(r,b.R$Y.DATA,"Upstream data"),(0,s.Z)(r,b.R$Y.DEPENDENCIES,"Upstream dependencies"),r)},N=function(e){var n=e.liveData,t=e.include,i=e.assetKey;return S(n)&&null!==n&&void 0!==n&&n.staleCauses.length?(0,j.jsx)(l.uT,{color:c.w.Yellow700,children:(0,j.jsx)(d.u,{position:"top",content:(0,j.jsx)(I,{causes:n.staleCauses}),children:Object.keys(E(i,t,n)).join(", ")})}):null},k=function(e){var n=e.liveData,t=e.include,i=e.assetKey,r=e.onClick;return S(n)&&null!==n&&void 0!==n&&n.staleCauses.length?(0,j.jsx)(j.Fragment,{children:Object.entries(E(i,t,n)).map((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,j.jsx)(d.u,{position:"top",content:(0,j.jsx)(I,{causes:i}),children:(0,j.jsx)(u.m,{fillColor:c.w.Yellow50,textColor:c.w.Yellow700,interactive:!!r,icon:(0,j.jsx)(p.JO,{name:"changes_present",color:c.w.Yellow700}),label:r?(0,j.jsx)(f.Z,{underline:"never",onClick:r,color:c.w.Yellow700,children:t}):t})},t)}))}):null};function E(e,n,t){var i=((null===t||void 0===t?void 0:t.staleCauses)||[]).map((function(n){var t=y()(e.path,n.key.path)?"self":"upstream";return(0,o.Z)((0,o.Z)({},n),{},{target:t,label:C[t][n.category]})})).filter((function(e){return"all"===n||n===e.target}));return g()(i,(function(e){return e.label}))}var I=function(e){var n=e.causes;return(0,j.jsxs)(m.x,{children:[(0,j.jsx)("strong",{children:"Changes since last materialization:"}),(0,j.jsxs)("ul",{style:{margin:0,padding:"4px 12px"},children:[n.slice(0,4).map((function(e,n){return(0,j.jsxs)("li",{children:[(0,j.jsx)(l.aU,{children:(0,v.ll)(e.key)})," ",e.reason," ",e.dependency?"(".concat((0,v.ll)(e.dependency),")"):""]},n)})),n.length>4?(0,j.jsx)("span",{style:{color:c.w.Gray400},children:"and ".concat(n.length-4," more...")}):""]})]})}},45129:function(e,n,t){t.d(n,{q:function(){return u}});var i=t(68079),r=t(33028),o=t(96234),a=t(78193),s=t(46860),l=t(34918),c=t(36980),d=t(30557);var u=function(e){var n=e.assetHealth,t=e.knownDimensionNames,u=void 0===t?[]:t,p=e.modifyQueryString,f=e.skipPartitionKeyValidation,m=e.shouldReadPartitionQueryStringParam,h=void 0!==m&&m,g=a.useMemo((function(){return function(e){return{defaults:{},encode:function(e){return Object.fromEntries(e.map((function(e){return["".concat(e.name,"_range"),e.rangeText]})))},decode:function(n){var t={};for(var i in n)if(i.endsWith("_range"))t[i.replace(/_range$/,"")]={text:n[i],isFromPartitionQueryStringParam:!1};else if("partition"===i)for(var r=n[i].split("|"),a=0;a<r.length;a++){var s,l=r[a],c=null===e||void 0===e||null===(s=e.dimensions[a])||void 0===s?void 0:s.name;c&&(t[c]={text:l,isFromPartitionQueryStringParam:!0})}return Object.entries(t).map((function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return{name:t,rangeText:i.text,isFromPartitionQueryStringParam:i.isFromPartitionQueryStringParam}}))}}}(n)}),[n]),x=(0,s.q)(g),y=(0,o.Z)(x,2),v=y[0],b=y[1],j=a.useState([]),w=(0,o.Z)(j,2),S=w[0],C=w[1],N=JSON.stringify(u),k=a.useMemo((function(){return n&&n.dimensions.length?n.dimensions.map((function(e){var n=S.find((function(n){return n.name===e.name}))||v.find((function(n){return n.name===e.name}));return void 0===(null===n||void 0===n?void 0:n.rangeText)||!h&&null!==n&&void 0!==n&&n.isFromPartitionQueryStringParam?{dimension:e,selectedRanges:[(0,c.$0)(e)],selectedKeys:(0,i.Z)(e.partitionKeys)}:(0,r.Z)({dimension:e},(0,c.w$)(e.partitionKeys,n.rangeText,f))})):JSON.parse(N).map(d.xy)}),[n,N,S,v,h,f]);return[k,(0,l.F)(k,(function(e){var n=e.map((function(e){var n=(0,c.Z8)(e.selectedKeys,f?void 0:e.dimension.partitionKeys),t=S.find((function(n){return n.name===e.dimension.name}))||v.find((function(n){return n.name===e.dimension.name}));return{name:e.dimension.name,rangeText:n!==(0,c.NN)(e.dimension)?n:void 0,isFromPartitionQueryStringParam:!(!t||(null===t||void 0===t?void 0:t.rangeText)!==n)&&t.isFromPartitionQueryStringParam}}));p?b(n):C(n)}))]}},52072:function(e,n,t){t.d(n,{CA:function(){return Z},em:function(){return D},h1:function(){return P},mC:function(){return E},mR:function(){return O},tP:function(){return N}});var i,r=t(71171),o=t(32723),a=t(33028),s=t(34795),l=t(56666),c=t(68079),d=t(41361),u=t(96234),p=t(61794),f=t(31623),m=t(8236),h=t.n(m),g=t(78193),x=t(88949),y=t(23555),v=t(36980),b=t(87519),j=t(30557),w=t(12197);function S(e,n){var t="AssetNode"===e.assetNodeOrError.__typename?e.assetNodeOrError.partitionKeysByDimension:[],i="AssetNode"===e.assetNodeOrError.__typename&&e.assetNodeOrError.assetPartitionStatuses||{__typename:"DefaultPartitionStatuses",unmaterializedPartitions:[],materializedPartitions:[],materializingPartitions:[],failedPartitions:[]},r=2===t.length&&"MultiPartitionStatuses"===i.__typename&&i.primaryDimensionName!==t[0].name,o=r?[t[1],t[0]]:t,a=_(o,i),s=function(e){if(e.length!==o.length)return M("[stateForKey] called with incorrect number of dimensions"),b.yo.MISSING;if(0===e.length)return M("[stateForKey] called with zero dimension keys"),b.yo.MISSING;var n=e.map((function(e,n){return o[n].partitionKeys.indexOf(e)})),t=a.find((function(e){return e.start.idx<=n[0]&&e.end.idx>=n[0]}));if(!t)return b.yo.MISSING;if(!t.subranges||1===n.length)return t.value[0];var i=t.subranges.find((function(e){return e.start.idx<=n[1]&&e.end.idx>=n[1]}));return i?i.value[0]:b.yo.MISSING};return{assetKey:n,dimensions:t.map((function(e){return{name:e.name,partitionKeys:e.partitionKeys,type:e.type}})),stateForKey:function(e){return s(r?e.reverse():e)},ranges:a,rangesForSingleDimension:function(e,n){if(0===o.length)return[];if(e>=o.length)return M("[rangesForSingleDimension] called with invalid dimension index"),[];if(r&&(e=1-e),0!==e||n){if(0===e&&n){var t=I(n);if(0===t)return[];var i=a.map((function(e){var i=e.subranges?N(e.subranges,n):[];return{start:e.start,end:e.end,value:C(i,t),subranges:i}})).filter((function(e){return!h()(e.value,[b.yo.MISSING])}));return k(i)}var s=(0,u.Z)(o,2),l=s[0],c=s[1].partitionKeys,p=n?I(n):l.partitionKeys.length;if(0===p)return[];var f,m=[],g=n?N(a,n):a,x=(0,d.Z)(g);try{for(x.s();!(f=x.n()).done;){var y,v=f.value,w=v.end.idx-v.start.idx+1,S=(0,d.Z)(v.subranges||[]);try{for(S.s();!(y=S.n()).done;){var E=y.value;m.push({idx:E.start.idx,delta:w,state:E.value}),m.push({idx:E.end.idx+1,delta:-w,state:E.value})}}catch(Z){S.e(Z)}finally{S.f()}}}catch(Z){x.e(Z)}finally{x.f()}return(0,j.z5)(c,m,p)}return k(a)},isRangeDataInverted:r}}function C(e,n){var t=I(e.filter((function(e){return e.value.includes(b.yo.MATERIALIZED)}))),i=I(e.filter((function(e){return e.value.includes(b.yo.MATERIALIZING)}))),r=I(e.filter((function(e){return e.value.includes(b.yo.FAILED)}))),o=[];return t>0&&o.push(b.yo.MATERIALIZED),i>0&&o.push(b.yo.MATERIALIZING),r>0&&o.push(b.yo.FAILED),t+r+i<n&&o.push(b.yo.MISSING),o}function N(e,n){return e.flatMap((function(e){return function(e,n){var t=n.filter((function(n){var t=n.start,i=n.end;return e.start.idx<=i.idx&&e.end.idx>=t.idx}));return t.map((function(n){var t=n.start,i=n.end;return{value:e.value,start:e.start.idx>t.idx?e.start:t,end:e.end.idx<i.idx?e.end:i,subranges:e.subranges}}))}(e,n)}))}function k(e){var n,t=[],i=(0,d.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=t[t.length-1];o&&o.end.idx===r.start.idx-1&&h()(o.value,r.value)?o.end=r.end:t.push({start:r.start,end:r.end,value:r.value})}}catch(a){i.e(a)}finally{i.f()}return t}function E(e,n){var t=n.partitionKeys.indexOf(e);return{start:{key:e,idx:t},end:{key:e,idx:t}}}function I(e){var n,t=0,i=(0,d.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t+=r.end.idx-r.start.idx+1}}catch(o){i.e(o)}finally{i.f()}return t}function Z(e,n){var t;if(0===n.length)return M("[keyCountByStateInSelection] A selection must be provided for dimension 0."),(0,b.Bw)();var i=null!==e&&void 0!==e&&e.isRangeDataInverted?(0,c.Z)(n).reverse():n,r=i.map((function(e){return I(e.selectedRanges)})).reduce((function(e,n){return e?e*n:n}),0),o=N((null===e||void 0===e?void 0:e.ranges)||[],i[0].selectedRanges),a=i.length>1?I(i[1].selectedRanges):1,s=function(e){return o.reduce((function(n,t){return n+(t.end.idx-t.start.idx+1)*(t.subranges?I(N(t.subranges,i[1].selectedRanges).filter((function(n){return n.value.includes(e)}))):t.value.includes(e)?a:0)}),0)},d=s(b.yo.FAILED),u=s(b.yo.MATERIALIZING),p=s(b.yo.MATERIALIZED);return t={},(0,l.Z)(t,b.yo.MISSING,r-p-d-u),(0,l.Z)(t,b.yo.MATERIALIZED,p),(0,l.Z)(t,b.yo.MATERIALIZING,u),(0,l.Z)(t,b.yo.FAILED,d),t}function P(e,n){var t;return(null===(t=e.find((function(e){return e.start.idx<=n&&e.end.idx>=n})))||void 0===t?void 0:t.value)||[b.yo.MISSING]}function _(e,n){var t=[];if(0===e.length)return t;if("DefaultPartitionStatuses"===n.__typename){var i=e[0];return(0,v.lU)(i.partitionKeys,(function(e){return n.materializedPartitions.includes(e)?b.yo.MATERIALIZED:n.materializingPartitions.includes(e)?b.yo.MATERIALIZING:n.failedPartitions.includes(e)?b.yo.FAILED:b.yo.MISSING})).map((function(e){return{start:{key:i.partitionKeys[e.startIdx],idx:e.startIdx},end:{key:i.partitionKeys[e.endIdx],idx:e.endIdx},value:[e.status]}}))}var r,o=(0,d.Z)(n.ranges);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("TimePartitionRangeStatus"===a.__typename)t.push({start:{key:a.startKey,idx:e[0].partitionKeys.indexOf(a.startKey)},end:{key:a.endKey,idx:e[0].partitionKeys.indexOf(a.endKey)},value:[T(a.status)]});else if("MaterializedPartitionRangeStatuses2D"===a.__typename){if(2!==e.length)return M("[addKeyIndexesToMaterializedRanges] Found 2D health data for 1D asset"),t;var s=(0,u.Z)(e,2),l=s[0],c=s[1],p=_([c],a.secondaryDim),f=C(p,c.partitionKeys.length);if(h()(f,[b.yo.MISSING]))continue;t.push({value:f,subranges:p,start:{key:a.primaryDimStartKey,idx:l.partitionKeys.indexOf(a.primaryDimStartKey)},end:{key:a.primaryDimEndKey,idx:l.partitionKeys.indexOf(a.primaryDimEndKey)}})}else(0,x.UT)(a)}}catch(m){o.e(m)}finally{o.f()}return t}function O(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"background",i=g.useState(""),r=(0,u.Z)(i,2),l=r[0],d=r[1];(0,w.q)((function(){d(Date.now().toString())}));var f="".concat(n,"-").concat(l),m=g.useState([]),x=(0,u.Z)(m,2),y=x[0],v=x[1],b=(0,p.x)(),j=e.map((function(e){return JSON.stringify(e)})),C=JSON.stringify(j),N=j.find((function(e){return!y.some((function(n){return JSON.stringify(n.assetKey)===e&&n.fetchedAt===f}))}));return g.useMemo((function(){if(N){var e=JSON.parse(N),n=function(){var n=(0,s.Z)((0,o.Z)().mark((function n(){var t,i,r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.query({query:A,fetchPolicy:"network-only",variables:{assetKey:{path:e.path}}});case 2:t=n.sent,i=t.data,r=S(i,e),v((function(n){return[].concat((0,c.Z)(n.filter((function(n){return!h()(n.assetKey,e)}))),[(0,a.Z)((0,a.Z)({},r),{},{fetchedAt:f})])}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[b,N,f]),g.useMemo((function(){var e=JSON.parse(C);return y.filter((function(n){return e.includes(JSON.stringify(n.assetKey))&&(n.fetchedAt===f||"background"===t)}))}),[C,y,f,t])}var D=function(e){var n,t;return e?"".concat(null===(n=e.lastMaterialization)||void 0===n?void 0:n.timestamp,",").concat(null===(t=e.runWhichFailedToMaterialize)||void 0===t?void 0:t.id,",").concat(JSON.stringify(e.partitionStats)):"-"},T=function(e){return e===y.nEB.MATERIALIZED?b.yo.MATERIALIZED:e===y.nEB.MATERIALIZING?b.yo.MATERIALIZING:b.yo.FAILED},A=(0,f.Ps)(i||(i=(0,r.Z)(["\n  query PartitionHealthQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        partitionKeysByDimension {\n          name\n          type\n          partitionKeys\n        }\n        assetPartitionStatuses {\n          ... on TimePartitionStatuses {\n            ranges {\n              status\n              startTime\n              endTime\n              startKey\n              endKey\n            }\n          }\n          ... on DefaultPartitionStatuses {\n            materializedPartitions\n            materializingPartitions\n            failedPartitions\n          }\n          ... on MultiPartitionStatuses {\n            primaryDimensionName\n            ranges {\n              primaryDimStartKey\n              primaryDimEndKey\n              primaryDimStartTime\n              primaryDimEndTime\n              secondaryDim {\n                ... on TimePartitionStatuses {\n                  ranges {\n                    status\n                    startTime\n                    endTime\n                    startKey\n                    endKey\n                  }\n                }\n                ... on DefaultPartitionStatuses {\n                  materializedPartitions\n                  materializingPartitions\n                  failedPartitions\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function M(e){console.warn(e)}},27954:function(e,n,t){t.d(n,{Ot:function(){return y},dj:function(){return g},rB:function(){return v}});var i,r=t(71171),o=t(60319),a=t(31623),s=t(47515),l=t(57103),c=t(32667),d=(t(78193),t(88949)),u=t(84674),p=t(88613),f=t(54665),m=t(11311),h=t(35936),g=function(e){return e.metadataEntries.find((0,d.Dk)("TableSchemaMetadataEntry"))?"table":"standard"},x=(0,o.ZP)((function(e){var n=e.type,t=e.className,i=g(n),r="standard"===i?n.name:"".concat(n.name," (").concat(i,")");return(0,h.jsx)(s.x,{className:t,children:r})})).withConfig({displayName:"DagsterType__DagsterTypeName",componentId:"sc-49uu7f-0"})(["font-family:",";font-size:16px;overflow:hidden;text-overflow:ellipsis;"],l.b.monospace),y=function(e){var n=e.type,t=e.horizontalPadding;t=t||0;var i=(n.metadataEntries||[]).find((0,d.Dk)("TableSchemaMetadataEntry"));return(0,h.jsxs)(s.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},style:{overflowY:"auto"},children:[n.name&&(0,h.jsx)(s.x,{children:(0,h.jsx)(x,{type:n})}),n.description&&(0,h.jsx)(s.x,{padding:{horizontal:t},children:(0,h.jsx)(f.d,{description:n.description})}),i&&(0,h.jsx)(s.x,{border:{side:"top",width:1,color:c.w.KeylineGray},style:{overflowY:"auto",marginBottom:-12},margin:{top:4},children:(0,h.jsx)(p.p,{schema:i.schema,itemHorizontalPadding:t})})]})},v=(0,a.Ps)(i||(i=(0,r.Z)(["\n  fragment DagsterTypeFragment on DagsterType {\n    ...InnerDagsterTypeFragment\n    innerTypes {\n      ...InnerDagsterTypeFragment\n    }\n  }\n  fragment InnerDagsterTypeFragment on DagsterType {\n    __typename\n    key\n    name\n    displayName\n    description\n    isNullable\n    isList\n    isBuiltin\n    isNothing\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    inputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n    outputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),u.it,m.S)},834:function(e,n,t){t.d(n,{LU:function(){return g},nn:function(){return u},r7:function(){return f},vN:function(){return p},zy:function(){return h}});var i=t(68079),r=t(33028),o=t(60319),a=t(32667),s=t(57103),l=(t(78193),t(51664)),c=t(8171),d=t(35936),u="PARENT_IN",p="PARENT_OUT",f=function(e){var n=e.minified,t=e.title,i=e.jumpTargetOp,o=e.edges,a=e.highlightedEdges,s=e.colorKey,u=e.item,p=e.layoutInfo,f=e.onDoubleClick,h=e.onHighlightEdges;if(!p)return null;var g=u.name,x=u.type,y=o.some((function(e){return(0,c.Id)(a,e)}));return(0,d.jsxs)(m,{title:t,style:(0,r.Z)((0,r.Z)({},(0,c.FK)(p.layout)),{},{width:"initial"}),onMouseEnter:function(){return h(o)},onMouseLeave:function(){return h([])},onClick:function(e){i&&f(i),e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},$colorKey:s,$highlighted:y,children:[n||!p.label?(0,d.jsx)("div",{className:"circle"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"circle"}),g!==l.K&&(0,d.jsx)("div",{className:"label",children:g}),x.displayName&&"Nothing"!==x.displayName&&(0,d.jsx)("div",{className:"type",children:x.displayName})]}),p.collapsed.length>0&&(0,d.jsxs)("div",{className:"collapsedCount",children:["+ ",p.collapsed.length]})]})},m=o.ZP.div.withConfig({displayName:"OpIOBox__OpIOContainer",componentId:"sc-10vobse-0"})(["display:inline-flex;align-items:center;border-top-right-radius:8px;border-bottom-right-radius:8px;background:",";font-size:12px;&:last-child{border-bottom-left-radius:8px;}.circle{width:14px;height:14px;border-radius:50%;background:",";display:inline-block;margin:6px;}.label{line-height:26px;font-family:",";font-weight:500;height:26px;padding-left:2px;padding-right:6px;}.type{padding:1px 6px;background:#e7e6f0;margin-right:4px;color:",";font-family:",";font-weight:700;border-radius:4px;}.collapsedCount{color:",";font-weight:600;margin-left:-3px;padding-right:4px;}"],(function(e){return e.$highlighted?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.75)"}),(function(e){return e.$highlighted?a.w.Blue500:a.w.Gray500}),s.b.monospace,a.w.Blue500,s.b.monospace,(function(e){return e.$highlighted?a.w.Blue500:a.w.Gray500}));function h(e,n){var t=[],r="".concat(n.name,": ").concat(n.type.displayName);if("CompositeSolidDefinition"!==e.__typename)throw new Error("Parent solid is not a composite - how did this happen?");if("InputDefinition"===n.__typename){var o=e.inputMappings.filter((function(e){return e.definition.name===n.name})).map((function(e){return e.mappedInput}));r+="\n\nConnected to: ".concat(o.map(l.R).join("\n")),t.push.apply(t,(0,i.Z)(o.map((function(e){return{a:"".concat(e.solid.name,":").concat(e.definition.name),b:u}}))))}if("OutputDefinition"===n.__typename){var a=e.outputMappings.filter((function(e){return e.definition.name===n.name})).map((function(e){return e.mappedOutput}));r+="\n\nConnected to: ".concat(a.map(l.R).join("\n")),t.push.apply(t,(0,i.Z)(a.map((function(e){return{a:"".concat(e.solid.name,":").concat(e.definition.name),b:p}}))))}return{edges:t,title:r,jumpTargetOp:1===t.length?t[0].a:null}}function g(e,n){var t=[],r="".concat(e.name,": ").concat(e.type.displayName),o=null;if(n&&"InputDefinition"===e.__typename){var a=n.inputs.find((function(n){return n.definition.name===e.name})).dependsOn;a.length&&(r+="\n\nFrom:\n"+a.map(l.R).join("\n"),o=1===a.length?a[0].solid.name:null,t.push.apply(t,(0,i.Z)(a.map((function(e){return{a:e.solid.name,b:n.name}}))))),t.push({a:"".concat(n.name,":").concat(e.name),b:u})}if(n&&"OutputDefinition"===e.__typename){var s=n.outputs.find((function(n){return n.definition.name===e.name}));if(!s)throw new Error("Invocation ".concat(n.name,' has no output with a definition named "').concat(e.name,'"'));var c=s.dependedBy;c.length&&(r+="\n\nUsed By:\n"+c.map((function(e){return(0,l.R)(e)})).join("\n"),o=1===c.length?c[0].solid.name:null,t.push.apply(t,(0,i.Z)(c.map((function(e){return{a:e.solid.name,b:n.name}}))))),t.push({a:"".concat(n.name,":").concat(e.name),b:p})}return{edges:t,title:r,jumpTargetOp:o}}},83787:function(e,n,t){t.d(n,{Un:function(){return C},WH:function(){return E},wi:function(){return k}});var i,r,o=t(71171),a=t(33028),s=t(9249),l=t(87371),c=t(45754),d=t(86906),u=t(60319),p=t(31623),f=t(32375),m=t(32667),h=t(57103),g=t(78193),x=t(88949),y=t(9938),v=t(834),b=t(77233),j=t(8171),w=t(35936),S=JSON.stringify({top:-20,left:5}),C=function(e){(0,c.Z)(t,e);var n=(0,d.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).handleClick=function(n){n.preventDefault(),n.stopPropagation(),e.props.onClick()},e.handleDoubleClick=function(n){n.preventDefault(),n.stopPropagation(),e.props.onDoubleClick()},e.handleEnterComposite=function(n){n.preventDefault(),n.stopPropagation(),e.props.onEnterComposite()},e.handleKindClicked=function(n){e.handleClick(n),window.requestAnimationFrame((function(){return document.dispatchEvent(new Event("show-kind-info"))}))},e}return(0,l.Z)(t,[{key:"shouldComponentUpdate",value:function(e){return e.dim!==this.props.dim||(e.selected!==this.props.selected||(e.focused!==this.props.focused||(e.minified!==this.props.minified||(e.highlightedEdges!==this.props.highlightedEdges||(e.layout!==this.props.layout||(e.invocation&&e.invocation.name)!==(this.props.invocation&&this.props.invocation.name))))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.definition,i=n.invocation,r=n.layout,o=n.dim,s=n.focused,l=n.selected,c=n.minified,d=t.metadata;if(!r)throw new Error("Layout is missing for ".concat(t.name));var u=null;"SolidDefinition"===t.__typename&&(u=t.configField);var p=[],m=d.find((function(e){return"kind"===e.key})),h="CompositeSolidDefinition"===t.__typename;m&&p.push({label:m.value,onClick:this.handleKindClicked}),h&&p.push({label:"Expand",onClick:this.handleEnterComposite});var y=i?i.name:t.name;return(0,w.jsxs)(Z,{$minified:c,$selected:l,$secondaryHighlight:s,$dim:o,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,children:[(0,w.jsx)("div",{className:"highlight-box",style:(0,a.Z)({},(0,j.FK)(r.bounds))}),h&&(0,w.jsx)("div",{className:"composite-marker",style:(0,a.Z)({},(0,j.FK)(r.op))}),(null===i||void 0===i?void 0:i.isDynamicMapped)&&(0,w.jsx)("div",{className:"dynamic-marker",style:(0,a.Z)({},(0,j.FK)(r.op))}),u&&"Any"!==u.configType.key&&(0,w.jsx)("div",{className:"config-marker",style:{left:r.op.x+r.op.width,top:r.op.y},children:c?"C":"Config"}),t.inputDefinitions.map((function(n,t){return(0,g.createElement)(v.r7,(0,a.Z)((0,a.Z)((0,a.Z)({},e.props),(0,v.LU)(n,i)),{},{key:t,item:n,layoutInfo:r.inputs[n.name],colorKey:"input"}))})),(0,w.jsxs)("div",{className:"node-box",style:(0,a.Z)({},(0,j.FK)(r.op)),children:[(0,w.jsxs)("div",{className:"name",children:[!c&&(0,w.jsx)(f.JO,{name:"op",size:16}),(0,w.jsx)("div",{className:"label","data-tooltip":y,"data-tooltip-style":S,children:(0,x.R9)(y,{maxLength:48})})]}),!c&&(t.description||0===t.assetNodes.length)&&(0,w.jsx)("div",{className:"description",children:(t.description||"").split("\n")[0]}),!c&&t.assetNodes.length>0&&(0,w.jsx)(N,{nodes:t.assetNodes})]}),p.length>0&&(0,w.jsx)(b.Sw,{tags:p,style:{left:r.op.x+r.op.width,top:r.op.y+r.op.height,transform:"translate(-100%, 3px)"}}),t.outputDefinitions.map((function(n,t){return(0,g.createElement)(v.r7,(0,a.Z)((0,a.Z)((0,a.Z)({},e.props),(0,v.LU)(n,i)),{},{key:t,item:n,layoutInfo:r.outputs[n.name],colorKey:"output"}))}))]})}}]),t}(g.Component),N=function(e){var n=e.nodes,t=n.length>1?" + ".concat(n.length-1," more"):"";return(0,w.jsxs)("div",{className:"assets",children:[(0,w.jsx)(f.JO,{name:"asset",size:16}),(0,x.R9)((0,y.ll)(n[0].assetKey),{maxLength:48-t.length}),t]})},k=(0,p.Ps)(i||(i=(0,o.Z)(["\n  fragment OpNodeInvocationFragment on Solid {\n    name\n    isDynamicMapped\n    inputs {\n      definition {\n        name\n      }\n      isDynamicCollect\n      dependsOn {\n        definition {\n          name\n          type {\n            displayName\n          }\n        }\n        solid {\n          name\n        }\n      }\n    }\n    outputs {\n      definition {\n        name\n      }\n      dependedBy {\n        solid {\n          name\n        }\n        definition {\n          name\n          type {\n            displayName\n          }\n        }\n      }\n    }\n  }\n"]))),E=(0,p.Ps)(r||(r=(0,o.Z)(["\n  fragment OpNodeDefinitionFragment on ISolidDefinition {\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    assetNodes {\n      id\n      assetKey {\n        path\n      }\n    }\n    inputDefinitions {\n      ...OpNodeInputDefinition\n    }\n    outputDefinitions {\n      ...OpNodeOutputDefinition\n    }\n    ... on SolidDefinition {\n      configField {\n        configType {\n          key\n          description\n        }\n      }\n    }\n    ... on CompositeSolidDefinition {\n      id\n      inputMappings {\n        definition {\n          name\n        }\n        mappedInput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n      outputMappings {\n        definition {\n          name\n        }\n        mappedOutput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n    }\n  }\n\n  fragment OpNodeInputDefinition on InputDefinition {\n    name\n    type {\n      displayName\n    }\n  }\n\n  fragment OpNodeOutputDefinition on OutputDefinition {\n    name\n    isDynamic\n    type {\n      displayName\n    }\n  }\n"]))),I={Border:m.w.Blue500,Background:m.w.Blue50},Z=u.ZP.div.withConfig({displayName:"OpNode__NodeContainer",componentId:"sc-1686rks-0"})(["opacity:",";pointer-events:auto;user-select:none;cursor:default;.highlight-box{border-radius:13px;background:",";}.node-box{border:",";border-width:",";border-radius:8px;background:",";}.composite-marker{outline:"," solid ",";outline-offset:",";border-radius:3px;}.dynamic-marker{transform:translate(-5px,-5px);border:"," solid #dcd5ca;border-radius:3px;}.config-marker{position:absolute;transform:",";font-size:",";font-family:",";font-weight:700;opacity:0.5;}.name{display:flex;gap:5px;padding:4px ",";font-size:",";font-family:",";border-top-left-radius:8px;border-top-right-radius:8px;align-items:center;font-weight:600;.label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}.assets{padding:0 4px;white-space:nowrap;line-height:22px;height:22px;overflow:hidden;text-overflow:ellipsis;background:#f5f3ef;font-size:12px;display:flex;gap:4px;align-items:center;}.description{padding:0 8px;white-space:nowrap;line-height:22px;height:22px;overflow:hidden;text-overflow:ellipsis;background:#f5f3ef;border-top:1px solid #e6e1d8;border-bottom-left-radius:8px;border-bottom-right-radius:8px;font-size:12px;}"],(function(e){return e.$dim?.3:1}),(function(e){return e.$selected?I.Background:"transparent"}),(function(e){return e.$selected?"2px dashed ".concat(I.Border):e.$secondaryHighlight?"2px solid ".concat(m.w.Blue500,"55"):"2px solid #dcd5ca"}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$minified?m.w.Gray50:m.w.White}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$selected?"transparent":m.w.Yellow200}),(function(e){return e.$minified?"5px":"3px"}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$minified?" translate(-100%, -28px)":" translate(-100%, -21px)"}),(function(e){return e.$minified?"24px":"12px"}),h.b.monospace,(function(e){return e.$minified?"8px":"3px"}),(function(e){return e.$minified?"32px":"14px"}),h.b.monospace)},77233:function(e,n,t){t.d(n,{hG:function(){return pe},Sw:function(){return fe}});var i=t(33028),r=t(59740),o=t(60319),a=t(32667),s=t(47515),l=t(32375),c=t(57103),d=t(78193);var u=t.p+"static/media/airbyte.779d254c0ba624daede4c5d0c6986271.svg";var p=t.p+"static/media/airflow.27b7a8ef4b669a18428a07e32292421e.svg";var f=t.p+"static/media/aws.b54cfc5c1dbb5db2d375ae0811bd940d.svg";var m=t.p+"static/media/azure.11cd3e6f3ed1e9c20797abdd0e6fe2b9.svg";var h=t.p+"static/media/azureml.cd3862a40eae4adae185b69e857a9eb9.svg";var g=t.p+"static/media/bigquery.10f416964937a8ca8bb72acb7bc1e428.svg";var x=t.p+"static/media/census.06160001b14e6c029957bc41169fab37.svg";var y=t.p+"static/media/databricks.4f18e1a6a7c5227669ff5113fa2fc450.svg";var v=t.p+"static/media/datadog.decfedd06fc5691072f9cf26e8729010.svg";var b=t.p+"static/media/dbt.5a481bda0c7a769457895bc8a6793424.svg";var j=t.p+"static/media/duckdb.9b611ab7159d4917c1ac32a8cb450025.svg";var w=t.p+"static/media/fivetran.1892e251b246995424c923774d3cbad9.svg";var S=t.p+"static/media/github.e9d79da1f6a092a16efe73753e4ca07b.svg";var C=t.p+"static/media/gitlab.66ec60e846c6f95ff8cbeb12fe14ffc1.svg";var N=t.p+"static/media/googlecloud.9b1271728a87dde0ee8156db230464ef.svg";var k=t.p+"static/media/googlesheets.32beed255c2e96a272fb7e6998696b57.svg";var E=t.p+"static/media/great_expectations.6c9ebe25f1ca41bc6bddf5c93353f7bb.svg";var I=t.p+"static/media/hex.8a779d5337cbda6f4199bccebf9f7d0e.svg";var Z=t.p+"static/media/hightouch.e5615cb08e37f9e95af96d2d28aae0ff.svg";var P=t.p+"static/media/jupyter.51154b82b31513aa7792b83b17f9a693.svg";var _=t.p+"static/media/k8s.a08f945a89acf780bdb0c1ec2d09a052.svg";var O=t.p+"static/media/keras.db48ad9de6ea4a6cfd9d2e7eb7f316a9.svg";var D=t.p+"static/media/looker.6540e1606753910ae6c9c6d9cff50207.svg";var T=t.p+"static/media/matplotlib.bbcf886e4954de565e736fb624b59c5a.svg";var A=t.p+"static/media/meltano.9830a17a48cd84a7fd2add476a16ba81.svg";var M=t.p+"static/media/mlflow.97f9639b830263bfa8a29a01102ea5f3.svg";var R=t.p+"static/media/modal.a49a47a7d6edd5445754c18a2fd938d6.svg";var K=t.p+"static/media/msteams.a30e33e8be028fb5d4cd8521cc60e5a2.svg";var L=t.p+"static/media/noteable.e70e2c13aa1a831e02ccefbba156ef63.svg";var F=t.p+"static/media/numpy.8e82f8598d4944ae78c3f5b69f767e4f.svg";var z=t.p+"static/media/openai.7bb687d59f333c0ec9eca4ce2b21b65b.svg";var G=t.p+"static/media/pandas.6c58acfedca1947b166b39e0a71d5d7b.svg";var B=t.p+"static/media/plotly.0c6b502c8a9f8aa0c4c576555252ed72.svg";var $=t.p+"static/media/polars.a23f165351e16be9ed56ad27db12e77b.svg";var H=t.p+"static/media/postgres.37e2f7232240b06e4c71dfd924b934ba.svg";var V=t.p+"static/media/powerbi.c6084367295ea652a4d3dc1240f33005.svg";var U=t.p+"static/media/pyspark.26d4f6a6058852f927349f005044fcfc.svg";var W=t.p+"static/media/python.5974f9aa9701613dc227bfe1c7e6bcf0.svg";var q=t.p+"static/media/pytorch.bfa44d92221183d18177e3b1551267a4.svg";var J=t.p+"static/media/sagemaker.21f0ed59e6a24db1a61bb4ee20380bb3.svg";var Y=t.p+"static/media/scikitlearn.d812aca93b2ca0ad2ca0d8b970f7d582.svg";var Q=t.p+"static/media/scipy.69dca57b7cdb034187090b416e8c79f0.svg";var X=t.p+"static/media/segment.541ddbc63cea9a27c8862845c52ce283.svg";var ee=t.p+"static/media/slack.af9af09e3f249db84d15f08fd5e2f5a9.svg";var ne=t.p+"static/media/snowflake.ef32001ccd5f9971225e1ab87ebafd36.svg";var te=t.p+"static/media/sql.91e23fd4d8ab00ba5cce382a54bb411c.svg";var ie=t.p+"static/media/stitch.f574efb807adf97d9c41fbd7f4daff8c.svg";var re=t.p+"static/media/stripe.9fd4519d0043d6764806c7698279384a.svg";var oe=t.p+"static/media/tableau.5a4ab40d34dcf8f7edf243375413f10a.svg";var ae=t.p+"static/media/tensorflow.b6cf40a201adf268307f3a4d645c447b.svg";var se=t.p+"static/media/vercel.6cd9f804a71ca1f104effc3fbb382523.svg";var le=t.p+"static/media/weights_and_biases.89d763e7978e7d4da207359969008aac.svg",ce=t(35936),de=["definition"],ue={jupyter:{color:"#4E4E4E",icon:P,content:"Jupyter"},ipynb:{color:"#4E4E4E",icon:P,content:"Jupyter"},noteable:{color:"#00D2D2",icon:L,content:"Noteable",reversed:!0},airbyte:{color:"#655CFC",icon:u,content:"Airbyte"},snowflake:{color:"#29B5E8",icon:ne,content:"Snowflake"},python:{color:"#35668F",icon:W,content:"Python"},fivetran:{color:"#0073FF",icon:w,content:"Fivetran"},dbt:{color:"#FF6B4C",icon:b,content:"dbt"},slack:{color:"#4A144A",icon:ee,content:"Slack"},pytorch:{color:"#EE4C2C",icon:q,content:"PyTorch"},pyspark:{color:"#C74D15",icon:U,content:"PySpark"},spark:{color:"#C74D15",icon:U,content:"Spark"},duckdb:{color:"#FCBC41",icon:j,content:"DuckDB",reversed:!0},tensorflow:{color:"#FE9413",icon:ae,content:"TensorFlow",reversed:!0},pandas:{color:"#130754",icon:G,content:"pandas"},googlesheets:{color:"#23A566",icon:k,content:"Google Sheets"},sql:{color:"#B821FF",icon:te,content:"SQL"},wandb:{color:"#FCB119",icon:le,content:"Weights & Biases",reversed:!0},databricks:{color:"#FD3820",icon:y,content:"Databricks"},airflow:{color:"#017CEE",icon:p,content:"Airflow"},datadog:{color:"#632CA6",icon:v,content:"Datadog"},postgres:{color:"#336791",icon:H,content:"Postgres"},stripe:{color:"#635BFF",icon:re,content:"Stripe"},hightouch:{color:"#07484D",icon:Z,content:"Hightouch"},census:{color:"#EF54AC",icon:x,content:"Census"},hex:{color:"#F5C0C0",icon:I,content:"Hex",reversed:!0},azure:{color:"#39C3F1",icon:m,content:"Azure"},azureml:{color:"#39C3F1",icon:h,content:"Azure ML"},sagemaker:{color:"#A164FD",icon:J,content:"Sagemaker"},bigquery:{color:"#4485F4",icon:g,content:"BigQuery"},teams:{color:"#5255A9",icon:K,content:"Teams"},mlflow:{color:"#0194E2",icon:M,content:"ML Flow"},greatexpectations:{color:"#FF6310",icon:E,content:"Great Expectations"},powerbi:{color:"#EDC947",icon:V,content:"Power BI",reversed:!0},gcp:{color:"#4285F4",icon:N,content:"GCP"},googlecloud:{color:"#4285F4",icon:N,content:"Google Cloud"},looker:{color:"#5F6368",icon:D,content:"Looker"},tableau:{color:"#25447A",icon:oe,content:"Tableau"},segment:{color:"#43AF79",icon:X,content:"Segment"},athena:{color:"#FF9900",icon:f,content:"Athena",reversed:!0},s3:{color:"#FF9900",icon:f,content:"S3",reversed:!0},aws:{color:"#FF9900",icon:f,content:"AWS",reversed:!0},stitch:{color:"#FFD201",icon:ie,content:"Stitch",reversed:!0},openai:{color:"#4AA081",icon:z,content:"Open AI"},vercel:{color:"#171615",icon:se,content:"Vercel"},github:{color:"#171615",icon:S,content:"Github"},gitlab:{color:"#E24329",icon:C,content:"Gitlab"},plotly:{color:"#787AF7",icon:B,content:"plotly"},modal:{color:"#9AEE86",icon:R,content:"Modal",reversed:!0},meltano:{color:"#311772",icon:A,content:"Meltano"},matplotlib:{color:"#2B597C",icon:T,content:"matplotlib"},numpy:{color:"#4D77CF",icon:F,content:"NumPy"},scipy:{color:"#0054A6",icon:Q,content:"SciPy"},scikitlearn:{color:"#F7931E",icon:Y,content:"Scikit Learn"},keras:{color:"#D00000",icon:O,content:"Keras"},kubernetes:{color:"#326CE5",icon:_,content:"Kubernetes"},k8s:{color:"#326CE5",icon:_,content:"K8s"},polars:{color:"#24292E",icon:$,content:"Polars"},expand:{color:"#D7A540",content:"Expand"}};var pe=function(e){var n=e.definition,t=(0,r.Z)(e,de);return n.computeKind?(0,ce.jsx)(fe,(0,i.Z)((0,i.Z)({},t),{},{tags:[{label:n.computeKind,onClick:function(){window.requestAnimationFrame((function(){return document.dispatchEvent(new Event("show-kind-info"))}))}}]})):null},fe=d.memo((function(e){var n=e.tags,t=e.style,i=e.reduceColor,r=e.reduceText;return(0,ce.jsx)(he,{style:t,children:n.map((function(e){var n,t=ue[(n=e.label,n.replace(/[ _-]/g,"").toLowerCase())],o=(null===t||void 0===t?void 0:t.content)||e.label,l=(null===t||void 0===t?void 0:t.color)||function(){return"hsl(".concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,n){return e+n}))%360,", 75%, 45%)")}(e.label),c=null!==t&&void 0!==t&&t.reversed?a.w.Gray900:a.w.White;return(0,ce.jsxs)(s.x,{flex:{gap:4,alignItems:"center"},"data-tooltip":r?o:void 0,onClick:e.onClick,style:{background:i&&r?a.w.White:i?a.w.Gray100:l,color:i?a.w.Gray700:c,fontWeight:i?500:700},children:[(null===t||void 0===t?void 0:t.icon)&&(0,ce.jsx)(me,{role:"img",$size:16,$img:null===t||void 0===t?void 0:t.icon,$color:i?null!==t&&void 0!==t&&t.reversed?a.w.Gray900:l:c,$rotation:null,"aria-label":e.label}),null!==t&&void 0!==t&&t.icon&&r?void 0:o]},e.label)}))})})),me=(0,o.ZP)(l.a1).withConfig({displayName:"OpTags__OpTagIconWrapper",componentId:"sc-1q2s1ix-0"})(["mask-size:contain;mask-repeat:no-repeat;mask-position:center;-webkit-mask-size:contain;-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;"]),he=o.ZP.div.withConfig({displayName:"OpTags__OpTagsContainer",componentId:"sc-1q2s1ix-1"})(["gap:6px;position:absolute;display:flex;& > div{padding:0 8px;min-height:24px;display:flex;align-items:center;font-family:",";font-size:12px;border-radius:8px;}"],c.b.default)},1018:function(e,n,t){t.d(n,{i:function(){return _},l:function(){return A}});var i=t(96234),r=t(32723),o=t(34795),a=t(9249),s=t(87371),l=t(80753),c=t(45754),d=t(86906),u=t(60319),p=t(47515),f=t(32375),m=t(32667),h=t(62725),g=t(57103),x=t(48652),y=t.n(x),v=t(78193),b=t(70363),j=t(50032),w=["-moz-osx-font-smoothing","align-items","align-self","animation","background","border","box-shadow","box-sizing","color","column-gap","display","flex","font","fill","gap","height","justify-content","left","letter-spacing","line-height","margin","mask-image","-webkit-mask-image","mask-size","-webkit-mask-size","min-height","min-width","object-fit","opacity","overflow","padding","position","row-gap","stroke","text-align","text-decoration","text-overflow","text-transform","top","transform","white-space","width"],S={};function C(e){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S[n]){e.next=9;break}return e.next=3,fetch(n);case 3:return t=e.sent,e.t0=btoa,e.next=7,t.text();case 7:e.t1=e.sent,S[n]=(0,e.t0)(e.t1);case 9:return e.abrupt("return","data:image/svg+xml;base64,".concat(S[n]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.startsWith("url(")){e.next=8;break}if(!(t=n.match(/url\(['"]?(http[^'"]+)['"]?\)/))){e.next=8;break}return i=t[1],e.next=6,C(i);case 6:o=e.sent,n=n.replace(i,o);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o,a,s,l,c,d,u,p,f,m,h,g,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT),i=window.getComputedStyle(n),o=null;case 3:if(!(o=t.nextNode())){e.next=27;break}if(o instanceof SVGElement||o instanceof HTMLElement){e.next=6;break}return e.abrupt("continue",3);case 6:a=window.getComputedStyle(o),s=(0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c[l],t=a[n],w.some((function(e){return t.startsWith(e)}))){e.next=4;break}return e.abrupt("return","continue");case 4:if(o.style[t]||a[t]===i[t]){e.next=8;break}return e.next=7,k(a[t]);case 7:o.style[t]=e.sent;case 8:o instanceof HTMLElement&&(o.style.boxSizing="border-box");case 9:case"end":return e.stop()}}),e)})),l=0,c=Object.keys(a);case 9:if(!(l<c.length)){e.next=17;break}return e.delegateYield(s(),"t0",11);case 11:if("continue"!==e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:l++,e.next=9;break;case 17:if(!(o instanceof HTMLImageElement)){e.next=25;break}if(!(d=o.getAttribute("src"))||d.startsWith("data:")){e.next=25;break}return e.t1=o,e.next=23,C(d);case 23:e.t2=e.sent,e.t1.setAttribute.call(e.t1,"src",e.t2);case 25:e.next=3;break;case 27:u=(0,r.Z)().mark((function e(){var t,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f[p],o=i[t],w.some((function(e){return o.startsWith(e)}))){e.next=4;break}return e.abrupt("return","continue");case 4:n.style[o]||(n.style[o]=i[o]);case 5:case"end":return e.stop()}}),e)})),p=0,f=Object.keys(i);case 29:if(!(p<f.length)){e.next=37;break}return e.delegateYield(u(),"t3",31);case 31:if("continue"!==e.t3){e.next=34;break}return e.abrupt("continue",34);case 34:p++,e.next=29;break;case 37:for(m=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);o=m.nextNode();)(o instanceof SVGElement||o instanceof HTMLElement)&&o.removeAttribute("class");h=Array.from(document.querySelectorAll("style,link[rel=stylesheet]")),g=h.flatMap((function(e){return e.sheet?Array.from(e.sheet.cssRules).filter((function(e){return e instanceof CSSFontFaceRule})).map((function(e){return e.cssText})):[]})),(x=document.createElement("style")).textContent=g.join("\n\n"),n.appendChild(x);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=t(35936),_=.75,O={onMouseDown:function(e,n){if(e._animation&&e._animation.cancel(),e.element.current&&!(n.target instanceof HTMLElement&&n.target.closest("#zoom-slider-container"))){var t=e.getOffsetXY(n);if(t){var i=t.x,r=t.y,o={x:0,y:0},a=function(n){var t=e.getOffsetXY(n);if(t){var a={x:t.x-i,y:t.y-r};e.setState({x:e.state.x+a.x,y:e.state.y+a.y}),o.x+=Math.abs(a.x),o.y+=Math.abs(a.y),i=t.x,r=t.y}},s=function(e){Math.sqrt(o.x+o.y)>5&&(e.stopImmediatePropagation(),e.preventDefault())};document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e),setTimeout((function(){document.removeEventListener("click",s,{capture:!0})}))})),document.addEventListener("click",s,{capture:!0})}}},onWheel:function(e,n){var t=e.element.current;if(t){var i=n.target instanceof HTMLElement&&n.target.closest("[data-zoom-control]"),r=i?{x:t.clientWidth/2,y:t.clientHeight/2}:e.getOffsetXY(n);if(r){if(n.metaKey||n.ctrlKey||i){var o=n.deltaMode===WheelEvent.DOM_DELTA_LINE?.05:Math.abs(n.deltaY)>30?.002:.01,a=e.state.scale*(1-n.deltaY*o),s=Math.max(e.getMinZoom(),Math.min(e.getMaxZoom(),a));e.adjustZoomRelativeToScreenPoint(s,r)}else n.shiftKey&&!n.deltaX?e.shiftXY(.7*n.deltaY,0):e.shiftXY(.7*-n.deltaX,.7*-n.deltaY)}}},render:function(e){return(0,P.jsxs)(R,{id:"zoom-slider-container",children:[(0,P.jsx)(K,{}),(0,P.jsxs)(p.x,{flex:{direction:"column",alignItems:"center"},children:[(0,P.jsx)(D,{onClick:function(){var n=e.element.current.clientWidth/2,t=e.element.current.clientHeight/2,i=Math.min(e.getMaxZoom(),e.state.scale+.05),r=Math.round(100*(i+Number.EPSILON))/100;e.adjustZoomRelativeToScreenPoint(r,{x:n,y:t})},children:(0,P.jsx)(f.JO,{size:24,name:"zoom_in"})}),(0,P.jsx)(p.x,{style:{width:34},padding:{vertical:12},background:m.w.White,"data-zoom-control":!0,flex:{alignItems:"center",direction:"column"},border:{side:"vertical",color:m.w.Gray300,width:1},children:(0,P.jsx)(h.iR,{vertical:!0,min:e.getMinZoom(),max:e.getMaxZoom(),stepSize:.001,value:e.state.scale,labelRenderer:!1,onChange:function(n){var t=e.element.current.clientWidth/2,i=e.element.current.clientHeight/2;e.adjustZoomRelativeToScreenPoint(n,{x:t,y:i})}})}),(0,P.jsx)(D,{onClick:function(){var n=e.element.current.clientWidth/2,t=e.element.current.clientHeight/2,i=Math.max(e.getMinZoom(),e.state.scale-.05);e.adjustZoomRelativeToScreenPoint(i,{x:n,y:t})},children:(0,P.jsx)(f.JO,{size:24,name:"zoom_out"})})]}),(0,P.jsx)(p.x,{flex:{direction:"column",alignItems:"center"},children:(0,P.jsx)(D,{onClick:function(){return e.onExportToSVG()},style:{marginTop:8},children:(0,P.jsx)(f.JO,{size:24,name:"download_for_offline"})})})]})}},D=u.ZP.button.withConfig({displayName:"SVGViewport__IconButton",componentId:"sc-1bm7fbn-0"})(["background:",";border:1px solid ",";cursor:pointer;padding:4px;position:relative;:focus{outline:none;}","{transition:background 100ms;}&:first-child{border-top-left-radius:8px;border-top-right-radius:8px;}&:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;}:active{background-color:",";}"],m.w.White,m.w.Gray300,f.a1,m.w.Gray100),T={onMouseDown:function(e,n){n.preventDefault(),n.stopPropagation()},onWheel:function(){},render:function(){return(0,P.jsx)("span",{})}},A=function(e){(0,c.Z)(t,e);var n=(0,d.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=n.call.apply(n,[this].concat(s))).element=v.createRef(),e.panzoom=void 0,e._animation=null,e._lastWheelTime=0,e._lastWheelDir=0,e.state={x:0,y:0,scale:_,minScale:0},e.resizeObserver=void 0,e.onWheel=function(n){var t=e.element.current;t&&n.target instanceof Node&&t.contains(n.target)&&(n.preventDefault(),n.stopPropagation(),e.props.interactor.onWheel((0,l.Z)(e),n))},e.onZoomAndCenter=function(n){var t=e.getOffsetXY(n);if(t){var i=e.screenToSVGCoords(t),r=e.props.maxZoom||.75;Math.abs(r-e.state.scale)<.01?e.zoomToSVGCoords(i.x,i.y,!0,e.state.minScale):e.zoomToSVGCoords(i.x,i.y,!0,r)}},e.onKeyDown=function(n){var t,i;if(!n.target||"INPUT"!==n.target.nodeName){var r={ArrowLeft:"left",ArrowUp:"up",ArrowRight:"right",ArrowDown:"down"}[n.code];r&&(n.preventDefault(),n.stopPropagation(),null===(t=(i=e.props).onArrowKeyDown)||void 0===t||t.call(i,n,r))}},e.onDoubleClick=function(n){n.target instanceof HTMLElement&&n.target.closest("#zoom-slider-container")||e.props.onDoubleClick&&e.props.onDoubleClick(n)},e.onExportToSVG=(0,o.Z)((0,r.Z)().mark((function n(){var t,i,o,a,s,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={top:0,left:0,right:e.props.graphWidth,bottom:e.props.graphHeight},i=document.createElement("div"),document.getElementById("root").appendChild(i),b.render((0,P.jsx)(j.VA,{children:e.props.children(e.state,t)}),i),o=i.querySelector("svg"),n.next=7,I(o);case 7:a=(new XMLSerializer).serializeToString(o),s=new Blob([a],{type:"image/svg+xml"}),(l=document.createElement("a")).setAttribute("download","".concat(document.title.replace(/[: \/]/g,"_").replace(/__+/g,"_"),".svg")),l.setAttribute("href",URL.createObjectURL(s)),l.click(),i.remove();case 14:case"end":return n.stop()}}),n)}))),e}return(0,s.Z)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.autocenter(),document.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.current&&this.element.current instanceof HTMLElement&&"ResizeObserver"in window){var n=window.ResizeObserver;this.resizeObserver=new n((function(){window.requestAnimationFrame((function(){e.forceUpdate()}))})),this.resizeObserver.observe(this.element.current)}}},{key:"componentWillUnmount",value:function(){var e;document.removeEventListener("wheel",this.onWheel),null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"cancelAnimations",value:function(){this._animation&&this._animation.cancel()}},{key:"focus",value:function(){var e;null===(e=this.element.current)||void 0===e||e.focus()}},{key:"scaleForSVGBounds",value:function(e,n){var t=this.element.current;if(!t)return 1;var i=t.clientWidth/e,r=t.clientHeight/n;return Math.min(i,r)}},{key:"autocenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,t=this.element.current,i=t.clientWidth,r=t.clientHeight,o=this.scaleForSVGBounds(this.props.graphWidth,this.props.graphHeight),a=this.getMinZoom(),s=n||Math.max(Math.min(o,this.props.maxAutocenterZoom),a);if(!(this.state.scale<s&&o!==s&&s===a)){var l={x:-this.props.graphWidth/2*s+i/2,y:-this.props.graphHeight/2*s+r/2,scale:s};e?this.smoothZoom(l):this.setState(Object.assign(l,{minScale:s}))}}},{key:"screenToSVGCoords",value:function(e){var n=e.x,t=e.y,i=this.element.current.getBoundingClientRect(),r=i.width,o=i.height;return{x:(-(this.state.x-r/2)+n-r/2)/this.state.scale,y:(-(this.state.y-o/2)+t-o/2)/this.state.scale}}},{key:"getOffsetXY",value:function(e){var n=this.element.current;if(!n)return null;var t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"shiftXY",value:function(e,n){var t=this.state,i=t.x,r=t.y,o=t.scale;this.setState({x:i+e,y:r+n,scale:o})}},{key:"adjustZoomRelativeToScreenPoint",value:function(e,n){var t=this.screenToSVGCoords(n),i=this.state.scale,r=this.state,o=r.x,a=r.y;o+=t.x*i-t.x*e,a+=t.y*i-t.y*e,this.setState({x:o,y:a,scale:e})}},{key:"zoomToSVGBox",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.scale;this.zoomToSVGCoords(e.x+e.width/2,e.y+e.height/2,n,t)}},{key:"zoomToSVGCoords",value:function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.state.scale,r=this.element.current,o=Math.max(Math.min(this.getMaxZoom(),i),this.getMinZoom()),a=r.getBoundingClientRect();e=-e*o+a.width/2,n=-n*o+a.height/2,t?this.smoothZoom({x:e,y:n,scale:o}):this.setState({x:e,y:n,scale:o})}},{key:"smoothZoom",value:function(e){var n=this,t={scale:this.state.scale,x:this.state.x,y:this.state.y};this._animation&&this._animation.cancel(),this._animation=y()(t,e,{step:function(e){n.setState({x:e.x,y:e.y,scale:e.scale})},done:function(){n.setState(e),n._animation=null}})}},{key:"getMinZoom",value:function(){return this.props.graphHasNoMinimumZoom?Math.min(.17,this.scaleForSVGBounds(this.props.graphWidth,this.props.graphHeight)):.17}},{key:"getMaxZoom",value:function(){return this.props.maxZoom}},{key:"getViewport",value:function(){var e={top:0,left:0,right:0,bottom:0};if(this.element.current){var n=this.element.current.getBoundingClientRect(),t=n.width,i=n.height;e={left:-this.state.x/this.state.scale,top:-this.state.y/this.state.scale,right:(-this.state.x+t)/this.state.scale,bottom:(-this.state.y+i)/this.state.scale}}return e}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,i=n.onClick,r=n.interactor,o=this.state,a=o.x,s=o.y,l=o.scale,c=Math.max(7,30*l);return(0,P.jsxs)("div",{ref:this.element,style:Object.assign({},M,{backgroundPosition:"".concat(a,"px ").concat(s,"px"),backgroundSize:"".concat(c,"px")}),onMouseDown:function(n){return r.onMouseDown(e,n)},onDoubleClick:this.onDoubleClick,onKeyDown:this.onKeyDown,onDragStart:function(e){return e.preventDefault()},onClick:i,tabIndex:-1,children:[(0,P.jsx)("div",{style:{transformOrigin:"top left",transform:"matrix(".concat(l,", 0, 0, ").concat(l,", ").concat(a,", ").concat(s,")")},children:t(this.state,this.getViewport())}),r.render&&r.render(this)]})}}]),t}(v.Component);A.Interactors={PanAndZoom:O,None:T},A.defaultProps={maxZoom:.75,maxAutocenterZoom:1};var M={width:"100%",height:"100%",position:"relative",overflow:"hidden",userSelect:"none",outline:"none",background:"url(\"data:image/svg+xml;utf8,<svg width='30px' height='30px' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'><circle fill='rgba(236, 236, 236, 1)' cx='5' cy='5' r='5' /></svg>\") repeat"},R=u.ZP.div.withConfig({displayName:"SVGViewport__ZoomSliderContainer",componentId:"sc-1bm7fbn-1"})(["position:absolute;bottom:12px;right:12px;width:30px;background:rgba(245,248,250,0.4);"]),K=function(){var e=v.useState(!1),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=v.useState(!1),a=(0,i.Z)(o,2),s=a[0],l=a[1],c=v.useRef();v.useEffect((function(){var e=function(e){if(clearTimeout(c.current),e.metaKey||e.shiftKey||e.ctrlKey)return r(!0),void l(!1);l(!0),c.current=setTimeout((function(){l(!1)}),2e3)};return document.addEventListener("wheel",e),function(){document.removeEventListener("wheel",e),clearTimeout(c.current)}}),[]);var d=navigator.userAgent.includes("Mac")?"\u2318":"Ctrl",u=s&&!t;return(0,P.jsx)(L,{style:{opacity:u?1:0},children:"Hold ".concat(d," to zoom")})},L=u.ZP.div.withConfig({displayName:"SVGViewport__WheelInstructionTooltipContainer",componentId:"sc-1bm7fbn-2"})(["position:absolute;bottom:42px;right:40px;white-space:nowrap;transition:opacity 300ms ease-in-out;font-family:",";font-size:12px;line-height:16px;border-radius:2px;background:",";color:",";padding:8px 16px;"],g.b.default,m.w.Gray900,m.w.Gray50)},21916:function(e,n,t){t.d(n,{og:function(){return I},oJ:function(){return L},QT:function(){return K}});var i=t(32723),r=t(34795),o=t(96234),a=t(65537),s=t.n(a),l=t(78193),c=t(33418),d=t(88949),u=t(50545),p=t(68079),f=t(83975),m=t(51664),h=370,g=52,x=22,y=26,v=0,b=35,j=4,w=13,S=y/2,C=70,N=50;function k(e){var n={};return e.forEach((function(e){return e.forEach((function(e){return n[(0,m.R)(e)]=e}))})),Object.values(n)}function E(e,n,t){var i=C+w,r=t-2*i,o=Math.max(200,r/e.length),a=i+Math.min(0,(r-e.length*o)/2),s=o<300?20:0,l={};return e.forEach((function(e,t){var i=1-t%2*2;l[(0,m.R)(e)]={x:a+t*o,y:n+s*i}})),l}function I(e,n){var t=n.y,i=function(e,i,r){var o,a=(0,p.Z)(e).sort((function(e,n){return i(e).localeCompare(i(n))})),s=0,l=null,c={},d=Math.min(b,h/(a.length+1));a.forEach((function(e,i){var a=r(e);a!==l?(l=a,o={port:{x:n.x+s+w,y:t+S},collapsed:[],label:!1,layout:{x:n.x+s,y:t,width:b,height:y}},c[e.definition.name]=o,s+=d):(0===o.collapsed.length&&(s+=15),o.collapsed.push(e.definition.name))}));var u=(h-(s-w+b))/2;return Object.values(c).forEach((function(e){e.layout.x+=u,e.port.x+=u})),t+=y,c},r=function(e){var i={};return e.forEach((function(e){i[e.definition.name]={port:{x:n.x+w,y:t+S},label:!0,collapsed:[],layout:{x:n.x,y:t,width:0,height:y}},t+=y})),i},o=e.inputs.length>j?i(e.inputs,(function(e){return e.definition.name}),(function(e){var n;return(null===(n=e.dependsOn[0])||void 0===n?void 0:n.solid.name)||""})):r(e.inputs),a={x:n.x,y:Math.max(n.y,t-v),width:h,height:g+2*v};t+=g,e.definition.assetNodes.length&&e.definition.description&&(a.height+=x,t+=x);var s=e.outputs.length>j?i(e.outputs,(function(e){var n;return(null===(n=e.dependedBy[0])||void 0===n?void 0:n.definition.name)||""}),(function(e){var n;return(null===(n=e.dependedBy[0])||void 0===n?void 0:n.solid.name)||""})):r(e.outputs);return{bounds:{x:n.x-5,y:n.y-5,width:h+10,height:t-n.y+10},op:a,inputs:o,outputs:s}}var Z=50,P=function(e,n){var t=e.map((function(e){return e.name})).join("|"),i=null===n||void 0===n?void 0:n.name;return"".concat(t,":").concat(i)},_=s()((function(e,n){var t=new f.graphlib.Graph,i=0,r=100,a=100;n&&(i=Math.max(n.inputs.length,n.outputs.length)*y,r=(a=70+C)+i),t.setGraph({rankdir:"TB",marginx:a,marginy:r}),t.setDefaultEdgeLabel((function(){return{}}));var s=[],l={};e.forEach((function(e){l[e.name]=!0})),e.forEach((function(e){var n=I(e,{x:0,y:0});t.setNode(e.name,{width:n.bounds.width,height:n.bounds.height}),e.inputs.forEach((function(n){n.dependsOn.forEach((function(i){l[i.solid.name]&&l[e.name]&&(t.setEdge({v:i.solid.name,w:e.name},{weight:1}),s.push({from:{point:{x:0,y:0},opName:i.solid.name,edgeName:i.definition.name},to:{point:{x:0,y:0},opName:e.name,edgeName:n.definition.name}}))}))}))})),f.layout(t);var c={},d={};t.nodes().forEach((function(e){var n=t.node(e);n&&(d[e]=n)}));var u=0,p=0;Object.entries(d).forEach((function(n){var t=(0,o.Z)(n,2),i=t[0],r=t[1],a=e.find((function(e){return e.name===i}));if(a){var s=r.x-r.width/2,l=r.y-r.height/2;c[i]=I(a,{x:s,y:l}),u=Math.max(u,s+r.width),p=Math.max(p,l+r.height)}})),t.edges().forEach((function(e){var n=s.find((function(n){return n.from.opName===e.v&&n.to.opName===e.w})),i=t.edge(e).points;n&&i.length>0&&(n.from.point=i[0],n.to.point=i[i.length-1])}));var m={edges:s,nodes:c,width:u+a,height:p+r,parent:null};return n&&(m.parent=function(e,n,t){var i={invocationBoundingBox:{x:1,y:1,width:e.width-1,height:e.height-1},bounds:{x:C,y:C+t,width:e.width-2*C,height:e.height-2*(C+t)},mappingLeftEdge:C-20,mappingLeftSpacing:10,inputs:{},outputs:{},dependsOn:E(k(n.inputs.map((function(e){return e.dependsOn}))),-N,e.width),dependedBy:E(k(n.outputs.map((function(e){return e.dependedBy}))),e.height+N,e.width)},r=i.bounds.y+i.bounds.height;return n.inputs.forEach((function(e,n){i.inputs[e.definition.name]={layout:{x:i.bounds.x,y:i.bounds.y-n*y-y,width:0,height:y},collapsed:[],label:!0,port:{x:i.bounds.x+w,y:i.bounds.y-n*y-y/2}}})),n.outputs.forEach((function(e,n){i.outputs[e.definition.name]={layout:{x:i.bounds.x,y:r+n*y,width:0,height:y},collapsed:[],label:!0,port:{x:i.bounds.x+w,y:r+n*y+y/2}}})),i}(m,n,i)),m}),P),O=(0,d.pz)((function(e,n,i){return new Promise((function(r){var o=new Worker(new URL(t.p+t.u(404),t.b));o.addEventListener("message",(function(e){r(e.data),o.terminate()})),o.postMessage({type:"layoutOpGraph",ops:e,parentOp:n,staticPathRoot:i})}))}),P),D=function(e){return JSON.stringify(e)},T=s()(u.layoutAssetGraph,D),A=(0,d.pz)((function(e,n){return new Promise((function(i){var r=new Worker(new URL(t.p+t.u(616),t.b));r.addEventListener("message",(function(e){i(e.data),r.terminate()})),r.postMessage({type:"layoutAssetGraph",graphData:e,staticPathRoot:n})}))}),D),M=function(e,n){switch(n.type){case"loading":return{loading:!0,layout:null,cacheKey:""};case"layout":return{loading:!1,layout:n.payload.layout,cacheKey:n.payload.cacheKey};default:return e}},R={loading:!1,layout:null,cacheKey:""};function K(e,n){var t=l.useReducer(M,R),a=(0,o.Z)(t,2),s=a[0],d=a[1],u=l.useContext(c.I).staticPathRoot,p=P(e,n),f=e.length>=Z;return l.useEffect((function(){function t(){return t=(0,r.Z)((0,i.Z)().mark((function t(){var r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d({type:"loading"}),t.next=3,O(e,n,u);case 3:r=t.sent,d({type:"layout",payload:{layout:r,cacheKey:p}});case 5:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}if(f)!function(){t.apply(this,arguments)}();else{var o=_(e,n);d({type:"layout",payload:{layout:o,cacheKey:p}})}}),[p,e,n,f,u]),{loading:s.loading||!s.layout||s.cacheKey!==p,async:f,layout:s.layout}}function L(e){var n=l.useReducer(M,R),t=(0,o.Z)(n,2),a=t[0],s=t[1],d=l.useContext(c.I).staticPathRoot,u=D(e),p=Object.keys(e.nodes).length>=Z;return l.useEffect((function(){function n(){return n=(0,r.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:"loading"}),n.next=3,A(e,d);case 3:t=n.sent,s({type:"layout",payload:{layout:t,cacheKey:u}});case 5:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}if(p)!function(){n.apply(this,arguments)}();else{var t=T(e);s({type:"layout",payload:{layout:t,cacheKey:u}})}}),[u,e,p,d]),{loading:a.loading||!a.layout||a.cacheKey!==u,async:p,layout:a.layout}}},8171:function(e,n,t){t.d(n,{FK:function(){return d},Id:function(){return o},Q4:function(){return a},mh:function(){return l},we:function(){return s},zW:function(){return c}});var i=t(68079),r=t(96234),o=function(e,n){var t=n.a,i=n.b;return e.some((function(e){return e.a===t&&e.b===i||e.b===t&&e.a===i}))},a=function(e,n){return e.some((function(e){return e.a.split(":")[0]===n||e.b.split(":")[0]===n}))},s=function(e,n){return e.x+e.width<n.left||e.y+e.height<n.top||e.x>n.right||e.y>n.bottom},l=function(e,n,t){if(n){var i=e.nodes[n],o=function(e){return{x:e.bounds.x+e.bounds.width/2,y:e.bounds.y+e.bounds.height/2}},a=function(e){var n=o(e).x-o(i).x,r=o(e).y-o(i).y;return"left"===t&&0===r&&n<0?-n:"right"===t&&0===r&&n>0?n:"up"===t&&r<0?-r+Math.abs(n)/5:"down"===t&&r>0?r+Math.abs(n)/5:Number.NaN},s=Object.entries(e.nodes).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return{name:t,score:a(i)}})).filter((function(e){return e.name!==n&&!Number.isNaN(e.score)})).sort((function(e,n){return n.score-e.score})).pop();return s?s.name:void 0}};function c(e){var n={},t=0;Object.entries(e.nodes).forEach((function(e){var i=(0,r.Z)(e,2),o=i[0],a=i[1],s=o.split(".");if(1!==s.length)for(var l=1;l<s.length;l++){var c=s.slice(0,l).join("."),d=n[c]||[];d.push(a.bounds),n[c]=d,t=Math.max(t,l)}}));var o=[];return Object.entries(n).forEach((function(e){var n=(0,r.Z)(e,2),a=n[0],s=n[1],l=a.split(".").length,c=5+5*(t-l);if(1!==s.length){var d=Math.min.apply(Math,(0,i.Z)(s.map((function(e){return e.x}))))-c,u=Math.max.apply(Math,(0,i.Z)(s.map((function(e){return e.x+e.width}))))+c,p=Math.min.apply(Math,(0,i.Z)(s.map((function(e){return e.y}))))-c,f=Math.max.apply(Math,(0,i.Z)(s.map((function(e){return e.y+e.height}))))+c;o.push({name:a,x:d,y:p,width:u-d,height:f-p})}})),o}var d=function(e){return{left:e.x,top:e.y,width:e.width,height:e.height,position:"absolute"}}},33258:function(e,n,t){t.d(n,{f:function(){return c},g:function(){return l}});var i,r,o=t(71171),a=t(31623),s=t(62638),l=(0,a.Ps)(i||(i=(0,o.Z)(["\n  mutation resumeBackfill($backfillId: String!) {\n    resumePartitionBackfill(backfillId: $backfillId) {\n      ... on ResumeBackfillSuccess {\n        backfillId\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),s.B),c=(0,a.Ps)(r||(r=(0,o.Z)(["\n  mutation LaunchPartitionBackfill($backfillParams: LaunchBackfillParams!) {\n    launchPartitionBackfill(backfillParams: $backfillParams) {\n      ... on LaunchBackfillSuccess {\n        backfillId\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ... on InvalidStepError {\n        invalidStepKey\n      }\n      ... on InvalidOutputError {\n        stepKey\n        invalidOutputName\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on RunConflict {\n        message\n      }\n      ... on ConflictingExecutionParamsError {\n        message\n      }\n      ... on PresetNotFoundError {\n        message\n      }\n      ... on RunConfigValidationInvalid {\n        pipelineName\n        errors {\n          message\n          path\n          reason\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),s.B)},28832:function(e,n,t){t.d(n,{Fp:function(){return B},KC:function(){return R},Kz:function(){return F},L9:function(){return H},UU:function(){return $}});var i,r,o,a,s=t(71171),l=t(32723),c=t(34795),d=t(33028),u=t(96234),p=t(68079),f=t(60319),m=t(90239),h=t(31623),g=t(30822),x=t(32375),y=t(32667),v=t(293),b=t(47515),j=t(62459),w=t(85357),S=t(45519),C=t(33290),N=t(78193),k=t(33418),E=t(80005),I=t(62638),Z=t(92014),P=t(30382),_=t(23555),O=t(79962),D=t(11662),T=t(9610),A=t(2191),M=t(35936),R=function(e){var n=e.pipeline,t=e.base,i=e.onSaveSession,r=e.onSelectPreset,o=e.onSelectPartition,a=e.partitionSets,s=e.repoAddress,l=e.assetSelection,c=n.isJob,d=n.presets,u=N.useMemo((function(){return[].concat((0,p.Z)(d),(0,p.Z)(a)).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[d,a]);return(0,M.jsxs)(z,{children:[c||u.length<1?null:(0,M.jsx)(L,{label:t?"presetName"in t?"Preset: ".concat(t.presetName):"Partition Set: ".concat(t.partitionsSetName):d.length&&!a.length?"Preset":!d.length&&a.length?"Partition Set":"Preset / Partition Set",configGenerators:u,onSelect:function(e){"PartitionSet"===e.__typename?i({mode:e.mode,base:{partitionsSetName:e.name,partitionName:null,tags:t?t.tags:null}}):r(e)}}),t&&"partitionsSetName"in t?(0,M.jsx)(K,{pipeline:n,partitionSetName:t.partitionsSetName,value:t.partitionName,onSelect:o,repoAddress:s,assetSelection:l}):null]})},K=N.memo((function(e){var n=e.partitionSetName,t=e.value,i=e.onSelect,r=e.repoAddress,o=e.assetSelection,a=N.useContext(k.I).basePath,s=(0,A.$)(r),f=(0,m.a)(G,{variables:{repositorySelector:s,partitionSetName:n,assetKeys:o?o.map((function(e){return{path:e.assetKey.path}})):[]},fetchPolicy:"network-only"}),h=f.data,C=f.refetch,I=f.loading,P="".concat("dagit.partition-sort-order","-").concat(a,"-").concat((0,T.Uz)(r),"-").concat(n),R=(0,O.U)(P,(function(e){return void 0===e?"asc":e})),K=(0,u.Z)(R,2),L=K[0],z=K[1],B=N.useMemo((function(){var e="PartitionSet"===(null===h||void 0===h?void 0:h.partitionSetOrError.__typename)&&"Partitions"===(null===h||void 0===h?void 0:h.partitionSetOrError.partitionsOrError.__typename)?h.partitionSetOrError.partitionsOrError.results:[];return"asc"===L?e:(0,p.Z)(e).reverse()}),[h,L]),$="PartitionSet"===(null===h||void 0===h?void 0:h.partitionSetOrError.__typename)&&"Partitions"!==(null===h||void 0===h?void 0:h.partitionSetOrError.partitionsOrError.__typename)?h.partitionSetOrError.partitionsOrError:null,H=B.find((function(e){return e.name===t})),V=N.useCallback((function(e){e.preventDefault(),z((function(e){return"asc"===e?"desc":"asc"}))}),[z]),U=B.length?(0,M.jsx)(F,{onMouseDown:V,children:(0,M.jsx)(x.JO,{name:"sort_by_alpha",color:y.w.Gray400})}):void 0,W={placeholder:"Partition",style:{width:180},intent:(I?t:H)?g.S.NONE:g.S.DANGER,rightElement:U},q=N.useMemo((function(){var e,n=null===h||void 0===h?void 0:h.assetNodes,t=null===n||void 0===n||null===(e=n.find((function(e){return!!e.partitionDefinition})))||void 0===e?void 0:e.partitionDefinition;return!t||null!==n&&void 0!==n&&n.some((function(e){var n,i;return(null===e||void 0===e||null===(n=e.partitionDefinition)||void 0===n?void 0:n.name)&&(null===e||void 0===e||null===(i=e.partitionDefinition)||void 0===i?void 0:i.name)!==(null===t||void 0===t?void 0:t.name)}))?{isDynamicPartition:!1,partitionDefinitionName:void 0}:{isDynamicPartition:t.type===_.iVC.DYNAMIC,partitionDefinitionName:t.name}}),[null===h||void 0===h?void 0:h.assetNodes]),J=q.isDynamicPartition,Y=q.partitionDefinitionName,Q=N.useState(!1),X=(0,u.Z)(Q,2),ee=X[0],ne=X[1];return I&&0===B.length?(0,M.jsx)(v.U5,{inputProps:(0,d.Z)((0,d.Z)({},W),{},{rightElement:t?void 0:(0,M.jsx)(b.x,{flex:{direction:"column",justifyContent:"center"},padding:{right:4},style:{height:"30px"},children:(0,M.jsx)(j.$,{purpose:"body-text"})})}),items:[],itemRenderer:function(){return null},noResults:(0,M.jsx)(w.sN,{disabled:!0,text:"Loading..."}),inputValueRenderer:function(e){return e},selectedItem:t,onItemSelect:function(){}},"loading"):($&&(0,E._)({body:(0,M.jsx)(Z.T9,{error:$})}),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v.U5,{defaultSelectedItem:H,items:B,inputProps:W,inputValueRenderer:function(e){return e.name},itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,M.jsx)(w.sN,{active:n.modifiers.active,onClick:n.handleClick,text:e.name},e.name)},noResults:(0,M.jsx)(w.sN,{disabled:!0,text:"No presets."}),onItemSelect:function(e){i(s,n,e.name)}},H?H.name:"none"),J?(0,M.jsx)(S.zx,{onClick:function(){ne(!0)},children:"Add new partition"}):null,(0,M.jsx)(D.D,{isOpen:ee,partitionDefinitionName:Y,repoAddress:r,close:function(){ne(!1)},refetch:(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)}))),onCreated:function(e){i(s,n,e)}},ee?"1":"0")]}))})),L=N.memo((function(e){var n=e.configGenerators,t=e.label,i=e.onSelect,r=N.useRef(null);return(0,M.jsx)("div",{children:(0,M.jsx)(P.b,{shortcutLabel:"\u2325E",shortcutFilter:function(e){return"KeyE"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.click()},children:(0,M.jsx)(C.P,{items:n,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemListRenderer:function(e){var n=e.itemsParentRef,t=e.renderItem,i=e.filteredItems,r=i.filter((function(e){return"PipelinePreset"===e.__typename})).map(t).filter(Boolean),o=i.filter((function(e){return"PartitionSet"===e.__typename})).map(t).filter(Boolean),a=r.length>0&&o.length>0;return(0,M.jsxs)(w.v2,{ulRef:n,children:[a&&(0,M.jsx)(w.sN,{disabled:!0,text:"Presets"}),r,a&&(0,M.jsx)(w.R,{}),a&&(0,M.jsx)(w.sN,{disabled:!0,text:"Partition Sets"}),o]})},itemRenderer:function(e,n){return(0,M.jsx)(w.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,M.jsxs)("div",{children:[e.name,(0,M.jsx)("div",{style:{opacity:.4,fontSize:"0.75rem"},children:[e.solidSelection?1===e.solidSelection.length?"Ops: ".concat(e.solidSelection[0]):"Ops: ".concat(e.solidSelection.length):"Ops: All","Mode: ".concat(e.mode)].join(" - ")})]})},e.name)},noResults:(0,M.jsx)(w.sN,{disabled:!0,text:"No presets."}),onItemSelect:i,children:(0,M.jsx)(S.zx,{ref:r,"data-test-id":"preset-selector-button",rightIcon:(0,M.jsx)(x.JO,{name:"expand_more"}),children:t})})})})})),F=f.ZP.button.withConfig({displayName:"ConfigEditorConfigPicker__SortButton",componentId:"sc-9oggai-0"})(["border:0;cursor:pointer;padding:4px;margin:3px 3px 0 0;background-color:",";border-radius:4px;transition:background-color 100ms;:focus{background-color:",";outline:none;}:hover{","{background-color:",";}}"],y.w.White,y.w.Gray100,x.a1,y.w.Gray700),z=f.ZP.div.withConfig({displayName:"ConfigEditorConfigPicker__PickerContainer",componentId:"sc-9oggai-1"})(["display:flex;justify:space-between;align-items:center;gap:6px;"]),G=(0,h.Ps)(i||(i=(0,s.Z)(["\n  query ConfigPartitionsQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n    $assetKeys: [AssetKeyInput!]\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              ...ConfigPartitionResult\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n    }\n    assetNodes(assetKeys: $assetKeys) {\n      id\n      partitionDefinition {\n        name\n        type\n      }\n    }\n  }\n\n  fragment ConfigPartitionResult on Partition {\n    name\n  }\n\n  ","\n"])),I.B),B=(0,h.Ps)(r||(r=(0,s.Z)(["\n  query ConfigPartitionSelectionQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n    $partitionName: String!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      ... on PartitionSet {\n        id\n        partition(partitionName: $partitionName) {\n          name\n          solidSelection\n          runConfigOrError {\n            ... on PartitionRunConfig {\n              yaml\n            }\n            ...PythonErrorFragment\n          }\n          mode\n          tagsOrError {\n            ... on PartitionTags {\n              results {\n                key\n                value\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"])),I.B),$=(0,h.Ps)(o||(o=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPipelineFragment on Pipeline {\n    id\n    isJob\n    name\n    presets {\n      ...ConfigEditorPipelinePreset\n    }\n    tags {\n      key\n      value\n    }\n  }\n\n  fragment ConfigEditorPipelinePreset on PipelinePreset {\n    name\n    mode\n    solidSelection\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n  }\n"]))),H=(0,h.Ps)(a||(a=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPartitionSetsFragment on PartitionSets {\n    results {\n      id\n      ...PartitionSetForConfigEditor\n    }\n  }\n\n  fragment PartitionSetForConfigEditor on PartitionSet {\n    id\n    name\n    mode\n    solidSelection\n  }\n"])))},20358:function(e,n,t){t.d(n,{e:function(){return O},H:function(){return D}});var i,r=t(3077),o=t(60319),a=t(78193),s=t(35936),l=(0,o.vJ)([".CodeMirror-hints,.CodeMirror-hints.dagit{z-index:100;}"]),c=t(50032),d=t(35740),u=t(9938),p=t(71171),f=t(90239),m=t(31623),h=t(62638),g=t(74894),x=t(48341),y=t(53683),v=t(92761),b=t(28832),j=t(18897),w=t(29156),S=t(96234),C=t(33028),N=t(29006),k=t(72691),E=t(94759),I=function(e){var n=e.launchpadType,t=e.pipeline,i=e.partitionSets,r=e.repoAddress,o=e.sessionPresets,l=e.rootDefaultYaml,c=(0,k.gV)().flagAutoLoadDefaults,d=(0,N.Bv)(t,i,l,c),u=(0,N.h5)((0,C.Z)((0,C.Z)({},o),{},{runConfigYaml:d.runConfigYaml})),p=a.useState(u),f=(0,S.Z)(p,2),m=f[0],h=f[1];return(0,s.jsx)(E.Z,{launchpadType:n,session:m,onSave:function(e){var n=(0,C.Z)((0,C.Z)({},m),e);h(n)},pipeline:t,partitionSets:i,repoAddress:r})},Z=a.lazy((function(){return t.e(236).then(t.bind(t,21236))})),P=function(e){var n,t;(0,g.Px)();var i=e.pipelinePath,r=e.repoAddress,o=e.launchpadType,l=e.sessionPresets,c=(0,x.p3)(i),d=c.pipelineName,u=(0,v.Ux)(r),p=(0,v.E8)(u,d);(0,y.b)(c,p),(0,x.Bj)(e);var m,h,b=r.name,S=r.location,C=(0,f.a)(_,{variables:{repositoryName:b,repositoryLocationName:S,pipelineName:d}}),N=null===C||void 0===C||null===(n=C.data)||void 0===n?void 0:n.pipelineOrError,k=null===C||void 0===C||null===(t=C.data)||void 0===t?void 0:t.partitionSetsOrError;if(!N||!k)return(0,s.jsx)(w.m,{});if("PipelineNotFoundError"===k.__typename||"PipelineNotFoundError"===N.__typename){var E="PipelineNotFoundError"===N.__typename?N.message:"No data returned from GraphQL";return""!==d?(0,s.jsx)(j.U,{icon:"error",title:p?"Job not found":"Pipeline not found",description:E}):(0,s.jsx)(j.U,{icon:"no-results",title:p?"Select a job":"Select a pipeline",description:E})}if("InvalidSubsetError"===N.__typename)throw new Error("Should never happen because we do not request a subset");return"PythonError"===N.__typename?(0,s.jsx)(j.U,{icon:"error",title:"Python Error",description:N.message}):k&&"PythonError"===k.__typename?(0,s.jsx)(j.U,{icon:"error",title:"Python Error",description:k.message}):"asset"===o?(0,s.jsx)(I,{launchpadType:o,pipeline:N,partitionSets:k,repoAddress:r,sessionPresets:l||{},rootDefaultYaml:"RunConfigSchema"===(null===(m=C.data)||void 0===m?void 0:m.runConfigSchemaOrError.__typename)?C.data.runConfigSchemaOrError.rootDefaultYaml:void 0}):(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(Z,{launchpadType:o,pipeline:N,partitionSets:k,repoAddress:r,rootDefaultYaml:"RunConfigSchema"===(null===(h=C.data)||void 0===h?void 0:h.runConfigSchemaOrError.__typename)?C.data.runConfigSchemaOrError.rootDefaultYaml:void 0})})},_=(0,m.Ps)(i||(i=(0,p.Z)(["\n  query LaunchpadRootQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    pipelineOrError(\n      params: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on Pipeline {\n        id\n        ...LaunchpadSessionPipelineFragment\n      }\n      ...PythonErrorFragment\n    }\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ...LaunchpadSessionPartitionSetsFragment\n      ...PythonErrorFragment\n    }\n    runConfigSchemaOrError(\n      selector: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      __typename\n      ... on RunConfigSchema {\n        rootDefaultYaml\n      }\n    }\n  }\n\n  fragment LaunchpadSessionPartitionSetsFragment on PartitionSets {\n    ...ConfigEditorGeneratorPartitionSetsFragment\n  }\n\n  fragment LaunchpadSessionPipelineFragment on Pipeline {\n    id\n    isJob\n    isAssetJob\n    ...ConfigEditorGeneratorPipelineFragment\n    modes {\n      id\n      name\n      description\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),h.B,b.L9,b.UU),O=function(e){var n=e.repoAddress,t=e.sessionPresets,i=e.assetJobName,o=e.open,a=e.setOpen;return(0,s.jsxs)(r.Vq,{style:{height:"90vh",width:"80%"},isOpen:o,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return a(!1)},children:[(0,s.jsx)(r.fK,{icon:"layers",label:"Launchpad (configure assets)"}),(0,s.jsx)(l,{}),(0,s.jsx)(P,{launchpadType:"asset",pipelinePath:i,repoAddress:n,sessionPresets:t})]})},D=function(e){var n=e.repoAddress,t=(0,c.UO)(),i=t.pipelinePath,r=t.repoPath;return(0,d.xz)(n.location).permissions.canLaunchPipelineExecution?(0,s.jsx)(P,{launchpadType:i.includes(u.u1)?"asset":"job",pipelinePath:i,repoAddress:n}):(0,s.jsx)(c.l_,{to:"/locations/".concat(r,"/pipeline_or_job/").concat(i)})}},94759:function(e,n,t){t.d(n,{Z:function(){return jn}});var i=t(71171),r=t(32723),o=t(34795),a=t(68079),s=t(41361),l=t(96234),c=t(33028),d=t(60319),u=t(61794),p=t(90239),f=t(31623),m=t(47515),h=t(32667),g=t(84464),x=t(80923),y=t(45519),v=t(32375),b=t(4537),j=t(9249),w=t(87371),S=t(45754),C=t(86906),N=(t(66924),t(12697),t(63344),t(61137),t(11492),t(39091),t(46536),t(96050),t(78482),t(59302),t(61051),t(88317),t(8759)),k=t.n(N),E=t(78193),I=t(68198),Z=t(9886),P=t(91821),_=t.n(P),O="CodeMirror-lint-markers";function D(e){e.parentNode&&e.parentNode.removeChild(e)}function T(e,n,t){var i=function(e,n,t){var i=document.createElement("div"),r=t.getBoundingClientRect();return i.className="CodeMirror-lint-tooltip",i.appendChild(n.cloneNode(!0)),document.body.appendChild(i),r.top>i.clientHeight?(i.style.top=r.top-i.clientHeight-5+"px",i.style.left=r.left+5+"px"):(i.style.top=r.top+5+"px",i.style.left=r.right+10+"px"),null!=i.style.opacity&&(i.style.opacity=1),i}(0,n,t);function r(){var e;_().off(t,"mouseout",r),i&&((e=i).parentNode&&(null==e.style.opacity&&D(e),e.style.opacity=0,setTimeout((function(){D(e)}),600)),i=null)}var o=setInterval((function(){if(i)for(var e=t;;e=e.parentNode){if(e&&11===e.nodeType&&(e=e.host),e===document.body)return;if(!e){r();break}}if(!i)return clearInterval(o)}),400);_().on(t,"mouseout",r)}function A(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(O);for(var t=0;t<n.marked.length;++t)n.marked[t].clear();n.marked.length=0}function M(e,n,t,i){var r=document.createElement("div"),o=r;return r.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+n,t&&((o=r.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),!1!==i&&_().on(o,"mouseover",(function(n){T(0,e,o)})),r}function R(e){var n=e.severity;n||(n="error");var t=document.createElement("div");return t.className="CodeMirror-lint-message CodeMirror-lint-message-"+n,"undefined"!==typeof e.messageHTML?t.innerHTML=e.messageHTML:t.appendChild(document.createTextNode(e.message)),t}function K(e,n){A(e);for(var t,i,r=e.state.lint,o=r.options,a=function(e){for(var n=[],t=0;t<e.length;++t){var i=e[t],r=i.from.line;(n[r]||(n[r]=[])).push(i)}return n}(n),s=0;s<a.length;++s){var l=a[s];if(l){for(var c=null,d=r.hasGutter&&document.createDocumentFragment(),u=0;u<l.length;++u){var p=l[u],f=p.severity;f||(f="error"),i=f,c="error"===(t=c)?t:i,o.formatAnnotation&&(p=o.formatAnnotation(p)),r.hasGutter&&d.appendChild(R(p)),p.to&&r.marked.push(e.markText(p.from,p.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+f,__annotation:p}))}r.hasGutter&&e.setGutterMarker(s,O,M(d,c,l.length>1,r.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(n,a,e)}function L(e){var n=e.state.lint.options,t=n.options||n,i=n.getAnnotations||e.getHelper(_().Pos(0,0),"lint");if(i)if(n.async||i.async)!function(e,n,t){var i=e.state.lint,r=++i.waitingFor;function o(){r=-1,e.off("change",o)}e.on("change",o),n(e.getValue(),(function(n,t){e.off("change",o),i.waitingFor===r&&(t&&n instanceof _()&&(n=t),e.operation((function(){K(e,n)})))}),t,e)}(e,i,t);else{var r=i(e.getValue(),t,e);if(!r)return;r.then?r.then((function(n){e.operation((function(){K(e,n)}))})):e.operation((function(){K(e,r)}))}}function F(e){var n=e.state.lint;n&&(clearTimeout(n.timeout),n.timeout=setTimeout((function(){L(e)}),n.options.delay||500))}function z(e,n){for(var t=(n.target||n.srcElement).getBoundingClientRect(),i=(t.left+t.right)/2,r=(t.top+t.bottom)/2,o=e.coordsChar({left:i,top:r},"client"),a=e.findMarksAt(o),s=e.getHelper(_().Pos(0,0),"dagster-docs")(e,o),l=[],c=0;c<a.length;++c){var d=a[c].__annotation;d&&l.push(d)}(s||l.length)&&function(e,n,t){var i=t.target||t.srcElement,r=document.createDocumentFragment();if(e){var o=document.createElement("div");o.textContent=e,r.appendChild(o),n.length&&(o.style.paddingBottom="4px",o.style.marginBottom="4px",o.style.borderBottom="1px solid rgba(0,0,0,0.25)")}for(var a=0;a<n.length;a++){var s=n[a];r.appendChild(R(s))}T(0,r,i)}(s,l,n)}function G(e,n,t){this.marked=[],this.options=n,this.timeout=null,this.hasGutter=t,this.onMouseOver=function(n){z(e,n)},this.waitingFor=0}var B=t(83673),$=t(35936);_().defineOption("lint",!1,(function(e,n,t){if(t&&t!==_().Init&&(A(e),!1!==e.state.lint.options.lintOnChange&&e.off("change",F),_().off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var i=e.getOption("gutters"),r=!1,o=0;o<i.length;++o)i[o]===O&&(r=!0);var a=e.state.lint=new G(e,(s=n)instanceof Function?{getAnnotations:s}:(s&&!0!==s||(s={}),s),r);!1!==a.options.lintOnChange&&e.on("change",F),!1!==a.options.tooltips&&"gutter"!==a.options.tooltips&&_().on(e.getWrapperElement(),"mouseover",a.onMouseOver)}var s})),_().defineExtension("performLint",(function(){this.state.lint&&L(this)}));var H,V,U=/^[a-zA-Z0-9_@(]$/,W=k()((function(e){e.performLint()}),1e3),q=(0,d.vJ)([".react-codemirror2 .CodeMirror.cm-s-config-editor{height:initial;position:absolute;inset:0;}"]),J=function(e){(0,S.Z)(t,e);var n=(0,C.Z)(t);function t(){var e;(0,j.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r)))._editor=void 0,e.moveCursor=function(n,t){var i;if(e._editor){e._editor.setCursor(n,t,{scroll:!1});var r=e._editor.getScrollInfo().clientHeight,o=e._editor.cursorCoords(!0,"local"),a=o.left,s=o.top;null===(i=e._editor)||void 0===i||i.scrollIntoView({left:a,right:a,top:s-20,bottom:s+(r-20)}),e._editor.focus()}},e.moveCursorToPath=function(n){if(e._editor){var t=e._editor.getDoc(),i=I.wL(e.props.configCode),r=(0,B.$P)(i,n,"key");if(r){var o=t.posFromIndex(r?r.start:0);e.moveCursor(o.line,o.ch)}}},e}return(0,w.Z)(t,[{key:"componentDidUpdate",value:function(e){this._editor&&e.configSchema!==this.props.configSchema&&this.performInitialPass()}},{key:"shouldComponentUpdate",value:function(e){return e.configCode!==this.props.configCode||e.readOnly!==this.props.readOnly||e.configSchema!==this.props.configSchema}},{key:"performInitialPass",value:function(){W(this._editor);var e=(0,B.Im)(this._editor).context;this.props.onHelpContextChange(e?{type:e.closestMappingType}:null)}},{key:"render",value:function(){var e=this;return(0,$.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,$.jsx)(q,{}),(0,$.jsx)(Z.X9,{value:this.props.configCode,theme:["config-editor"],options:{mode:"yaml",lineNumbers:!0,readOnly:this.props.readOnly,indentUnit:2,smartIndent:!0,showCursorWhenSelecting:!0,lintOnChange:!1,lint:{checkConfig:this.props.checkConfig,lintOnChange:!1,onUpdateLinting:!1},hintOptions:{completeSingle:!1,closeOnUnfocus:!1,schema:this.props.configSchema},keyMap:"sublime",extraKeys:{"Cmd-Space":function(e){return e.showHint({completeSingle:!0})},"Ctrl-Space":function(e){return e.showHint({completeSingle:!0})},"Alt-Space":function(e){return e.showHint({completeSingle:!0})},"Shift-Tab":function(e){return e.execCommand("indentLess")},Tab:function(e){return e.execCommand("indentMore")},"Cmd-F":"findPersistent","Ctrl-F":"findPersistent"},gutters:["CodeMirror-foldgutter","CodeMirror-lint-markers","CodeMirror-linenumbers"],foldGutter:!0},editorDidMount:function(n){e._editor=n,e.performInitialPass()},onBeforeChange:function(n,t,i){e.props.onConfigChange(i)},onCursorActivity:function(n){if(n.getSelection().length)e.props.onHelpContextChange(null);else{var t=(0,B.Im)(n).context;e.props.onHelpContextChange(t?{type:t.closestMappingType}:null)}},onChange:function(e){W(e)},onBlur:function(e){W(e)},onKeyUp:function(e,n){U.test(n.key)&&e.execCommand("autocomplete")}})]})}}]),t}(E.Component),Y=function(e,n){return(e&&e.type.key)===(n&&n.type.key)},Q=t(86741),X=E.memo((function(e){var n=e.context,t=e.allInnerTypes;return n?(0,$.jsxs)(te,{children:[(0,$.jsx)(ne,{children:(0,$.jsx)(Q.L,{type:n.type,typesInScope:t,maxDepth:2})}),(0,$.jsx)(ee,{children:"Use Ctrl+Space to show auto-completions inline."})]}):(0,$.jsx)(te,{})}),(function(e,n){return Y(e.context,n.context)})),ee=d.ZP.div.withConfig({displayName:"ConfigEditorHelp__AutocompletionsNote",componentId:"sc-1pjkbac-0"})(["font-size:0.75rem;text-align:center;padding:4px;border-top:1px solid ",";background:",";color:",";"],h.w.KeylineGray,h.w.Gray100,h.w.Gray500),ne=d.ZP.div.withConfig({displayName:"ConfigEditorHelp__ConfigScrollWrap",componentId:"sc-1pjkbac-1"})(["padding:8px;color:",";flex:1;pointer-events:initial;max-height:100%;overflow-y:auto;"],h.w.Dark),te=d.ZP.div.withConfig({displayName:"ConfigEditorHelp__Container",componentId:"sc-1pjkbac-2"})(["position:relative;display:flex;flex-direction:column;background-color:",";height:100%;"],h.w.Gray50),ie=t(6650),re=t.n(ie),oe=t(60457),ae=t.n(oe),se=t(80005),le=t(35740),ce=t(92014),de=t(30382),ue=t(9938),pe=(0,f.Ps)(H||(H=(0,i.Z)(["\n  fragment ConfigEditorRunConfigSchemaFragment on RunConfigSchema {\n    rootConfigType {\n      key\n    }\n    allConfigTypes {\n      ...AllConfigTypesForEditor\n    }\n    rootDefaultYaml\n  }\n\n  fragment AllConfigTypesForEditor on ConfigType {\n    key\n    description\n    isSelector\n    typeParamKeys\n    ... on RegularConfigType {\n      givenName\n    }\n    ... on MapConfigType {\n      keyLabelName\n    }\n    ... on EnumConfigType {\n      givenName\n      values {\n        value\n        description\n      }\n    }\n    ... on CompositeConfigType {\n      ...CompositeConfigTypeForSchema\n    }\n    ... on ScalarUnionConfigType {\n      key\n      scalarTypeKey\n      nonScalarTypeKey\n    }\n  }\n\n  fragment CompositeConfigTypeForSchema on CompositeConfigType {\n    fields {\n      name\n      description\n      isRequired\n      configTypeKey\n      defaultValueAsJson\n    }\n  }\n"]))),fe=(0,f.Ps)(V||(V=(0,i.Z)(["\n  fragment ConfigEditorValidationFragment on PipelineConfigValidationResult {\n    ... on RunConfigValidationInvalid {\n      errors {\n        reason\n        message\n        stack {\n          entries {\n            ... on EvaluationStackPathEntry {\n              fieldName\n            }\n            ... on EvaluationStackListItemEntry {\n              listIndex\n            }\n            ... on EvaluationStackMapKeyEntry {\n              mapKey\n            }\n            ... on EvaluationStackMapValueEntry {\n              mapKey\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function me(e){return e.map((function(e){switch(e.__typename){case"EvaluationStackPathEntry":return e.fieldName;case"EvaluationStackListItemEntry":return"".concat(e.listIndex);case"EvaluationStackMapKeyEntry":case"EvaluationStackMapValueEntry":return"".concat(e.mapKey)}}))}function he(e,n){if("RunConfigValidationInvalid"!==n.__typename)return{isValid:!0};var t=n.errors.map((function(e){return{message:e.message,reason:e.reason,path:me(e.stack.entries)}})),i=I.ZP.parse(e),r=Object.keys(i);return t.forEach((function(e){0===e.path.length&&r[0]&&(e.path=[r[0]])})),{isValid:!1,errors:t}}var ge,xe,ye=t(68506),ve=t(9610),be=t(2191),je=t(28832),we=t(33290),Se=t(85357),Ce=function(e){var n=e.modeName?e.modes.find((function(n){return n.name===e.modeName})):e.modes[0];E.useEffect((function(){var t;n&&n.name!==e.modeName&&(null===(t=e.onModeChange)||void 0===t||t.call(e,n.name))}),[n,e.modeName]);var t=1===e.modes.length,i=!e.modeError,r=t&&i;return(0,$.jsx)(we.P,{activeItem:n,filterable:!0,disabled:r,items:e.modes,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,$.jsx)(Se.sN,{active:n.modifiers.active,text:e.name,onClick:n.handleClick},e.name)},onItemSelect:function(n){var t;null===(t=e.onModeChange)||void 0===t||t.call(e,n.name)},children:(0,$.jsx)(y.zx,{icon:i?void 0:(0,$.jsx)(v.JO,{name:"error"}),intent:i?"none":"danger",title:r?"To add a mode, add a ModeDefinition to the pipeline.":"Current execution mode",disabled:r,rightIcon:(0,$.jsx)(v.JO,{name:"expand_more"}),"data-test-id":"mode-picker-button",children:i?n?"Mode: ".concat(n.name):"Select Mode":"Invalid Mode Selection"})})},Ne=t(1360),ke=t(56791),Ee=t(73070),Ie=t(62709),Ze=t(62638),Pe=t(55500),_e=t(25620),Oe=t(64218),De=t(92761),Te=(0,f.Ps)(ge||(ge=(0,i.Z)(["\n  query OpSelectorQuery($selector: PipelineSelector!, $requestScopeHandleID: String) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),_e.Q,Ze.B),Ae=function(e){var n=e.serverProvidedSubsetError,t=e.onChange,i=e.pipelineName,r=e.repoAddress,o=e.onFlattenGraphsChange,a=E.useState(!1),s=(0,l.Z)(a,2),d=s[0],u=s[1],f=E.useRef(null),h=e.flattenGraphs||!1,g=(0,c.Z)((0,c.Z)({},(0,be.$)(r)),{},{pipelineName:i}),x=(0,De.Ux)(r),y=(0,De.E8)(x,i),v=(0,p.a)(Te,{variables:{selector:g,requestScopeHandleID:h?void 0:""}}),b=v.data,j=v.loading,w=e.query||"*",S=("Pipeline"===(null===b||void 0===b?void 0:b.pipelineOrError.__typename)?h?(0,Pe.i)(b.pipelineOrError.solidHandles):b.pipelineOrError.solidHandles:[]).map((function(e){return e.solid})),C=h||S.some((function(e){return"CompositeSolidDefinition"===e.definition.__typename})),N="Pipeline"!==(null===b||void 0===b?void 0:b.pipelineOrError.__typename)&&(null===b||void 0===b?void 0:b.pipelineOrError.message)||null,k=(0,Ie.V)(S,w).all,I=!j&&0===k.length?y?"You must provide a valid op query or * to execute the entire job.":"You must provide a valid solid query or * to execute the entire pipeline.":n?n.message:N;return null!==b&&void 0!==b&&b.pipelineOrError?(0,$.jsx)(m.x,{flex:{direction:"row",alignItems:"center",gap:8},children:(0,$.jsx)(Ee.J,{isOpen:d&&!!I,position:"bottom-left",content:(0,$.jsx)(Me,{children:I}),children:(0,$.jsx)(de.b,{shortcutLabel:"\u2325S",shortcutFilter:function(e){return"KeyS"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.focus()},children:(0,$.jsx)(Oe.j,{width:"*"!==w&&""!==w||d||C?350:90,intent:I?"danger":"none",items:S,ref:f,value:w,placeholder:"Type an op subset\u2026",onChange:function(e){""===e&&(e="*");var n=(0,Ie.V)(S,e).all;n.length===S.length?t(null,e):t(n.map((function(e){return e.name})),e)},onFocus:function(){return u(!0)},onBlur:function(){return u(!1)},linkToPreview:{repoName:r.name,repoLocation:r.location,pipelineName:i,isJob:y},flattenGraphsEnabled:C,flattenGraphs:h,setFlattenGraphs:function(){o(!h)}})})})}):null},Me=d.ZP.div.withConfig({displayName:"OpSelector__PopoverErrorWrap",componentId:"sc-6j6o1g-0"})(["padding:4px 8px;border-radius:2px;border:1px solid ",";background:",";color:",";"],h.w.Red500,h.w.Red200,h.w.Red700),Re=t(46840),Ke=t(59740),Le=t(83473),Fe=t(92555),ze=t(44229),Ge=t(95714),Be=t(17914),$e=t(57103),He=t(87919),Ve=["resources","ops","solids"];function Ue(e){return!(!e||"object"!==typeof e||!("__typename"in e))}var We={invalid:{title:"You need to fix this configuration section.",intent:"danger"},missing:{title:"You need to add this configuration section.",intent:"danger"},present:{title:"This section is present and valid.",intent:"none"},none:{title:"This section is empty and valid.",intent:"none"}},qe=function(e){var n,t=e.onRemoveExtraPaths,i=e.extraNodes,a=e.disabled,c=(0,He.p)(),d={},u=[],p=(0,s.Z)(i);try{for(p.s();!(n=p.n()).done;){var f=n.value,g=f.split(".");if(2===g.length){var x=(0,l.Z)(g,2),b=x[0],j=x[1],w=d[b]||[];w.push(j),d[b]=w}else u.push(f)}}catch(C){p.e(C)}finally{p.f()}var S=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({title:"Remove extra config",description:(0,$.jsxs)("div",{children:[(0,$.jsx)("p",{children:"You have provided extra configuration in your run config which does not conform to your\n            pipeline's config schema."}),Object.entries(d).length>0&&Object.entries(d).map((function(e){var n=(0,l.Z)(e,2),t=n[0],i=n[1];return(0,$.jsxs)(E.Fragment,{children:[(0,$.jsxs)("p",{children:["Extra ",t,":"]}),(0,$.jsx)("ul",{children:i.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Le.EK,{children:e})},e)}))})]},t)})),u.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:"Other extra paths:"}),(0,$.jsx)("ul",{children:u.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Le.EK,{children:e})},e)}))})]}),(0,$.jsx)("p",{children:"Clicking confirm will automatically remove this extra configuration from your run config."})]})});case 2:t(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$.jsxs)(m.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,$.jsx)(y.zx,{disabled:a,onClick:S,children:"Remove extra config"}),a?(0,$.jsxs)(m.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(v.JO,{name:"check_circle",color:h.w.Green500}),"No extra config to remove"]}):null]})},Je=function(e){var n=e.onScaffoldMissingConfig,t=e.missingNodes,i=e.disabled,a=(0,He.p)(),s=(0,$.jsxs)("div",{children:[t.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:"Missing paths:"}),(0,$.jsx)("ul",{children:t.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Le.EK,{children:e})},e)}))})]}),(0,$.jsx)("p",{children:"Clicking confirm will automatically scaffold this missing configuration into your run config with default values. You will need to change the values appropriately."})]}),l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({title:"Scaffold missing config",description:s});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$.jsxs)(m.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,$.jsx)(y.zx,{disabled:i,onClick:l,children:"Scaffold missing config"}),i?(0,$.jsxs)(m.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(v.JO,{name:"check_circle",color:h.w.Green500}),"No missing config"]}):null]})},Ye=function(e){var n=e.onExpandDefaults,t=e.disabled,i=(0,He.p)(),a=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({title:"Scaffold all default config",description:(0,$.jsx)("div",{children:"Clicking confirm will automatically scaffold any unspecified configuration fields into your run config with default values. You will need to change the values appropriately."})});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$.jsxs)(m.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,$.jsx)(y.zx,{disabled:t,onClick:a,children:"Scaffold all default config"}),t?(0,$.jsxs)(m.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(v.JO,{name:"check_circle",color:h.w.Green500}),"No missing config"]}):null]})},Qe=function(e){var n=e.document,t=e.validation,i=e.onHighlightPath,r=e.launchpadType,o=e.onRemoveExtraPaths,c=e.onScaffoldMissingConfig,d=e.onExpandDefaults,u=e.solidSelection,p=e.runConfigSchema,f=E.useState(!1),x=(0,l.Z)(f,2),y=x[0],b=x[1],j=E.useMemo((function(){if(!p)return{};var e=p.allConfigTypes,n=p.rootConfigType,t={},i=e.find((function(e){return e.key===n.key}));return"CompositeConfigType"!==(null===i||void 0===i?void 0:i.__typename)||i.fields.forEach((function(n){var i=e.find((function(e){return e.key===n.configTypeKey}));"CompositeConfigType"===(null===i||void 0===i?void 0:i.__typename)&&(t[n.name]=i)})),t}),[p]),w=[],S=[],C=[];if(t&&"RunConfigValidationInvalid"===t.__typename&&t.errors.forEach((function(e){var n=me(e.stack.entries);if(C.push({pathKey:n.join("."),error:e}),"MissingFieldConfigError"===e.__typename)S.push([].concat((0,a.Z)(n),[e.field.name]).join("."));else if("MissingFieldsConfigError"===e.__typename){var t,i=(0,s.Z)(e.fields);try{for(i.s();!(t=i.n()).done;){var r=t.value;S.push([].concat((0,a.Z)(n),[r.name]).join("."))}}catch(d){i.e(d)}finally{i.f()}}else if("FieldNotDefinedConfigError"===e.__typename)w.push([].concat((0,a.Z)(n),[e.fieldName]).join("."));else if("FieldsNotDefinedConfigError"===e.__typename){var o,l=(0,s.Z)(e.fieldNames);try{for(l.s();!(o=l.n()).done;){var c=o.value;w.push([].concat((0,a.Z)(n),[c]).join("."))}}catch(d){l.e(d)}finally{l.f()}}else"RuntimeMismatchConfigError"===e.__typename&&S.push(n.join("."))})),"InvalidSubsetError"===(null===t||void 0===t?void 0:t.__typename)&&C.push({pathKey:"",error:t.message}),"PythonError"===(null===t||void 0===t?void 0:t.__typename)){var N=(0,$.jsx)(ce.T9,{error:t});C.push({pathKey:"",error:(0,$.jsxs)("span",{children:["PythonError:"," ",(0,$.jsx)(Fe.Z,{onClick:function(){return(0,se._)({body:N})},children:"Click for details"})]})})}var k=j.resources,I=j.ops,Z=j.solids,P=(0,Ke.Z)(j,Ve),_=!(null===I||void 0===I||!I.fields),O=function(e,t){var r=t.map((function(t){if(null!==u&&void 0!==u&&u.length&&(null===u||void 0===u||!u.includes(t.name)))return null;var r=[].concat((0,a.Z)(e),[t.name]),o=r.join("."),s=C.filter((function(e){return e.pathKey===o||e.pathKey.startsWith("".concat(o,"."))})).map((function(e){return e.error})),l=cn(r,n),c=S.some((function(e){return e.includes(r.join("."))})),d=s.length||c,p=r.some((function(e,n){return S.includes(r.slice(0,n+1).join("."))}));if(y&&!d)return!1;var f=p&&t.isRequired?"missing":d?"invalid":l?"present":"none";return(0,$.jsx)(ze.u,{position:"bottom",content:We[f].title,intent:We[f].intent,children:(0,$.jsx)(Ge.V,{intent:We[f].intent,onClick:function(){var e=s.find(Ue);i(e?me(e.stack.entries):r)},children:t.name},t.name)},t.name)})).filter(Boolean);return r.length?r:(0,$.jsx)(rn,{children:"Nothing to display."})};return(0,$.jsx)(g.OS,{identifier:"run-preview",axis:"horizontal",first:(0,$.jsxs)(on,{children:[(0,$.jsxs)(nn,{children:[(0,$.jsx)(en,{children:"Errors"}),C.length?C.map((function(e,n){return(0,$.jsx)(ln,{error:e.error,onHighlight:i},n)})):(0,$.jsxs)(m.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(v.JO,{name:"check_circle",color:h.w.Green500}),"No errors"]})]}),(0,$.jsxs)(nn,{children:[(0,$.jsx)(en,{children:"Config actions:"}),(0,$.jsxs)(m.x,{flex:{direction:"column",gap:8},padding:{top:4,bottom:20},children:[(0,$.jsx)(Je,{onScaffoldMissingConfig:c,missingNodes:S,disabled:!S.length}),(0,$.jsx)(Ye,{onExpandDefaults:d,disabled:!1}),(0,$.jsx)(qe,{onRemoveExtraPaths:o,extraNodes:w,disabled:!w.length})]})]})]}),firstInitialPercent:50,firstMinSize:150,second:(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{style:{overflowY:"scroll",width:"100%",height:"100%"},children:[(0,$.jsxs)(sn,{children:[(0,$.jsxs)(nn,{children:[(0,$.jsx)(en,{children:"Runtime"}),(0,$.jsx)(tn,{children:O([],Object.keys(P).map((function(e){return{name:e,isRequired:!1}})))})]}),((null===k||void 0===k?void 0:k.fields.length)||0)>0&&(0,$.jsxs)(nn,{children:[(0,$.jsx)(en,{children:"Resources"}),(0,$.jsx)(tn,{children:O(["resources"],(null===k||void 0===k?void 0:k.fields)||[])})]})]}),(0,$.jsxs)(nn,{children:[(0,$.jsx)(en,{children:"asset"===r?"Assets (Ops)":"Ops"}),(0,$.jsx)(tn,{children:O([_?"ops":"solids"],(_?null===I||void 0===I?void 0:I.fields:null===Z||void 0===Z?void 0:Z.fields)||[])})]}),(0,$.jsx)("div",{style:{height:50}})]}),(0,$.jsx)("div",{style:{position:"absolute",top:0,right:0,padding:"12px 15px 0px 10px",background:"rgba(255,255,255,0.7)"},children:(0,$.jsx)(Be.X,{label:"Errors Only",checked:y,onChange:function(){return b(!y)}})})]})})},Xe=(0,f.Ps)(xe||(xe=(0,i.Z)(["\n  fragment RunPreviewValidationFragment on PipelineConfigValidationResult {\n    ... on RunConfigValidationInvalid {\n      errors {\n        ...RunPreviewValidationErrors\n      }\n    }\n    ... on PipelineNotFoundError {\n      message\n    }\n    ... on InvalidSubsetError {\n      message\n    }\n    ...PythonErrorFragment\n  }\n\n  fragment RunPreviewValidationErrors on PipelineConfigValidationError {\n    reason\n    message\n    stack {\n      entries {\n        ... on EvaluationStackPathEntry {\n          fieldName\n        }\n        ... on EvaluationStackListItemEntry {\n          listIndex\n        }\n        ... on EvaluationStackMapKeyEntry {\n          mapKey\n        }\n        ... on EvaluationStackMapValueEntry {\n          mapKey\n        }\n      }\n    }\n    ... on MissingFieldConfigError {\n      field {\n        name\n      }\n    }\n    ... on MissingFieldsConfigError {\n      fields {\n        name\n      }\n    }\n    ... on FieldNotDefinedConfigError {\n      fieldName\n    }\n    ... on FieldsNotDefinedConfigError {\n      fieldNames\n    }\n  }\n\n  ","\n"])),Ze.B),en=d.ZP.div.withConfig({displayName:"RunPreview__SectionTitle",componentId:"sc-1d5bfcs-0"})(["color:",";text-transform:uppercase;font-size:12px;margin-bottom:8px;"],h.w.Gray400),nn=d.ZP.div.withConfig({displayName:"RunPreview__Section",componentId:"sc-1d5bfcs-1"})(["margin-top:14px;margin-left:10px;"]),tn=d.ZP.div.withConfig({displayName:"RunPreview__ItemSet",componentId:"sc-1d5bfcs-2"})(["display:flex;flex-direction:row;flex-wrap:wrap;gap:4px;"]),rn=d.ZP.div.withConfig({displayName:"RunPreview__ItemsEmptyNotice",componentId:"sc-1d5bfcs-3"})(["font-size:13px;padding-top:7px;padding-bottom:7px;"]),on=d.ZP.div.withConfig({displayName:"RunPreview__ErrorListContainer",componentId:"sc-1d5bfcs-4"})(["margin-left:10px;overflow-y:scroll;height:100%;"]),an=d.ZP.div.withConfig({displayName:"RunPreview__ErrorRowContainer",componentId:"sc-1d5bfcs-5"})(["text-align:left;font-size:13px;white-space:pre-wrap;word-break:break-word;font-family:",";cursor:pointer;display:flex;flex-direction:row;align-items:flex-start;border-bottom:1px solid #ccc;padding:8px;margin:8px 12px 0 -8px;&:last-child{border-bottom:0;margin-bottom:15px;}",""],$e.b.monospace,(function(e){return e.hoverable&&"&:hover {\n      background: ".concat(h.w.Gray50,";\n    }\n  ")})),sn=d.ZP.div.withConfig({displayName:"RunPreview__RuntimeAndResourcesSection",componentId:"sc-1d5bfcs-6"})(["display:flex;gap:12px;@media (max-width:800px){flex-direction:column;}"]),ln=function(e){var n=e.error,t=e.onHighlight,i=null,r=null;Ue(n)?(i=n.message,r=n):i=n;var o=i;return"string"===typeof i&&i.length>400&&(o=function(e){var n=e.indexOf("{");-1===n&&(n=e.indexOf(". "));-1===n&&(n=400);return e.substr(0,n)+"... "}(i)),(0,$.jsxs)(an,{hoverable:!!r,onClick:function(){return r&&t(me(r.stack.entries))},children:[(0,$.jsx)("div",{style:{paddingRight:4},children:(0,$.jsx)(v.JO,{name:"error",color:h.w.Red500})}),(0,$.jsxs)("div",{children:[o,o!==i&&(0,$.jsxs)($.Fragment,{children:["\xa0",(0,$.jsx)(Fe.Z,{onClick:function(){return(0,se._)({body:(0,$.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:i})})},children:"View all"})]})]})]})};function cn(e,n){if(!n||"object"!==typeof n)return!1;if(0===e.length)return!0;var t=(0,Re.Z)(e),i=t[0];return cn(t.slice(1),n[i])}var dn,un,pn=t(92059),fn=t(83305),mn=t(88949),hn=function e(n,t){var i=t[n];switch(i.__typename){case"CompositeConfigType":if(i.isSelector)return"<selector>";var r,o={},a=(0,s.Z)(i.fields);try{for(a.s();!(r=a.n()).done;){var l=r.value,c=l.name,d=l.isRequired,u=l.configTypeKey;d&&(o[c]=e(u,t))}}catch(p){a.e(p)}finally{a.f()}return o;case"ArrayConfigType":return[];case"MapConfigType":return{};case"NullableConfigType":return e(i.typeParamKeys[0],t);case"EnumConfigType":return i.values.map((function(e){return e.value})).join("|");case"ScalarUnionConfigType":return e(i.scalarTypeKey,t);case"RegularConfigType":return{String:"",Int:0,Float:0,Bool:!0,Any:"AnyType"}[i.key];default:(0,mn.UT)(i)}},gn=function(e){var n=e.allConfigTypes,t=e.rootConfigType,i=function(e){var n,t={},i=(0,s.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t[r.key]=r}}catch(o){i.e(o)}finally{i.f()}return t}(n);return hn(t.key,i)},xn="The YAML you provided couldn't be parsed. Please fix the syntax errors and try again.",yn=function(e,n){switch(n.type){case"preview-loading":return(0,c.Z)((0,c.Z)({},e),{},{previewLoading:n.payload});case"set-preview":var t=n.payload,i=t.preview,r=t.previewedDocument,o=t.previewLoading;return(0,c.Z)((0,c.Z)({},e),{},{preview:i,previewedDocument:r,previewLoading:o});case"toggle-tag-editor":return(0,c.Z)((0,c.Z)({},e),{},{tagEditorOpen:n.payload});case"toggle-config-loading":return(0,c.Z)((0,c.Z)({},e),{},{configLoading:n.payload});case"set-editor-help-context":return(0,c.Z)((0,c.Z)({},e),{},{editorHelpContext:n.payload});default:return e}},vn=function(e){var n=e.launchpadType,t=e.children;return"asset"===n?(0,$.jsxs)(m.x,{flex:{direction:"row"},border:{side:"top",width:1,color:h.w.KeylineGray},padding:{right:12,vertical:8},children:[(0,$.jsx)("div",{style:{flexGrow:1}}),t]}):(0,$.jsx)("div",{style:{position:"absolute",bottom:12,right:12,zIndex:1},children:t})},bn={preview:null,previewLoading:!1,previewedDocument:null,configLoading:!1,editorHelpContext:null,tagEditorOpen:!1},jn=function(e){var n,t,i,d=e.launchpadType,f=e.session,j=e.onSave,w=e.partitionSets,S=e.pipeline,C=e.repoAddress,N=(0,u.x)(),k=E.useReducer(yn,bn),Z=(0,l.Z)(k,2),P=Z[0],_=Z[1],O=(0,le.xz)(C.location).permissions.canLaunchPipelineExecution,D=E.useRef(!1),T=E.useRef(null),A=E.useRef(null),M=E.useRef(0),R=S.isJob,K=E.useMemo((function(){return f.tags||[]}),[f]),L=(0,c.Z)((0,c.Z)({},(0,be.$)(C)),{},{pipelineName:S.name,solidSelection:f.solidSelection||void 0,assetSelection:null===(n=f.assetSelection)||void 0===n?void 0:n.map((function(e){return{path:e.assetKey.path}}))}),F=(0,p.a)(En,{variables:{selector:L,mode:null===f||void 0===f?void 0:f.mode}}),z=null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.runConfigSchemaOrError;E.useEffect((function(){return D.current=!0,function(){D.current=!1}}));var G,B,H=function(e){j(e)},V="RunConfigSchema"===(null===z||void 0===z?void 0:z.__typename)?z:void 0,U="ModeNotFoundError"===(null===z||void 0===z?void 0:z.__typename)?z:void 0,W=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.current+=1,t=M.current,i=Cn(n),_({type:"preview-loading",payload:!0}),e.next=6,N.query({fetchPolicy:"no-cache",query:Nn,variables:{runConfigData:i,pipeline:L,mode:f.mode||"default"}});case 6:return o=e.sent,a=o.data,D.current&&(s=t===M.current,_({type:"set-preview",payload:{preview:a,previewedDocument:i,previewLoading:!s&&P.previewLoading}})),e.abrupt("return",he(i,a.isPipelineConfigValid));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),q=function(e){var n=f.base?K.filter((function(n){var t,i;return(null===(t=f.base)||void 0===t?void 0:t.tags)&&!(null!==(i=f.base)&&void 0!==i&&i.tags.some((function(e){return e.key===n.key&&e.value===n.value})))&&!e.some((function(e){return e.key===n.key}))})):[];return[].concat((0,a.Z)(e),(0,a.Z)(n))},Q=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.tags.map(wn),H({base:{presetName:n.name,tags:t},name:n.name,runConfigYaml:n.runConfigYaml||"",solidSelection:n.solidSelection,solidSelectionQuery:null===n.solidSelection?"*":n.solidSelection.join(","),mode:n.mode,tags:q(t),needsRefresh:!1});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,t,i,o){var a,s,l,c,d,u,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(),e.prev=1,a=f.base,e.next=5,N.query({query:je.Fp,variables:{repositorySelector:n,partitionSetName:t,partitionName:i}});case 5:if(s=e.sent,(l=s.data)&&l.partitionSetOrError&&"PartitionSet"===l.partitionSetOrError.__typename&&l.partitionSetOrError.partition){e.next=10;break}return oe(),e.abrupt("return");case 10:c=l.partitionSetOrError.partition,d=[],"PythonError"===c.tagsOrError.__typename?(0,se._)({body:(0,$.jsx)(ce.T9,{error:c.tagsOrError})}):d=c.tagsOrError.results.map(wn),"PythonError"===c.runConfigOrError.__typename?(u="",(0,se._)({body:(0,$.jsx)(ce.T9,{error:c.runConfigOrError})})):u=c.runConfigOrError.yaml,p=o||c.solidSelection,H({name:c.name,base:Object.assign({},a,{partitionName:c.name,tags:d}),runConfigYaml:u,solidSelection:p,solidSelectionQuery:null===p?"*":p.join(","),mode:c.mode,tags:q(d),needsRefresh:!1}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:oe();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n,t,i,r){return e.apply(this,arguments)}}(),ne=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("presetName"in n)){e.next=5;break}return t=n.presetName,(i=S.presets.find((function(e){return e.name===t})))&&Q((0,c.Z)((0,c.Z)({},i),{},{solidSelection:f.solidSelection||i.solidSelection})),e.abrupt("return");case 5:if(o=n.partitionName,a=n.partitionsSetName,s=(0,be.$)(C),!o){e.next=12;break}return ie(),e.next=11,ee(s,a,o,f.solidSelection);case 11:oe();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=function(){return _({type:"toggle-tag-editor",payload:!0})},ie=function(){return _({type:"toggle-config-loading",payload:!0})},oe=function(){return _({type:"toggle-config-loading",payload:!1})},pe=P.preview,fe=P.previewLoading,me=P.previewedDocument,ge=P.configLoading,xe=P.editorHelpContext,we=P.tagEditorOpen,Se=E.useMemo((function(){var e=f.base,n=f.needsRefresh;return e&&n&&("presetName"in e||e.partitionsSetName&&e.partitionName)?e:null}),[f]);"asset"===d&&(G="Materialize"),w.results.length&&f.base&&"partitionsSetName"in f.base&&!f.base.partitionName&&(B="This job is partitioned. Are you sure you want to launch a run without a partition specified?");var Ee=(0,Ne.C)().LaunchRootExecutionButton;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(g.OS,{axis:"vertical",identifier:"execution",firstMinSize:100,firstInitialPercent:75,first:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ke.f,{isLoading:ge,message:"Generating configuration..."}),(0,$.jsxs)(pn.a,{children:[(0,$.jsx)(je.KC,{pipeline:S,partitionSets:w.results,base:f.base,onSaveSession:H,onSelectPreset:Q,onSelectPartition:ee,repoAddress:C,assetSelection:f.assetSelection}),(0,$.jsx)(kn,{}),"asset"===d?(0,$.jsx)(x.oi,{readOnly:!0,value:f.assetSelection?f.assetSelection.map((function(e){return(0,ue.Je)(e.assetKey)})).join(", "):"*"}):(0,$.jsx)(Ae,{serverProvidedSubsetError:"InvalidSubsetError"===(null===pe||void 0===pe?void 0:pe.isPipelineConfigValid.__typename)?pe.isPipelineConfigValid:void 0,pipelineName:S.name,value:f.solidSelection||null,query:f.solidSelectionQuery||null,onChange:function(e,n){H({solidSelection:e,solidSelectionQuery:n})},flattenGraphs:f.flattenGraphs,onFlattenGraphsChange:function(e){H({flattenGraphs:e})},repoAddress:C}),R?(0,$.jsx)("span",{}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(kn,{}),(0,$.jsx)(Ce,{modes:S.modes,modeError:U,onModeChange:function(e){H({mode:e})},modeName:f.mode})]}),(0,$.jsx)(fn.U,{tagsFromDefinition:S.tags,tagsFromSession:K,onChange:function(e){var n={},t=[];e.forEach((function(e){e.key in n||(n[e.key]=e.value,t.push(e))})),H({tags:t})},open:we,onRequestClose:function(){return _({type:"toggle-tag-editor",payload:!1})}}),(0,$.jsx)("div",{style:{flex:1}}),(0,$.jsx)(de.b,{shortcutLabel:"\u2325T",shortcutFilter:function(e){return"KeyT"===e.code&&e.altKey},onShortcut:te,children:(0,$.jsx)(y.zx,{onClick:te,icon:(0,$.jsx)(v.JO,{name:"edit"}),children:"Edit tags"})}),(0,$.jsx)(kn,{}),(0,$.jsx)(g.Uj,{axis:"horizontal",container:A})]}),S.tags.length||K.length?(0,$.jsx)(m.x,{padding:{vertical:8,left:12,right:0},border:{side:"bottom",width:1,color:h.w.Gray200},children:(0,$.jsx)(fn.x,{tagsFromDefinition:S.tags,tagsFromSession:K,onRequestEdit:te})}):null,Se?(0,$.jsx)(m.x,{padding:{vertical:8,horizontal:12},border:{side:"bottom",width:1,color:h.w.Gray200},children:(0,$.jsxs)(b.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,$.jsx)(v.JO,{name:"warning",color:h.w.Yellow500}),(0,$.jsxs)("div",{children:[(0,ve.Uz)(C)," has been manually refreshed, and this configuration may now be out of date."]}),(0,$.jsx)(y.zx,{intent:"primary",onClick:function(){return ne(Se)},disabled:P.configLoading,children:"Refresh config"}),(0,$.jsx)(y.zx,{onClick:function(){H({needsRefresh:!1})},children:"Dismiss"})]})}):null,(0,$.jsx)(g.OS,{ref:A,axis:"horizontal",identifier:"execution-editor",firstMinSize:100,firstInitialPercent:70,first:(0,$.jsx)(J,{ref:T,readOnly:!1,configSchema:V,configCode:f.runConfigYaml,onConfigChange:function(e){H({runConfigYaml:e})},onHelpContextChange:function(e){Y(xe,e)||_({type:"set-editor-help-context",payload:e})},checkConfig:W}),second:(0,$.jsx)(X,{context:xe,allInnerTypes:(null===V||void 0===V?void 0:V.allConfigTypes)||[]})})]}),second:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ke.f,{isLoading:fe,message:V?"Checking config...":"Loading config schema..."}),(0,$.jsx)(Qe,{launchpadType:d,document:me,validation:pe?pe.isPipelineConfigValid:null,solidSelection:f.solidSelection,runConfigSchema:V,onHighlightPath:function(e){var n;return null===(n=T.current)||void 0===n?void 0:n.moveCursorToPath(e)},onRemoveExtraPaths:function(e){return function(e){try{var n,t=I.Qc(Cn(f.runConfigYaml)),i=(0,s.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;Sn(t,r)}}catch(o){i.e(o)}finally{i.f()}H({runConfigYaml:I.Pz(t)})}catch(o){return void(0,se._)({title:"Invalid YAML",body:xn})}}(e)},onScaffoldMissingConfig:function(){var e=V?gn(V):{};try{var n=I.Qc(Cn(f.runConfigYaml)),t=re()(e,n),i=I.Pz(t);H({runConfigYaml:i})}catch(r){(0,se._)({title:"Invalid YAML",body:xn})}},onExpandDefaults:function(){if(null!==V&&void 0!==V&&V.rootDefaultYaml){var e=I.Qc(Cn(null===V||void 0===V?void 0:V.rootDefaultYaml)),n=I.Qc(Cn(f.runConfigYaml)),t=re()(e,n),i=I.Pz(t);H({runConfigYaml:i})}}})]})}),(0,$.jsx)(vn,{launchpadType:d,children:(0,$.jsx)(Ee,{title:G,warning:B,hasLaunchPermission:O,pipelineName:S.name,getVariables:function(){if(f){var e=Cn(f.runConfigYaml);try{I.Qc(e)}catch(n){return void(0,se._)({title:"Invalid YAML",body:xn})}return{executionParams:{runConfigData:e,selector:(0,c.Z)((0,c.Z)({},L),{},{assetSelection:f.assetSelection?f.assetSelection.map((function(e){return{path:e.assetKey.path}})):void 0}),mode:f.mode||"default",executionMetadata:{tags:ae()([].concat((0,a.Z)(f.solidSelectionQuery?[{key:ye.H.SolidSelection,value:f.solidSelectionQuery}]:[]),(0,a.Z)(null!==f&&void 0!==f&&f.base&&(null===f||void 0===f?void 0:f.base).presetName?[{key:ye.H.PresetName,value:(null===f||void 0===f?void 0:f.base).presetName}]:[]),(0,a.Z)(K.map(wn)),(0,a.Z)(S.tags.map(wn))),(function(e){return e.key}))}}}}},disabled:"PipelineConfigValidationValid"!==(null===pe||void 0===pe||null===(i=pe.isPipelineConfigValid)||void 0===i?void 0:i.__typename),behavior:"open"})})]})},wn=function(e){return{key:e.key,value:e.value}},Sn=function(e,n){for(var t=n.split("."),i=0;i<t.length-1;i++)if("undefined"===typeof(e=e[t[i]]))return;var r=t.pop();r&&delete e[r]},Cn=function(e){return(e||"").trim()||"{}"},Nn=(0,f.Ps)(dn||(dn=(0,i.Z)(["\n  query PreviewConfigQuery(\n    $pipeline: PipelineSelector!\n    $runConfigData: RunConfigData!\n    $mode: String!\n  ) {\n    isPipelineConfigValid(pipeline: $pipeline, runConfigData: $runConfigData, mode: $mode) {\n      ...ConfigEditorValidationFragment\n      ...RunPreviewValidationFragment\n    }\n  }\n\n  ","\n  ","\n"])),fe,Xe),kn=d.ZP.div.withConfig({displayName:"LaunchpadSession__SessionSettingsSpacer",componentId:"sc-1pg2cql-0"})(["width:5px;"]),En=(0,f.Ps)(un||(un=(0,i.Z)(["\n  query PipelineExecutionConfigSchemaQuery($selector: PipelineSelector!, $mode: String) {\n    runConfigSchemaOrError(selector: $selector, mode: $mode) {\n      ...LaunchpadSessionRunConfigSchemaFragment\n    }\n  }\n\n  fragment LaunchpadSessionRunConfigSchemaFragment on RunConfigSchemaOrError {\n    ... on RunConfigSchema {\n      ...ConfigEditorRunConfigSchemaFragment\n    }\n    ... on ModeNotFoundError {\n      ...LaunchpadSessionModeNotFound\n    }\n  }\n\n  fragment LaunchpadSessionModeNotFound on ModeNotFoundError {\n    message\n  }\n\n  ","\n"])),pe)},18897:function(e,n,t){t.d(n,{U:function(){return c}});var i=t(33028),r=t(84464),o=t(62459),a=t(67445),s=(t(78193),t(92059)),l=t(35936),c=function(e){return(0,l.jsx)(r.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.a,{children:(0,l.jsx)(o.$,{purpose:"section"})}),(0,l.jsx)(a.t,(0,i.Z)({},e))]}),second:(0,l.jsx)("div",{})})}},29156:function(e,n,t){t.d(n,{m:function(){return s}});var i=t(84464),r=(t(78193),t(56791)),o=t(92059),a=t(35936),s=function(){return(0,a.jsx)(i.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.f,{isLoading:!0,message:"Loading pipeline and partition sets..."}),(0,a.jsx)(o.a,{})]}),second:(0,a.jsx)(r.f,{isLoading:!0,message:"Loading pipeline and partition sets..."})})}},56791:function(e,n,t){t.d(n,{f:function(){return s}});var i=t(60319),r=t(4537),o=t(62459),a=(t(78193),t(35936)),s=function(e){var n=e.isLoading,t=e.message;return(0,a.jsx)(l,{isLoading:n,children:(0,a.jsxs)(r.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(o.$,{purpose:"body-text"}),(0,a.jsx)("div",{children:t})]})})},l=i.ZP.div.withConfig({displayName:"LoadingOverlay__LoadingOverlayContainer",componentId:"sc-1tqulki-0"})(["position:absolute;left:0;right:0;top:0;bottom:0;background-color:#fff;z-index:20;display:",";align-items:center;justify-content:center;opacity:",";transition:opacity 150ms linear;transition-delay:300ms;"],(function(e){return e.isLoading?"flex":"none"}),(function(e){return e.isLoading?"0.7":"0"}))},92059:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(60319),r=t(32667),o=i.ZP.div.withConfig({displayName:"SessionSettingsBar",componentId:"sc-6lzkvu-0"})(["color:white;display:flex;position:relative;border-bottom:1px solid ",";background:",";align-items:center;height:47px;padding:8px 10px;"],r.w.Gray200,r.w.White)},83305:function(e,n,t){t.d(n,{U:function(){return x},x:function(){return y}});var i=t(68079),r=t(96234),o=t(60319),a=t(3077),s=t(4537),l=t(47515),c=t(44229),d=t(80923),u=t(45519),p=t(32375),f=t(78193),m=t(30382),h=t(68506),g=t(35936),x=function(e){var n=e.tagsFromDefinition,t=void 0===n?[]:n,o=e.tagsFromSession,x=void 0===o?[]:o,y=e.open,v=e.onChange,j=e.onRequestClose,w=f.useState((function(){return x.length?x:[{key:"",value:""}]})),S=(0,r.Z)(w,2),C=S[0],N=S[1];f.useEffect((function(){y||N(x.length?x:[{key:"",value:""}])}),[x,y]);var k=C.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return e.key&&e.value})),E=C.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return!e.key!==!e.value})),I=function(){E.length||(v(k),j())},Z=C===x||!!E.length,P=function(e,n,t){N((function(r){return[].concat((0,i.Z)(r.slice(0,t)),[{key:e,value:n}],(0,i.Z)(r.slice(t+1)))}))};return(0,g.jsxs)(a.Vq,{icon:"info",onClose:j,style:{minWidth:700},title:"Add tags to run",isOpen:y,children:[(0,g.jsx)(a.a7,{children:(0,g.jsxs)(s.Z,{spacing:16,direction:"column",children:[t.length?(0,g.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,g.jsx)(l.x,{margin:{left:2},style:{fontSize:"13px",fontWeight:500},children:"Tags from definition:"}),(0,g.jsx)(b,{children:t.map((function(e,n){var t=e.key;return C.some((function(e){return e.key===t}))?(0,g.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,g.jsx)("span",{style:{opacity:.2},children:(0,g.jsx)(h.i,{tag:e},n)})},t):(0,g.jsx)(h.i,{tag:e},t)}))})]}):null,(0,g.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,g.jsx)("div",{children:"Custom tags:"}),(0,g.jsx)(l.x,{flex:{direction:"column",gap:8},children:C.map((function(e,n){var t=e.key,r=e.value;return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8},children:[(0,g.jsx)(d.oi,{placeholder:"Tag Key",value:t,onChange:function(e){return P(e.target.value,r,n)}}),(0,g.jsx)(d.oi,{placeholder:"Tag Value",value:r,onChange:function(e){return P(t,e.target.value,n)}}),(0,g.jsx)(u.zx,{disabled:1===C.length&&!t.trim()&&!r.trim(),onClick:function(){return function(e){N((function(n){return 0===e&&1===n.length?[{key:"",value:""}]:[].concat((0,i.Z)(n.slice(0,e)),(0,i.Z)(n.slice(e+1)))}))}(n)},icon:(0,g.jsx)(p.JO,{name:"delete"}),children:"Remove"})]},n)}))}),(0,g.jsx)(l.x,{margin:{left:2},flex:{direction:"row"},children:(0,g.jsx)(u.zx,{onClick:function(){N((function(e){return[].concat((0,i.Z)(e),[{key:"",value:""}])}))},icon:(0,g.jsx)(p.JO,{name:"add_circle"}),children:"Add custom tag"})})]})]})}),(0,g.jsxs)(a.cN,{children:[(0,g.jsx)(u.zx,{onClick:j,children:"Cancel"}),(0,g.jsx)(m.b,{shortcutLabel:"\u2325Enter",shortcutFilter:function(e){return"Enter"===e.code&&e.altKey},onShortcut:I,children:(0,g.jsx)(u.zx,{intent:"primary",onClick:I,disabled:Z,children:"Apply"})})]})]})},y=function(e){var n=e.tagsFromSession,t=e.tagsFromDefinition,i=e.actions;return(0,g.jsx)(v,{children:(0,g.jsxs)(b,{children:[t?t.map((function(e,t){var r=e.key;return n.some((function(e){return e.key===r}))?(0,g.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,g.jsx)("span",{style:{opacity:.2},children:(0,g.jsx)(h.i,{tag:e,actions:i},t)})},r):(0,g.jsx)(h.i,{tag:e,actions:i},t)})):void 0,n.map((function(e,n){return(0,g.jsx)(h.i,{tag:e,actions:i},n)}))]})})},v=o.ZP.div.withConfig({displayName:"TagEditor__Container",componentId:"sc-f3ti0i-0"})(["align-items:flex-start;display:flex;flex-direction:row;"]),b=o.ZP.div.withConfig({displayName:"TagEditor__TagList",componentId:"sc-f3ti0i-1"})(["display:flex;flex:1;flex-wrap:wrap;gap:4px;"])},58606:function(e,n,t){t.d(n,{C:function(){return m},z:function(){return f}});var i,r=t(71171),o=t(60319),a=t(31623),s=t(80018),l=t(32667),c=t(57103),d=(t(78193),t(88949)),u=t(60880),p=t(35936),f=function(e){var n=e.definition,t=n.inputDefinitions,i=n.outputDefinitions,r=t.map((function(e,n){return(0,p.jsxs)("span",{children:[(0,d.By)(e.name),": ",(0,p.jsx)(u.g,{type:e.type}),n<t.length-1?", ":""]},n)})),o=i.map((function(e,n){return(0,p.jsxs)("span",{children:[(0,d.By)(e.name),": ",(0,p.jsx)(u.g,{type:e.type}),n<i.length-1?", ":""]},n)}));return(0,p.jsxs)(h,{children:["(",r,") \u21d2 (",o,")"]})},m=(0,a.Ps)(i||(i=(0,r.Z)(["\n  fragment OpTypeSignatureFragment on ISolidDefinition {\n    outputDefinitions {\n      name\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    inputDefinitions {\n      name\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n  }\n\n  ","\n"])),u.B),h=(0,o.ZP)(s.EK).withConfig({displayName:"OpTypeSignature__TypeSignature",componentId:"sc-1rdwtt5-0"})(["&&{background:",";font-family:",";font-size:14px;padding:4px;box-shadow:none;color:black;}"],l.w.Blue50,c.b.monospace)},13079:function(e,n,t){t.d(n,{B1:function(){return E},EC:function(){return I},So:function(){return k},Xd:function(){return S},d:function(){return Z},mv:function(){return j},op:function(){return N}});var i,r,o=t(32723),a=t(71171),s=t(34795),l=t(31623),c=t(4537),d=t(92555),u=t(32667),p=t(83473),f=t(16255),m=(t(78193),t(80005)),h=t(82182),g=t(92014),x=t(95904),y=t(35936),v="DefaultRunLauncher";function b(e){var n=null===e||void 0===e?void 0:e.launchPartitionBackfill,t=void 0;return"PythonError"===(null===n||void 0===n?void 0:n.__typename)||"PartitionSetNotFoundError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,y.jsx)(g.T9,{error:n}):"InvalidStepError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,y.jsx)("div",{children:"Invalid step: ".concat(n.invalidStepKey)}):"InvalidOutputError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,y.jsx)("div",{children:"Invalid output: ".concat(n.invalidOutputName," for ").concat(n.stepKey)}):n&&"errors"in n&&(t=(0,y.jsx)(y.Fragment,{children:n.errors.map((function(e,n){return(0,y.jsx)(g.T9,{error:e},n)}))})),(0,y.jsxs)(c.Z,{direction:"column",spacing:4,children:[(0,y.jsx)("div",{children:"An unexpected error occurred. This backfill was not launched."}),t?(0,y.jsx)(d.Z,{color:u.w.White,underline:"always",onClick:function(){(0,m._)({body:t})},children:"View error"}):null]})}function j(e){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.B7)({message:b(n),icon:"error",intent:"danger"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,n,t){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)((0,o.Z)().mark((function e(n,t,i){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.B7)({intent:"success",message:(0,y.jsxs)("div",{children:["Created backfill ",(0,y.jsx)(p.fv,{children:t})]}),action:{text:"View",href:i?"/overview/backfills/".concat(t):(0,x.it)([{token:"tag",value:"dagster/backfill=".concat(t)}])}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=(0,l.Ps)(i||(i=(0,a.Z)(['\n  fragment DaemonNotRunningAlertInstanceFragment on Instance {\n    id\n    daemonHealth {\n      id\n      daemonStatus(daemonType: "BACKFILL") {\n        id\n        healthy\n      }\n    }\n  }\n']))),k=function(e){return e.instance.daemonHealth.daemonStatus.healthy?null:(0,y.jsx)(E,{})},E=function(){return(0,y.jsx)(f.b,{intent:"warning",title:"The backfill daemon is not running.",description:(0,y.jsxs)("div",{children:["See the"," ",(0,y.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})},I=(0,l.Ps)(r||(r=(0,a.Z)(["\n  fragment UsingDefaultLauncherAlertInstanceFragment on Instance {\n    id\n    runQueuingSupported\n    runLauncher {\n      name\n    }\n  }\n"]))),Z=function(e){var n,t=e.instance;return(null===(n=t.runLauncher)||void 0===n?void 0:n.name)!==v||t.runQueuingSupported?null:(0,y.jsx)(f.b,{intent:"warning",title:(0,y.jsxs)("div",{children:["Using the default run launcher ",(0,y.jsx)("code",{children:v})," to launch backfills without a queued run coordinator is not advised."]}),description:(0,y.jsxs)("div",{children:["Check your instance configuration in ",(0,y.jsx)("code",{children:"dagster.yaml"})," to configure the"," ",(0,y.jsx)("a",{href:"https://docs.dagster.io/deployment/run-coordinator",target:"_blank",rel:"noreferrer",children:"queued run coordinator"})," ","or a run launcher more appropriate for launching a large number of jobs."]})})}},11662:function(e,n,t){t.d(n,{D:function(){return Z}});var i,r=t(71171),o=t(32723),a=t(34795),s=t(96234),l=t(60319),c=t(15541),d=t(31623),u=t(44229),p=t(83473),f=t(32375),m=t(3077),h=t(47515),g=t(80923),x=t(62459),y=t(32667),v=t(45519),b=t(78193),j=t(80005),w=t(92014),S=t(12197),C=t(18517),N=t(2191),k=t(35936),E=["...","\x07","\b","\f","\n","\r","\t","\v","\0","|",",","[","]"," "],I=["...","\\a","\\b","\\f","\\n","\\r","\\t","\\v","\\0","|",'","',"[","]",'" "'],Z=function(e){var n=e.isOpen,t=e.partitionDefinitionName,i=e.close,r=e.repoAddress,l=e.refetch,d=e.onCreated,Z=b.useState(""),O=(0,s.Z)(Z,2),D=O[0],T=O[1],A=(0,c.D)(P),M=(0,s.Z)(A,1)[0],R=b.useState(!1),K=(0,s.Z)(R,2),L=K[0],F=K[1],z=b.useMemo((function(){return 0===D.length||!E.some((function(e){return D.includes(e)}))}),[D]),G=z?null:(0,k.jsx)("span",{"data-testid":(0,C.N)("warning-icon"),children:(0,k.jsx)(u.u,{content:(0,k.jsxs)("div",{children:["The following substrings are not allowed:"," ",(0,k.jsxs)(p.fv,{children:["[",I.join(","),"]"]})]}),placement:"top",children:(0,k.jsx)(f.JO,{name:"warning"})})}),B=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,a,s,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=2;break}return e.abrupt("return");case 2:return F(!0),e.next=5,M({variables:{repositorySelector:(0,N.$)(r),partitionsDefName:t||"",partitionKey:D},refetchQueries:["PartitionHealthQuery","AssetEventsQuery"]});case 5:a=e.sent,F(!1),s=null===(n=a.data)||void 0===n?void 0:n.addDynamicPartition,e.t0=null===s||void 0===s?void 0:s.__typename,e.next="PythonError"===e.t0?11:"DuplicateDynamicPartitionError"===e.t0?13:"UnauthorizedError"===e.t0?15:"AddDynamicPartitionSuccess"===e.t0?17:22;break;case 11:return(0,j._)({title:"Could not create environment variable",body:(0,k.jsx)(w.T9,{error:s})}),e.abrupt("break",24);case 13:return(0,j._)({title:"Could not add partition",body:"A partition this name already exists."}),e.abrupt("break",24);case 15:return(0,j._)({title:"Could not add partition",body:null!==(c=s.message)&&void 0!==c?c:"You do not have permission to do this."}),e.abrupt("break",24);case 17:return null===l||void 0===l||l(),d(D),i(),(0,S.y)(),e.abrupt("break",24);case 22:return(0,j._)({title:"Could not add partition",body:"An unknown error occurred."}),e.abrupt("break",24);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(m.Vq,{isOpen:n,canEscapeKeyClose:!0,canOutsideClickClose:!0,title:(0,k.jsxs)(h.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,k.jsx)(f.JO,{name:"add_circle",size:24}),(0,k.jsxs)("div",{children:["Add a partition",t?(0,k.jsxs)(k.Fragment,{children:[" ","for ",(0,k.jsx)(p.fv,{children:t})]}):""]})]}),children:[(0,k.jsx)(m.a7,{children:(0,k.jsxs)(h.x,{flex:{direction:"column",gap:6},children:[(0,k.jsx)("div",{children:"Partition name"}),(0,k.jsx)(_,{children:(0,k.jsx)(g.oi,{"data-testid":(0,C.N)("partition-input"),rightElement:null!==G&&void 0!==G?G:L?(0,k.jsx)(x.$,{purpose:"body-text"}):void 0,disabled:L,placeholder:"name",value:D,onChange:function(e){return T(e.target.value)},onKeyPress:function(e){"Enter"===e.code&&B()},strokeColor:z?void 0:y.w.Red500,ref:b.useCallback((function(e){e&&e.focus()}),[])})})]})}),(0,k.jsxs)(m.cN,{children:[(0,k.jsx)(v.zx,{onClick:i,children:"Cancel"}),(0,k.jsx)(v.zx,{intent:"primary",onClick:B,disabled:!z,"data-testid":(0,C.N)("save-partition-button"),children:"Save"})]})]})},P=(0,d.Ps)(i||(i=(0,r.Z)(["\n  mutation AddDynamicPartitionMutation(\n    $partitionsDefName: String!\n    $partitionKey: String!\n    $repositorySelector: RepositorySelector!\n  ) {\n    addDynamicPartition(\n      partitionsDefName: $partitionsDefName\n      partitionKey: $partitionKey\n      repositorySelector: $repositorySelector\n    ) {\n      ... on AddDynamicPartitionSuccess {\n        partitionsDefName\n        partitionKey\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]))),_=l.ZP.div.withConfig({displayName:"CreatePartitionDialog__PartitionBox",componentId:"sc-rv8duh-0"})(["display:flex;flex-direction:row;gap:8;align-items:center;> *:first-child{flex-grow:1;}"])},97186:function(e,n,t){t.d(n,{x:function(){return G}});var i=t(68079),r=t(96234),o=t(60319),a=t(47515),s=t(45519),l=t(59740),c=t(33028),d=t(25626),u=t(78193),p=t(17914),f=t(32667),m=t(32375),h=t(85357),g=t(73070),x=t(95714),y=t(80923),v=t(35936),b=((0,o.ZP)(a.x).withConfig({displayName:"VirtualizedTable__CellBox",componentId:"sc-iq9tmc-0"})([":first-child{padding-left:24px;}:last-child{padding-right:24px;}"]),o.ZP.div.withConfig({displayName:"VirtualizedTable__Container",componentId:"sc-iq9tmc-1"})(["height:100%;overflow:auto;"])),j=o.ZP.div.attrs((function(e){var n=e.$totalHeight;return{style:{height:"".concat(n,"px")}}})).withConfig({displayName:"VirtualizedTable__Inner",componentId:"sc-iq9tmc-2"})(["position:relative;width:100%;"]),w=o.ZP.div.attrs((function(e){var n=e.$height,t=e.$start;return{style:{height:"".concat(n,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"VirtualizedTable__Row",componentId:"sc-iq9tmc-3"})(["left:0;position:absolute;right:0;top:0;overflow:hidden;"]),S=t(2838),C=["allTags","selectedTags","setSelectedTags","rowHeight","renderDropdown","searchPlaceholder"],N=function(e,n){return(0,v.jsx)(x.V,{children:(0,v.jsxs)(a.x,{flex:{direction:"row",gap:4,justifyContent:"space-between",alignItems:"center"},children:[(0,v.jsx)("span",{children:e}),(0,v.jsx)(a.x,{style:{cursor:"pointer"},onClick:n.remove,children:(0,v.jsx)(m.JO,{name:"close"})})]})},e)},k=function(e){var n=e.allTags,t=e.placeholder,o=e.selectedTags,s=e.setSelectedTags,l=e.renderTag,f=e.renderDropdownItem,x=e.renderDropdown,y=e.dropdownStyles,C=e.renderTagList,k=e.rowHeight,P=void 0===k?32:k,_=u.useState(!1),O=(0,r.Z)(_,2),D=O[0],T=O[1],A=(0,S.S)(),M=A.viewport,R=A.containerProps,K=u.useRef(null),L=(0,d.useVirtualizer)({count:n.length,getScrollElement:function(){return K.current},estimateSize:function(e){return P},overscan:10}),F=L.getTotalSize(),z=L.getVirtualItems(),G=u.useMemo((function(){var e=(0,v.jsx)(b,{ref:K,style:(0,c.Z)({maxHeight:"300px",overflowY:"auto"},y),children:(0,v.jsx)(j,{$totalHeight:F,children:z.map((function(e){var t=e.index,r=e.start,l=e.end,c=n[t];return(0,v.jsx)(w,{$height:l-r,$start:r,children:function(){var e=o.includes(c),n=function(){s(e?o.filter((function(e){return e!==c})):[].concat((0,i.Z)(o),[c]))};return f?(0,v.jsx)("div",{children:f(c,{toggle:n,selected:e})}):function(e,n){return(0,v.jsx)("label",{children:(0,v.jsx)(h.sN,{text:(0,v.jsxs)(a.x,{flex:{alignItems:"center",gap:8},children:[(0,v.jsx)(p.X,{checked:n.selected,onChange:n.toggle}),(0,v.jsx)("span",{children:e})]}),tagName:"div"})})}(c,{toggle:n,selected:e})}()},c)}))})});return x?x(e,{width:M.width+"px",allTags:n}):(0,v.jsx)(h.v2,{style:{width:M.width+"px"},children:e})}),[n,y,z,x,f,o,s,F,M.width]),B=u.useRef(null),$=u.useMemo((function(){if(0===o.length)return(0,v.jsx)(I,{children:t||"Select tags"});var e=o.map((function(e){return(l||N)(e,{remove:function(n){s(o.filter((function(n){return n!==e}))),n.stopPropagation()}})}));return C?C(e):e}),[o,C,t,l,s]);return(0,v.jsx)(g.J,{placement:"bottom-start",isOpen:D,onInteraction:function(e,n){var t,i=null===n||void 0===n?void 0:n.target;D&&i instanceof HTMLElement&&((null===(t=B.current)||void 0===t?void 0:t.contains(i))||T(e))},content:(0,v.jsx)("div",{ref:B,children:G}),targetTagName:"div",onOpening:L.measure,onOpened:L.measure,children:(0,v.jsxs)(E,(0,c.Z)((0,c.Z)({onClick:function(){T((function(e){return!e}))}},R),{},{children:[(0,v.jsx)(Z,{flex:{grow:1,gap:6},children:$}),(0,v.jsx)("div",{style:{cursor:"pointer"},children:(0,v.jsx)(m.JO,{name:D?"expand_less":"expand_more"})})]}))})},E=o.ZP.div.withConfig({displayName:"TagSelector__Container",componentId:"sc-2s01qj-0"})(["display:flex;flex-direction:row;align-items:center;",""],y.x7),I=o.ZP.div.withConfig({displayName:"TagSelector__Placeholder",componentId:"sc-2s01qj-1"})(["color:",";"],f.w.Gray400),Z=(0,o.ZP)(a.x).withConfig({displayName:"TagSelector__TagsContainer",componentId:"sc-2s01qj-2"})(["overflow-x:auto;&::-webkit-scrollbar{display:none;}scrollbar-width:none;-ms-overflow-style:none;"]),P=function(e){var n=u.useState(""),t=(0,r.Z)(n,2),i=t[0],o=t[1],s=e.allTags,d=e.selectedTags,p=e.setSelectedTags,f=(e.rowHeight,e.renderDropdown),m=e.searchPlaceholder,g=(0,l.Z)(e,C),x=u.useMemo((function(){return""===i.trim()?s:s.filter((function(e){return e.toLowerCase().includes(i.toLowerCase())}))}),[s,i]);return(0,v.jsx)(k,(0,c.Z)((0,c.Z)({},g),{},{allTags:x,selectedTags:d,setSelectedTags:p,dropdownStyles:{width:"auto"},renderDropdown:u.useCallback((function(e,n){return(0,v.jsx)(h.v2,{style:{width:"auto"},children:(0,v.jsxs)(a.x,{flex:{direction:"column"},children:[(0,v.jsx)(a.x,{flex:{direction:"column",grow:1},padding:{horizontal:8},children:(0,v.jsx)(y.oi,{value:i,onChange:function(e){return o(e.target.value)},placeholder:m||"Search",ref:function(e){e&&e.focus()}})}),f?f(e,n):e]})})}),[f,i,m])}))},_=t(99772),O=t(52072),D=t(23555),T=t(15734),A=t(18517),M=t(11662),R=t(80005),K=t(79936),L=t(36980),F=function(e){var n=e.value,t=e.onChange,i=e.partitionKeys,o=e.isTimeseries,a=u.useState(""),s=(0,r.Z)(a,2),l=s[0],c=s[1],d=u.useMemo((function(){return JSON.stringify(i)}),[i]);u.useEffect((function(){var e=JSON.parse(d);c(o?(0,L.Z8)(n,e):n.join(", "))}),[n,d,o]);var p=u.useMemo((function(){return 0===i.length?"Loading partition keys...":function(e,n){if(0===e.length)return"";if(e.length<4||!n)return"ex: ".concat(e[0],", ").concat(e[1]);return"ex: ".concat(e[0],", ").concat(e[1],", [").concat(e[2],"...").concat(e[e.length-1],"]")}(i,o)}),[i,o]),f=function(e){try{t((0,L.w$)(i,l).selectedKeys)}catch(n){e.preventDefault(),(0,R._)({body:n.message})}};return(0,v.jsx)(y.oi,{"data-testid":(0,A.N)("dimension-range-input"),placeholder:p,value:l,style:{display:"flex",width:"100%",flex:1,flexGrow:1},onChange:function(e){return c(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&f(e)},onBlur:f,rightElement:(0,v.jsx)(K.C,{style:{display:l.length?"initial":"none"},onClick:function(){return t([])},children:(0,v.jsx)(m.JO,{name:"cancel"})})})};var z=t(72374),G=function(e){var n=e.selected,t=e.setSelected,o=e.partitionKeys,l=e.health,c=e.dimensionType,d=e.partitionDefinitionName,p=e.repoAddress,f=e.refetch,m=c===D.iVC.TIME_WINDOW,h=c===D.iVC.DYNAMIC,g=u.useState(!1),x=(0,r.Z)(g,2),y=x[0],b=x[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:8},padding:{vertical:4},children:[(0,v.jsx)(a.x,{flex:{direction:"column"},style:{flex:1},children:m?(0,v.jsx)(F,{value:n,partitionKeys:o,onChange:t,isTimeseries:m}):(0,v.jsx)(B,{allPartitions:o,selectedPartitions:n,setSelectedPartitions:t,health:l,setShowCreatePartition:b,isDynamic:h})}),m&&(0,v.jsx)(s.zx,{small:!0,onClick:function(){return t(o.slice(-1))},"data-testid":(0,A.N)("latest-partition-button"),children:"Latest"}),(0,v.jsx)(s.zx,{small:!0,onClick:function(){return t(o)},children:"All"})]}),(0,v.jsxs)(a.x,{margin:{bottom:8},children:[h&&(0,v.jsxs)(H,{flex:{direction:"row",alignItems:"center",gap:8},onClick:function(){b(!0)},children:[(0,v.jsx)($,{name:"add",size:24}),(0,v.jsx)("div",{children:"Add a partition"})]}),m&&(0,v.jsx)(z.b,{partitionNames:o,health:l,splitPartitions:!m,selected:n,onSelect:t})]}),p&&(0,v.jsx)(M.D,{isOpen:y,partitionDefinitionName:d,repoAddress:p,close:function(){b(!1)},refetch:f,onCreated:function(e){t([].concat((0,i.Z)(n),[e]))}},y?"1":"0")]})},B=function(e){var n=e.allPartitions,t=e.selectedPartitions,i=e.setSelectedPartitions,r=e.setShowCreatePartition,o=e.isDynamic,s=e.health,l=u.useCallback((function(e){var t=n.indexOf(e);return"ranges"in s?(0,v.jsx)(_.d,{status:(0,O.h1)(s.ranges,t)}):(0,v.jsx)(T.O_,{size:10,status:s.runStatusForPartitionKey(e,t)||D.VOA.NOT_STARTED})}),[n,s]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(P,{allTags:n,selectedTags:t,setSelectedTags:i,placeholder:"Select a partition or create one",renderDropdownItem:u.useCallback((function(e,n){return(0,v.jsx)("label",{children:(0,v.jsx)(h.sN,{tagName:"div",text:(0,v.jsxs)(a.x,{flex:{alignItems:"center",gap:12},children:[(0,v.jsx)(p.X,{checked:n.selected,onChange:n.toggle}),l(e),(0,v.jsx)("span",{children:e})]})})})}),[l]),renderDropdown:u.useCallback((function(e,n){var s=n.width,l=n.allTags,c=l.every((function(e){return t.includes(e)}));return(0,v.jsx)(h.v2,{style:{width:s},children:(0,v.jsxs)(a.x,{padding:4,children:[o&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.x,{flex:{direction:"column"},children:(0,v.jsx)(h.sN,{tagName:"div",text:(0,v.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,v.jsx)($,{name:"add",size:24}),(0,v.jsx)("span",{children:"Add partition"})]}),onClick:function(){r(!0)}})}),(0,v.jsx)(h.R,{})]}),l.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{children:(0,v.jsx)(h.sN,{tagName:"div",text:(0,v.jsxs)(a.x,{flex:{alignItems:"center",gap:12},children:[(0,v.jsx)(p.X,{checked:c,onChange:function(){i(c?[]:l)}}),(0,v.jsxs)("span",{children:["Select all (",l.length,")"]})]})})}),e]}):(0,v.jsx)("div",{style:{padding:"6px 6px 0px 6px",color:f.w.Gray700},children:"No matching partitions found"})]})})}),[o,t,i,r]),renderTagList:function(e){return e.length>4?(0,v.jsxs)("span",{children:[e.length," partitions selected"]}):e},searchPlaceholder:"Filter partitions"})})},$=(0,o.ZP)(m.JO).withConfig({displayName:"DimensionRangeWizard__StyledIcon",componentId:"sc-1azk227-0"})(["font-weight:500;"]),H=(0,o.ZP)(a.x).withConfig({displayName:"DimensionRangeWizard__LinkText",componentId:"sc-1azk227-1"})(["color:",";cursor:pointer;&:hover{text-decoration:underline;}> *{height:24px;align-content:center;line-height:24px;}"],f.w.Link)},72374:function(e,n,t){t.d(n,{b:function(){return y}});var i=t(41361),r=t(33028),o=t(68079),a=t(96234),s=t(60319),l=t(2838),c=t(44229),d=t(47515),u=t(32667),p=t(78193),f=t(87519),m=t(23555),h=t(25465),g=t(36980),x=t(35936),y=function(e){var n=e.partitionNames,t=e.selected,s=e.onSelect,f=e.onClick,m=e.small,y=e.health,k=e.selectionWindowSize,E=e.hideStatusTooltip,I=e.tooltipMessage,Z=e.splitPartitions,P=void 0!==Z&&Z,_=p.useRef(null),O=p.useState(),D=(0,a.Z)(O,2),T=D[0],A=D[1],M=(0,l.S)(),R=M.viewport,K=M.containerProps,L=function(e,n,t){var r="ranges"in e?e.ranges:null,o="runStatusForPartitionKey"in e?e.runStatusForPartitionKey:null;return p.useMemo((function(){return o?function(e,n,t){var i=n?e.map((function(e,n){return{startIdx:n,endIdx:n,status:t(e,n)}})):(0,g.lU)(e,t);return i.map((function(n){return{label:n.status?(0,h.fi)(n.status):"Unknown",start:{idx:n.startIdx,key:e[n.startIdx]},end:{idx:n.endIdx,key:e[n.endIdx]},style:{background:b(n.status)}}}))}(t,n,o):r&&n?function(e,n){var t,r=[],o=(0,i.Z)(n);try{for(o.s();!(t=o.n()).done;)for(var a=t.value,s=a.start.idx;s<=a.end.idx;s++)r.push({start:{idx:s,key:e[s]},end:{idx:s,key:e[s]},label:a.label,style:a.style})}catch(l){o.e(l)}finally{o.f()}return r}(t,v(r)):v(r)}),[n,t,r,o])}(y,P,n),F=p.useCallback((function(e){if(!_.current)return null;var t=(e.clientX-_.current.getBoundingClientRect().left)/_.current.clientWidth;return n[Math.floor(t*n.length)]}),[n,_]),z=p.useCallback((function(e,t){var i=n.indexOf(e),r=n.indexOf(t);return n.slice(Math.min(i,r),Math.max(i,r)+1)}),[n]),G=p.useMemo((function(){return new Set(t)}),[t]);p.useEffect((function(){if(T&&s&&t){var e=function(e){var n=F(e)||T.end;A({start:null===T||void 0===T?void 0:T.start,end:n})},n=function(e){if(T){var n=F(e)||T.end,i=z(T.start,n),r=e.getModifierState("Shift")?i.every((function(e){return G.has(e)}))?"subtract":"add":"replace";"replace"===r?s(i):"subtract"===r?s(t.filter((function(e){return!i.includes(e)}))):"add"===r&&s(Array.from(new Set([].concat((0,o.Z)(t),(0,o.Z)(i))))),A(void 0)}};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)}}}),[s,t,G,T,z,F]);var B=p.useMemo((function(){return 0===G.size?[]:G.size===n.length?[{startIdx:0,endIdx:n.length-1,status:!0}]:(0,g.lU)(n,(function(e){return G.has(e)})).filter((function(e){return e.status}))}),[G,n]),$=L.map((function(e){return e.end.idx})).reduce((function(e,n){return Math.max(e,n)}),0),H=function(e){return"".concat((100*e/n.length).toFixed(3),"%")},V=P&&R.width>8*(n.length+1),U=f?function(e){var n=F(e.nativeEvent);n&&f(n)}:void 0,W=s?function(e){var n=F(e.nativeEvent);n&&A({start:n,end:n})}:void 0;return(0,x.jsxs)("div",(0,r.Z)((0,r.Z)({},K),{},{onMouseDown:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},children:[t&&!k?(0,x.jsx)(j,{children:B.map((function(e){return(0,x.jsx)("div",{className:"selection-span",style:{left:"min(calc(100% - 2px), ".concat(H(e.startIdx),")"),width:H(e.endIdx-e.startIdx+1)}},e.startIdx)}))}):null,(0,x.jsxs)(w,{style:{height:m?12:24},ref:_,onClick:U,onMouseDown:W,children:[L.map((function(e){return(0,x.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(H(e.start.idx),")"),width:H(e.end.idx-e.start.idx+1),minWidth:1,position:"absolute",zIndex:0===e.start.idx||e.end.idx===$?3:2,top:0},children:E||I?(0,x.jsx)("div",{className:"color-span",style:e.style,title:I}):(0,x.jsx)(c.u,{display:"block",position:"top",content:I||(e.start.idx===e.end.idx?"Partition ".concat(n[e.start.idx]," is ").concat(e.label.toLowerCase()):"Partitions ".concat(n[e.start.idx]," through ").concat(n[e.end.idx]," are ").concat(e.label.toLowerCase())),children:(0,x.jsx)("div",{className:"color-span",style:e.style})})},e.start.idx)})),V?L.slice(1).map((function(e){return(0,x.jsx)("div",{className:"separator",style:{left:"min(calc(100% - 2px), ".concat(H(e.start.idx),")"),height:m?14:24}},"separator_".concat(e.start.idx))})):null,T?(0,x.jsx)(C,{style:{left:"min(calc(100% - 2px), ".concat(H(Math.min(n.indexOf(T.start),n.indexOf(T.end))),")"),width:H(Math.abs(n.indexOf(T.end)-n.indexOf(T.start))+1),height:m?14:24}}):null,t&&t.length&&k?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(S,{style:{left:0,width:H(Math.min(n.indexOf(t[t.length-1]),n.indexOf(t[0]))),height:m?14:24}},"selectionFadeLeft"),(0,x.jsx)(N,{style:{left:"min(calc(100% - 3px), ".concat(H(Math.min(n.indexOf(t[0]),n.indexOf(t[t.length-1]))),")"),width:H(Math.abs(n.indexOf(t[t.length-1])-n.indexOf(t[0]))+1),height:m?14:24}}),(0,x.jsx)(S,{style:{right:0,width:H(n.length-1-Math.max(n.indexOf(t[t.length-1]),n.indexOf(t[0]))),height:m?14:24}},"selectionFadeRight")]}):null]}),P?null:(0,x.jsxs)(d.x,{flex:{justifyContent:"space-between"},margin:{top:4},style:{fontSize:"0.8rem",color:u.w.Gray500,minHeight:17},children:[(0,x.jsx)("span",{children:n[0]}),(0,x.jsx)("span",{children:n[n.length-1]})]})]}))};function v(e){return e.map((function(e){return{start:e.start,end:e.end,label:e.value.map((function(e){return(0,f.be)(e)})).join(", "),style:(0,f.Tg)(e.value)}}))}var b=function(e){return void 0===e?u.w.Gray600:e===m.VOA.NOT_STARTED?u.w.Gray200:h.YM[e]};var j=s.ZP.div.withConfig({displayName:"PartitionStatus__SelectionSpansContainer",componentId:"sc-1ljrbl2-0"})(["position:relative;width:100%;overflow-x:hidden;height:10px;.selection-span{position:absolute;top:0;height:8px;border:2px solid ",";border-bottom:0;}"],u.w.Blue500),w=s.ZP.div.withConfig({displayName:"PartitionStatus__PartitionSpansContainer",componentId:"sc-1ljrbl2-1"})(["position:relative;width:100%;border-radius:4px;overflow:hidden;cursor:col-resize;background:",";.color-span{width:100%;height:24px;outline:none;}.separator{width:1px;position:absolute;z-index:4;background:",";top:0;}"],u.w.Gray200,u.w.KeylineGray),S=s.ZP.div.withConfig({displayName:"PartitionStatus__SelectionFade",componentId:"sc-1ljrbl2-2"})(["position:absolute;z-index:5;background:",";opacity:0.5;top:0;"],u.w.White),C=s.ZP.div.withConfig({displayName:"PartitionStatus__SelectionHoverHighlight",componentId:"sc-1ljrbl2-3"})(["min-width:2px;position:absolute;z-index:4;background:",";opacity:0.7;top:0;"],u.w.White),N=s.ZP.div.withConfig({displayName:"PartitionStatus__SelectionBorder",componentId:"sc-1ljrbl2-4"})(["min-width:2px;position:absolute;z-index:5;border:3px solid ",";border-radius:4px;top:0;"],u.w.Dark)},36980:function(e,n,t){t.d(n,{$0:function(){return c},NN:function(){return l},Z8:function(){return u},ZX:function(){return s},lU:function(){return a},w$:function(){return d}});var i=t(68079),r=t(96234),o=t(41361);function a(e,n){var t=[];return e.forEach((function(e,i){var r=n(e,i),o=t[t.length-1];o&&o.status===r?o.endIdx=i:t.push({startIdx:i,endIdx:i,status:r})})),t}function s(e,n){var t=e.startIdx,i=e.endIdx;return t===i?n[t]:"[".concat(n[t],"...").concat(n[i],"]")}function l(e){var n=e.partitionKeys;return s({startIdx:0,endIdx:n.length-1},n)}function c(e){var n=e.partitionKeys;return{start:{idx:0,key:n[0]},end:{idx:n.length-1,key:n[n.length-1]}}}function d(e,n,t){var a,s=n.split(",").map((function(e){return e.trim()})),l={selectedKeys:[],selectedRanges:[]},c=(0,o.Z)(s);try{var d=function(){var n=a.value;if(0===n.length)return"continue";var o=/^\[(.*)\.\.\.(.*)\]$/g.exec(n);if(o){var s,c=(0,r.Z)(o,3),d=c[1],u=c[2],p=e.indexOf(d),f=e.indexOf(u);if(-1===p||-1===f)throw new Error("Could not find partitions for provided range: ".concat(d,"...").concat(u));(s=l.selectedKeys).push.apply(s,(0,i.Z)(e.slice(p,f+1))),l.selectedRanges.push({start:{idx:p,key:e[p]},end:{idx:f,key:e[f]}})}else if(n.includes("*")){var m=n.split("*"),h=(0,r.Z)(m,2),g=h[0],x=h[1],y=-1,v=function(n){var t;(t=l.selectedKeys).push.apply(t,(0,i.Z)(e.slice(y,n+1))),l.selectedRanges.push({start:{idx:y,key:e[y]},end:{idx:n,key:e[n]}}),y=-1};e.forEach((function(e,n){var t=e.startsWith(g)&&e.endsWith(x);t&&-1===y&&(y=n),t||-1===y||v(n)})),-1!==y&&v(e.length-1)}else{var b=e.indexOf(n);if(-1===b&&!t)throw new Error("Could not find partition: ".concat(n));l.selectedKeys.push(n),l.selectedRanges.push({start:{idx:b,key:n},end:{idx:b,key:n}})}};for(c.s();!(a=c.n()).done;)d()}catch(u){c.e(u)}finally{c.f()}return l.selectedKeys=Array.from(new Set(l.selectedKeys)),l}function u(e,n){if(e.length===(null===n||void 0===n?void 0:n.length))return l({partitionKeys:n});var t=new Set(e);return n?a(n,(function(e){return t.has(e)})).filter((function(e){return e.status})).map((function(e){return s(e,n)})).join(", "):Array.from(t).join(", ")}},55500:function(e,n,t){t.d(n,{i:function(){return a}});var i=t(68079),r=t(96234);function o(e,n){if("CompositeSolidDefinition"!==n.solid.definition.__typename)throw new Error("explodeComposite takes a composite handle.");var t=e.filter((function(e){return e.handleID==="".concat(n.handleID,".").concat(e.solid.name)}));return t.forEach((function(e){e.solid.name=e.handleID,e.solid.inputs.forEach((function(e){e.dependsOn.forEach((function(e){e.solid.name="".concat(n.handleID,".").concat(e.solid.name)}))})),e.solid.outputs.forEach((function(e){e.dependedBy.forEach((function(e){e.solid.name="".concat(n.handleID,".").concat(e.solid.name)}))}))})),n.solid.definition.inputMappings.forEach((function(t){var o,a=n.solid.inputs.find((function(e){return e.definition.name===t.definition.name}));if(a){var s="".concat(n.solid.name,".").concat(t.mappedInput.solid.name),l=e.filter((function(e){return e.handleID===s})),c=(0,r.Z)(l,1)[0];if(c){var d=c.solid.inputs.find((function(e){return e.definition.name===t.mappedInput.definition.name}));d?((o=d.dependsOn).push.apply(o,(0,i.Z)(a.dependsOn)),e.forEach((function(e){return e.solid.outputs.forEach((function(e){e.dependedBy.forEach((function(e){e.solid.name===n.solid.name&&e.definition.name===a.definition.name&&(e.solid.name=s,e.definition.name=d.definition.name)}))}))}))):console.warn("CompositeSupport: No interior solid input matching ".concat(t.mappedInput.definition.name))}else console.warn("CompositeSupport: No interior solid matching ".concat(s))}else console.warn("CompositeSupport: No composite input matching ".concat(t.definition.name))})),n.solid.definition.outputMappings.forEach((function(t){var o,a=n.solid.outputs.find((function(e){return e.definition.name===t.definition.name}));if(a){var s="".concat(n.solid.name,".").concat(t.mappedOutput.solid.name),l=e.filter((function(e){return e.handleID===s})),c=(0,r.Z)(l,1)[0];if(c){var d=c.solid.outputs.find((function(e){return e.definition.name===t.mappedOutput.definition.name}));d?((o=d.dependedBy).push.apply(o,(0,i.Z)(a.dependedBy)),e.forEach((function(e){return e.solid.inputs.forEach((function(e){e.dependsOn.forEach((function(e){e.solid.name===n.solid.name&&e.definition.name===a.definition.name&&(e.solid.name=s,e.definition.name=d.definition.name)}))}))}))):console.warn("CompositeSupport: No interior solid output matching ".concat(t.mappedOutput.definition.name))}else console.warn("CompositeSupport: No interior solid matching ".concat(s))}else console.warn("CompositeSupport: No composite input matching ".concat(t.definition.name))})),t}function a(e){for(var n=(e=JSON.parse(JSON.stringify(e))).filter((function(e){return!e.handleID.includes(".")}));;){var t=n.findIndex((function(e){return"CompositeSolidDefinition"===e.solid.definition.__typename}));if(-1===t)break;n.splice.apply(n,[t,1].concat((0,i.Z)(o(e,n[t]))))}return n}},54665:function(e,n,t){t.d(n,{d:function(){return p}});var i=t(9249),r=t(87371),o=t(45754),a=t(86906),s=t(60319),l=t(78193),c=t(57763),d=t(35936);function u(e){var n=/^\n?( +)/.exec(e);if(null==n)return e;var t=e.split("\n");return t.every((function(e){return""===e.substr(0,n[1].length).trim()}))?t.map((function(e){return e.substr(n[1].length)})).join("\n"):e}var p=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._container=l.createRef(),e.state={hasMore:!1,expanded:!1},e}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){this.updateHandleState()}},{key:"componentDidUpdate",value:function(){this.updateHandleState()}},{key:"updateHandleState",value:function(){if(this._container.current){var e=this._container.current.clientHeight>(this.props.maxHeight||320);e!==this.state.hasMore&&this.setState({hasMore:e})}}},{key:"render",value:function(){var e=this;if(!this.props.description||0===this.props.description.length)return null;var n=this.state,t=n.expanded,i=n.hasMore;return(0,d.jsxs)(f,{onDoubleClick:function(){var n=document.getSelection();if(n&&e._container.current){var t=document.createRange();t.selectNodeContents(e._container.current),n.removeAllRanges(),n.addRange(t)}},style:{maxHeight:t?void 0:this.props.maxHeight||320},children:[!t&&i&&(0,d.jsx)(m,{}),i&&(0,d.jsx)(h,{onClick:function(){return e.setState({expanded:!t})},children:t?"Show Less":"Show More"}),(0,d.jsx)("div",{ref:this._container,style:{overflowX:"auto"},children:(0,d.jsx)(c.U,{children:u(this.props.description)})})]})}}]),t}(l.Component),f=s.ZP.div.withConfig({displayName:"Description__Container",componentId:"sc-mitfqj-0"})(["overflow:hidden;font-size:0.8rem;position:relative;p:last-child{margin-bottom:0;}"]),m=s.ZP.div.withConfig({displayName:"Description__Mask",componentId:"sc-mitfqj-1"})(["position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 70%,rgba(255,255,255,1) );pointer-events:none;border-bottom:1px solid #eee;"]),h=s.ZP.a.withConfig({displayName:"Description__ShowMoreHandle",componentId:"sc-mitfqj-2"})(["line-height:20px;position:absolute;padding:0 14px;bottom:0;left:50%;height:20px;transform:translate(-50%);background:#eee;"])},25620:function(e,n,t){t.d(n,{bg:function(){return xn},Sm:function(){return gn},Q:function(){return yn},m0:function(){return hn},cY:function(){return jn},U0:function(){return Sn},Ui:function(){return vn},zI:function(){return bn}});var i=t(71171),r=t(68079),o=t(33028),a=t(96234),s=t(60319),l=t(31623),c=t(80018),d=t(84464),u=t(17868),p=t(17914),f=t(80923),m=t(32667),h=t(39533),g=t.n(h),x=t(76892),y=t.n(x),v=t(78193),b=t(50032),j=t(62709),w=t(9938),S=t(9249),C=t(87371),N=t(45754),k=t(86906),E=t(88949),I=t(35936),Z=(0,E.Dm)((function(e,n){return e.map((function(e){var t=e.from,i=e.to,r=n[t.opName],o=r.outputs[t.edgeName]||Object.values(r.outputs).find((function(e){return e.collapsed.includes(t.edgeName)})),a=n[i.opName],s=a.inputs[i.edgeName]||Object.values(a.inputs).find((function(e){return e.collapsed.includes(i.edgeName)}));return o&&s?{path:(0,w.cD)({source:o.port,target:s.port}),sourceOutput:o,targetInput:s,from:t,to:i}:(console.log("Unexpected error: An input or output is not reflected in the DAG layout"),null)})).filter((function(e){return!!e}))})),P=function(e,n){var t=e.find((function(e){return e.name===n.opName})),i=null===t||void 0===t?void 0:t.definition.outputDefinitions.find((function(e){return e.name===n.edgeName}));return(null===i||void 0===i?void 0:i.isDynamic)||!1},_=function(e,n){var t=e.find((function(e){return e.name===n.opName})),i=null===t||void 0===t?void 0:t.inputs.find((function(e){return e.definition.name===n.edgeName}));return(null===i||void 0===i?void 0:i.isDynamicCollect)||!1},O=v.memo((function(e){return(0,I.jsx)("g",{children:Z(e.edges,e.layout.nodes).map((function(n,t){var i=n.path,r=n.from,o=n.sourceOutput,a=n.targetInput,s=n.to;return(0,I.jsxs)("g",{onMouseLeave:function(){return e.onHighlight([])},onMouseEnter:function(){return e.onHighlight([{a:r.opName,b:s.opName}])},children:[(0,I.jsx)(A,{d:i,style:{stroke:e.color}}),P(e.ops,r)&&(0,I.jsx)(T,{color:e.color,x:o.layout.x,y:o.layout.y,direction:"output"}),_(e.ops,s)&&(0,I.jsx)(T,{color:e.color,x:a.layout.x,y:a.layout.y,direction:"collect"})]},t)}))})}));O.displayName="OpEdges";var D,T=function(e){var n=e.x,t=e.y,i=e.direction,r=e.color;return(0,I.jsxs)("g",{fill:r,transform:"translate(".concat(n-35,", ").concat(t,")").concat("collect"===i?",rotate(180),translate(-20, -40)":""),children:[(0,I.jsx)("title",{children:"output"===i?"DynamicOutput":"DynamicCollect"}),(0,I.jsx)("polygon",{points:"14.2050781 21 14.0400391 15.2236328 18.953125 18.2705078 20.984375 14.7285156 15.8935547 11.9736328 20.984375 9.21875 18.953125 5.68945312 14.0400391 8.72363281 14.2050781 2.95996094 10.1425781 2.95996094 10.2949219 8.72363281 5.38183594 5.68945312 3.36328125 9.21875 8.45410156 11.9736328 3.36328125 14.7285156 5.38183594 18.2705078 10.2949219 15.2236328 10.1425781 21"}),(0,I.jsx)("polygon",{points:"18.6367188 35.1669922 20.8203125 32.9707031 12.0605469 24.2109375 3.28808594 32.9707031 5.47167969 35.1669922 12.0605469 28.5908203"})]})},A=(0,s.ZP)("path").withConfig({displayName:"OpEdges__StyledPath",componentId:"sc-1j9v42n-0"})(["stroke-width:4;fill:none;"]),M=t(83787),R=t(51664),K=t(38608),L=t(59740),F=t(57103),z=["y","width","size","text","allowTwoLines"],G=["minified","label","fill","className"],B=.53,$=function(e,n){return e.length>n?e.substr(0,n-1)+"\u2026":e},H=function(e){(0,N.Z)(t,e);var n=(0,k.Z)(t);function t(){return(0,S.Z)(this,t),n.apply(this,arguments)}return(0,C.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.y,t=e.width,i=e.size,r=e.text,a=e.allowTwoLines,s=(0,L.Z)(e,z),l=t?Math.round(t/(i*B)):r.length,c="",d="";if(a){for(var u=r.split("_");u.length&&c.length+u[0].length<=l;)c+=u.shift()+(u.length>0?"_":"");d=$(u.join("_"),l)}else c=$(r,l);var p=(Number(n)||0)-(d.length>0?1.25*Number(i)/2:0),f={fontFamily:F.b.monospace,fontSize:"".concat(i,"px"),pointerEvents:"none"};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("text",(0,o.Z)((0,o.Z)({},s),{},{y:p,style:f,width:c.length*i*B,height:i,dominantBaseline:"hanging",children:c})),d&&(0,I.jsx)("text",(0,o.Z)((0,o.Z)({},s),{},{y:p+1.25*Number(i),style:f,width:d.length*i*B,height:i,dominantBaseline:"hanging",children:d}))]})}}],[{key:"intrinsicSizeForProps",value:function(e){return{width:Math.min(e.text.length*e.size*B),height:e.size}}}]),t}(v.PureComponent),V=t(8171),U=function(e){var n=e.layout,t=e.target,i=e.edges,r=e.label,a=e.labelAttachment,s=e.minified,l=e.highlightedEdges,c=e.onHighlightEdges,d=e.onDoubleClickLabel,u={width:0,size:s?24:12,text:r},p=H.intrinsicSizeForProps(u),f=i.some((function(e){return(0,V.Id)(l,e)}))?"#555":"#C7CBCD";if(!n)return null;var m={x:n.x-p.width/2,y:n.y+("top"===a?-10-p.height:10)};return(0,I.jsxs)("g",{onMouseEnter:function(){return c(i)},onMouseLeave:function(){return c([])},children:[(0,I.jsx)(W,(0,o.Z)((0,o.Z)((0,o.Z)({},p),m),{},{onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation(),d()}})),(0,I.jsx)("ellipse",{cx:n.x,cy:n.y,rx:7,ry:7,fill:f}),(0,I.jsx)(H,(0,o.Z)((0,o.Z)((0,o.Z)({},u),p),m)),(0,I.jsx)(K.Z,{style:{stroke:f,strokeWidth:6,fill:"none"},data:{source:n,target:t}})]})},W=(0,s.ZP)("rect").withConfig({displayName:"ExternalConnectionNode__BackingRect",componentId:"sc-1myb27t-0"})(["stroke-width:10px;fill:",";stroke:",";&:hover{fill:",";stroke:",";}"],m.w.Gray100,m.w.Gray100,m.w.Gray200,m.w.Gray200),q=function(e){var n=e.source,t=e.target,i=e.minified,r=e.leftEdgeX,o=e.edge,a=e.highlightedEdges,s=e.onHighlightEdges,l=(0,V.Id)(a,o);return(0,I.jsxs)("g",{onMouseEnter:function(){return s([o])},onMouseLeave:function(){return s([])},children:[(0,I.jsx)("path",{d:"M ".concat(n.x," ").concat(n.y," H ").concat(r," V ").concat(t.y," H ").concat(t.x),fill:"none",strokeWidth:i?6:5,strokeLinecap:"round",stroke:l?"black":"rgb(137, 206, 206)"}),(0,I.jsx)("path",{d:"M ".concat(n.x," ").concat(n.y," H ").concat(r," V ").concat(t.y," H ").concat(t.x),fill:"none",strokeWidth:4,strokeLinecap:"round",stroke:"white"})]})},J=t(834),Y=function(e){var n=e.layout,t=e.op,i=e.minified,r=e.op.definition;if("CompositeSolidDefinition"!==r.__typename)throw new Error("Parent op is not a composite - how did this happen?");var a=n.parent;if(!a)throw new Error("Parent op rendered when no parent layout is present.");var s=a.bounds,l=a.mappingLeftEdge,c=a.mappingLeftSpacing,d={highlightedEdges:e.highlightedEdges,onHighlightEdges:e.onHighlightEdges,onDoubleClick:e.onDoubleClick,onClickOp:e.onClickOp};return s.height<0||s.width<0?(0,I.jsx)("g",{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Q,(0,o.Z)((0,o.Z)({},s),{},{label:t.definition.name,fill:m.w.Gray50,minified:i})),r.inputMappings.map((function(e,t){var r=e.definition,s=e.mappedInput,u=n.nodes[s.solid.name];if(!u)return(0,I.jsx)("g",{},s.solid.name);var p=a.inputs[r.name].port,f=u.inputs[s.definition.name].port;return(0,v.createElement)(q,(0,o.Z)((0,o.Z)({},d),{},{key:"in-".concat(t),target:f,source:p,minified:i,leftEdgeX:l-t*c,edge:{a:(0,R.R)(s),b:J.nn}}))})),r.outputMappings.map((function(e,t){var r=e.definition,s=e.mappedOutput,u=n.nodes[s.solid.name];if(!u)return(0,I.jsx)("g",{},s.solid.name);var p=a.outputs[r.name].port,f=u.outputs[s.definition.name].port;return(0,v.createElement)(q,(0,o.Z)((0,o.Z)({},d),{},{key:"out-".concat(t),target:f,source:p,minified:i,leftEdgeX:l-t*c,edge:{a:(0,R.R)(s),b:J.vN}}))})),(0,I.jsxs)("foreignObject",{width:n.width,height:n.height,style:{pointerEvents:"none"},children:[t.definition.inputDefinitions.map((function(n,r){var s=(0,J.zy)(t.definition,n),l=t.inputs.find((function(e){return e.definition.name===n.name}));return(0,I.jsxs)(v.Fragment,{children:[l.dependsOn.map((function(t,r){return(0,v.createElement)(U,(0,o.Z)((0,o.Z)((0,o.Z)({},d),s),{},{key:r,labelAttachment:"top",label:(0,R.R)(t),minified:i,layout:a.dependsOn[(0,R.R)(t)],target:a.inputs[n.name].port,onDoubleClickLabel:function(){return e.onClickOp({path:["..",t.solid.name]})}}))})),(0,I.jsx)(J.r7,(0,o.Z)((0,o.Z)((0,o.Z)({},d),s),{},{minified:i,colorKey:"input",item:n,layoutInfo:a.inputs[n.name]}))]},r)})),t.definition.outputDefinitions.map((function(n,r){var s=(0,J.zy)(t.definition,n),l=t.outputs.find((function(e){return e.definition.name===n.name}));return(0,I.jsxs)(v.Fragment,{children:[l.dependedBy.map((function(t,r){return(0,v.createElement)(U,(0,o.Z)((0,o.Z)((0,o.Z)({},d),s),{},{key:r,labelAttachment:"bottom",label:(0,R.R)(t),minified:i,layout:a.dependedBy[(0,R.R)(t)],target:a.outputs[n.name].port,onDoubleClickLabel:function(){return e.onClickOp({path:["..",t.solid.name]})}}))})),(0,I.jsx)(J.r7,(0,o.Z)((0,o.Z)((0,o.Z)({},d),s),{},{minified:i,colorKey:"output",item:n,layoutInfo:a.outputs[n.name]}))]},r)}))]})]})},Q=(0,s.ZP)((function(e){var n=e.minified,t=e.label,i=e.fill,r=e.className,a=(0,L.Z)(e,G);return(0,I.jsxs)("g",{children:[(0,I.jsx)("rect",(0,o.Z)((0,o.Z)({},a),{},{fill:i,stroke:"#979797",strokeWidth:1,className:r})),(0,I.jsx)(H,{x:a.x+(n?10:5),y:a.y+(n?10:5),height:void 0,size:n?30:16,text:t,fill:"#979797"})]})})).withConfig({displayName:"ParentOpNode__SVGLabeledParentRect",componentId:"sc-h5nwf8-0"})(["transition:x 250ms ease-out,y 250ms ease-out,width 250ms ease-out,height 250ms ease-out;"]),X=t(1018),ee=function(){},ne=v.memo((function(e){var n=v.useState((function(){return[]})),t=(0,a.Z)(n,2),i=t[0],r=t[1],s=e.layout,l=e.minified,c=e.ops,d=e.viewportRect,u=e.focusOps,p=e.parentOp,f=e.parentHandleID,h=e.onClickOp,g=void 0===h?ee:h,x=e.onDoubleClickOp,y=void 0===x?ee:x,b=e.onEnterSubgraph,j=void 0===b?ee:b,w=e.highlightedOps,S=e.selectedOp;return(0,I.jsxs)(I.Fragment,{children:[p&&s.parent&&s.parent.invocationBoundingBox.width>0&&(0,v.createElement)(Q,(0,o.Z)((0,o.Z)({},s.parent.invocationBoundingBox),{},{key:"composite-rect-".concat(f),label:"",fill:m.w.Yellow50,minified:l})),p&&(0,I.jsx)(Y,{onClickOp:g,onDoubleClick:function(e){return y({name:e})},onHighlightEdges:r,highlightedEdges:i,minified:l,op:p,layout:s},"composite-rect-".concat(f,"-definition")),(0,I.jsx)(O,{ops:c,layout:s,color:m.w.KeylineGray,edges:s.edges,onHighlight:r}),(0,I.jsx)(O,{ops:c,layout:s,color:m.w.Blue500,onHighlight:r,edges:s.edges.filter((function(e){var n=e.from,t=e.to;return(0,V.Id)(i,{a:n.opName,b:t.opName})}))}),(0,V.zW)(s).map((function(e,n){return(0,I.jsx)("rect",(0,o.Z)((0,o.Z)({},e),{},{stroke:"rgb(230, 219, 238)",fill:"rgba(230, 219, 238, 0.2)",strokeWidth:2}),n)})),(0,I.jsx)("foreignObject",{width:s.width,height:s.height,style:{pointerEvents:"none"},children:c.filter((function(e){return!(0,V.we)(s.nodes[e.name].bounds,d)})).map((function(e){return(0,I.jsx)(M.Un,{invocation:e,definition:e.definition,minified:l,onClick:function(){return g({name:e.name})},onDoubleClick:function(){return y({name:e.name})},onEnterComposite:function(){return j({name:e.name})},onHighlightEdges:r,layout:s.nodes[e.name],selected:S===e,focused:u.includes(e),highlightedEdges:(0,V.Q4)(i,e.name)?i:oe,dim:w.length>0&&-1===w.indexOf(e)},e.name)}))})]})}));ne.displayName="OpGraphContents";var te,ie,re,oe=[],ae=function(e){(0,N.Z)(t,e);var n=(0,k.Z)(t);function t(){var e;(0,S.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).viewportEl=v.createRef(),e.argToOpLayout=function(n){var t="name"in n?n.name:n.path[n.path.length-1];return e.props.layout.nodes[t]},e.centerOp=function(n){var t=e.argToOpLayout(n);t&&e.viewportEl.current&&e.viewportEl.current.zoomToSVGBox(t.bounds,!0)},e.focusOnOp=function(n){var t,i=e.argToOpLayout(n);i&&e.viewportEl.current&&(null===(t=e.viewportEl.current)||void 0===t||t.zoomToSVGBox(i.bounds,!0,X.i))},e.unfocus=function(n){e.viewportEl.current.autocenter(!0),n.stopPropagation()},e.onArrowKeyDown=function(n,t){var i,r=(0,V.mh)(e.props.layout,null===(i=e.props.selectedOp)||void 0===i?void 0:i.name,t);r&&e.props.onClickOp&&e.props.onClickOp({name:r})},e}return(0,C.Z)(t,[{key:"componentDidUpdate",value:function(e){e.parentOp!==this.props.parentOp&&(this.viewportEl.current.cancelAnimations(),this.viewportEl.current.autocenter()),e.layout!==this.props.layout&&this.viewportEl.current.autocenter(),e.selectedOp!==this.props.selectedOp&&this.props.selectedOp&&this.centerOp(this.props.selectedOp)}},{key:"render",value:function(){var e=this,n=this.props,t=n.layout,i=n.interactor,r=n.jobName,a=n.onClickBackground,s=n.onDoubleClickOp;return(0,I.jsx)(X.l,{ref:this.viewportEl,maxZoom:1.2,interactor:i||X.l.Interactors.PanAndZoom,graphWidth:t.width,graphHeight:t.height,onClick:a,onDoubleClick:this.unfocus,onArrowKeyDown:this.onArrowKeyDown,children:function(n,i){var r=n.scale;return(0,I.jsx)(le,{width:t.width,height:t.height+200,children:(0,I.jsx)(ne,(0,o.Z)((0,o.Z)({},e.props),{},{layout:t,minified:r<X.i-.01,onDoubleClickOp:s||e.focusOnOp,viewportRect:i}))})}},r)}}]),t}(v.Component),se=(0,l.Ps)(D||(D=(0,i.Z)(["\n  fragment OpGraphOpFragment on Solid {\n    name\n    ...OpNodeInvocationFragment\n    definition {\n      name\n      ...OpNodeDefinitionFragment\n    }\n  }\n\n  ","\n  ","\n"])),M.wi,M.WH),le=s.ZP.svg.withConfig({displayName:"OpGraph__SVGContainer",componentId:"sc-bj9fm3-0"})(["overflow:visible;border-radius:0;"]),ce=t(21916),de=t(64218),ue=t(78387),pe=t(89332),fe=t(47515),me=t(16185),he=t(90239),ge=t(13422),xe=t(92761),ye=t(86741),ve=t(97412),be=t(27954),je=t(84674),we=t(88613),Se=t(54665),Ce=t(34072),Ne=t(11311),ke=function(e){var n,t=e.type,i=t.name,r=t.metadataEntries,o=t.inputSchemaType,a=t.outputSchemaType,s=t.description,l=(0,be.dj)(e.type),c="standard"===l?i:"".concat(i," (").concat(l,")"),d=null===(n=r.find((0,E.Dk)("TableSchemaMetadataEntry")))||void 0===n?void 0:n.schema;return(0,I.jsxs)("div",{children:[(0,I.jsx)(Ce.P3,{}),(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:(0,I.jsxs)(Ce.R8,{children:[(0,I.jsx)(ve.rU,{to:"?tab=types",children:e.isGraph?"Graph types":"Pipeline types"})," > ",c]})}),(0,I.jsx)(Ce.pC,{title:"Description",children:(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:(0,I.jsx)(Se.d,{description:s||"No description provided"})})}),d&&(0,I.jsx)(Ce.pC,{title:"Columns",children:(0,I.jsx)(we.p,{schema:d,itemHorizontalPadding:24})}),o&&(0,I.jsx)(Ce.pC,{title:"Input",children:(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:(0,I.jsx)(ye.L,{type:o,typesInScope:o.recursiveConfigTypes})})}),a&&(0,I.jsx)(Ce.pC,{title:"Output",children:(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:(0,I.jsx)(ye.L,{type:a,typesInScope:a.recursiveConfigTypes})})})]})},Ee=(0,l.Ps)(te||(te=(0,i.Z)(["\n  fragment TypeExplorerFragment on DagsterType {\n    name\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    inputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n    outputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),je.it,Ne.S),Ie=function(e){var n=e.explorerPath,t=e.typeName,i=e.repoAddress,r=(0,xe._T)(i||null,n.pipelineName),o=(0,he.a)(Ze,{variables:{pipelineSelector:r,dagsterTypeName:t}});return(0,I.jsx)(ge.g,{queryResult:o,children:function(e){return e.pipelineOrError&&"Pipeline"===e.pipelineOrError.__typename&&e.pipelineOrError.dagsterTypeOrError&&"RegularDagsterType"===e.pipelineOrError.dagsterTypeOrError.__typename?(0,I.jsx)(ke,{isGraph:e.pipelineOrError.isJob,type:e.pipelineOrError.dagsterTypeOrError}):(0,I.jsx)("div",{children:"Type Not Found"})}})},Ze=(0,l.Ps)(ie||(ie=(0,i.Z)(["\n  query TypeExplorerContainerQuery(\n    $pipelineSelector: PipelineSelector!\n    $dagsterTypeName: String!\n  ) {\n    pipelineOrError(params: $pipelineSelector) {\n      ... on Pipeline {\n        id\n        isJob\n        dagsterTypeOrError(dagsterTypeName: $dagsterTypeName) {\n          ... on RegularDagsterType {\n            ...TypeExplorerFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"])),Ee),Pe=t(67445),_e=t(26590),Oe=t(60880);var De,Te,Ae,Me,Re,Ke,Le,Fe,ze,Ge=function(e){var n=function(e){var n={Custom:Array(),"Built-in":Array()};return e.forEach((function(e){e.isBuiltin?n["Built-in"].push(e):n.Custom.push(e)})),n}(e.types);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ce.P3,{}),(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:(0,I.jsx)(Ce.R8,{children:e.isGraph?"Graph types":"Pipeline types"})}),Object.entries(n).map((function(e,n){var t=(0,a.Z)(e,2),i=t[0],r=t[1],o=0!==n||0===r.length;return(0,I.jsx)(Ce.pC,{title:i,collapsedByDefault:o,children:(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},children:r.length?(0,I.jsx)($e,{children:r.map((function(e,n){return(0,I.jsx)(He,{children:(0,I.jsx)(Oe.g,{type:e})},n)}))}):(0,I.jsx)("div",{style:{color:m.w.Gray500,fontSize:"12px"},children:"None"})})},n)}))]})},Be=(0,l.Ps)(re||(re=(0,i.Z)(["\n  fragment TypeListFragment on DagsterType {\n    name\n    isBuiltin\n    ...DagsterTypeWithTooltipFragment\n  }\n\n  ","\n"])),Oe.B),$e=s.ZP.ul.withConfig({displayName:"TypeList__StyledUL",componentId:"sc-1e0pavz-0"})(["display:flex;flex-direction:column;gap:8px;margin:0;padding:0;"]),He=s.ZP.li.withConfig({displayName:"TypeList__TypeLI",componentId:"sc-1e0pavz-1"})(["list-style-type:none;"]),Ve=function(e){var n=e.explorerPath,t=e.repoAddress,i=n.pipelineName,r=n.snapshotId,o=(0,xe.vl)().options,a=v.useMemo((function(){if(!t){var e=(0,_e.k)(o,i,r);return e[0]?(0,xe._T)((0,xe.Zj)(e[0]),i):null}return(0,xe._T)(t,i)}),[o,i,t,r]),s=(0,he.a)(Ue,{variables:{pipelineSelector:a},skip:!a});return a?(0,I.jsx)(ge.g,{queryResult:s,children:function(e){return"Pipeline"===e.pipelineOrError.__typename?(0,I.jsx)(Ge,{types:e.pipelineOrError.dagsterTypes,isGraph:e.pipelineOrError.isJob}):null}}):(0,I.jsx)(fe.x,{margin:48,children:(0,I.jsx)(Pe.t,{icon:"error",title:"Could not fetch types for snapshot"})})},Ue=(0,l.Ps)(De||(De=(0,i.Z)(["\n  query TypeListContainerQuery($pipelineSelector: PipelineSelector!) {\n    pipelineOrError(params: $pipelineSelector) {\n      ... on Pipeline {\n        id\n        isJob\n        name\n        dagsterTypes {\n          ...TypeListFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),Be),We=t(4248),qe=t(68109),Je=t(62459),Ye=t(44229),Qe=t(98813),Xe=t(80742),en=t(89622),nn={SUCCESS:m.w.Green500,FAILURE:m.w.Red500,SKIPPED:m.w.Gray500,IN_PROGRESS:m.w.Gray200},tn=function(e){var n,t,i=e.repoAddress,o=e.handleID,s=e.pipelineName,l=e.solidName,c=v.useState(null),d=(0,a.Z)(c,2),u=d[0],p=d[1],f=(0,he.a)(rn,{variables:{handleID:o,selector:{repositoryName:i.name,repositoryLocationName:i.location,pipelineName:s}}}),h="Pipeline"===(null===(n=f.data)||void 0===n?void 0:n.pipelineOrError.__typename)?null===(t=f.data.pipelineOrError.solidHandle)||void 0===t?void 0:t.stepStats:void 0,g=h&&"SolidStepStatsConnection"===h.__typename?h.nodes:null,x=v.useMemo((function(){var e=g?g.filter((function(e){return e.startTime&&e.endTime})).map((function(e){return{x:1e3*Number(e.startTime),xNumeric:1e3*Number(e.startTime),y:e.endTime-e.startTime}})):[],n=e.map((function(e){return e.xNumeric})),t=e.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));return{xAxis:"time",values:e,minXNumeric:Math.min.apply(Math,(0,r.Z)(n)),maxXNumeric:Math.max.apply(Math,(0,r.Z)(n)),minY:Math.min.apply(Math,(0,r.Z)(t)),maxY:Math.max.apply(Math,(0,r.Z)(t))}}),[g]);if("SolidStepStatusUnavailableError"===(null===h||void 0===h?void 0:h.__typename))return(0,I.jsx)("span",{});var y=(g||[]).slice(0,10);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ce.pC,{title:"Execution Time",children:(0,I.jsx)(fe.x,{flex:{alignItems:"center",justifyContent:"center"},children:f.loading?(0,I.jsx)(Je.$,{purpose:"section"}):(0,I.jsx)(Qe.K,{label:"Step Execution Time",yAxisLabel:"Seconds",width:"100%",data:x,xHover:u,onHoverX:function(e){return p(e?Number(e):null)}})})}),(0,I.jsx)(Ce.pC,{title:"Execution Status",children:(0,I.jsx)(fe.x,{padding:{left:24,right:16,vertical:12},children:(0,I.jsxs)(fe.x,{flex:{gap:16},style:{fontSize:"0.8rem"},children:[(0,I.jsx)("div",{style:{flex:1},children:"Last ".concat(y.length," Run").concat(1!==y.length?"s":"")}),(0,I.jsx)(fe.x,{style:{overflowX:"auto"},flex:{gap:2},children:y.reverse().map((function(e){var n=e.runId,t=e.status,i=e.startTime;return(0,I.jsx)(Ye.u,{placement:"bottom-end",content:"View Run ".concat(n.slice(0,8)," \u2192"),children:(0,I.jsx)(ve.rU,{to:(0,en.tA)({id:n},{stepKey:l}),children:(0,I.jsx)(Xe.o,{onMouseEnter:function(){return i&&p(1e3*i)},onMouseLeave:function(){return p(null)},style:{border:"2px solid ".concat(i&&1e3*i===u?m.w.Blue500:"transparent"),backgroundColor:t?nn[t]:m.w.Gray200}})})},n)}))})]})})})]})},rn=(0,l.Ps)(Te||(Te=(0,i.Z)(["\n  query SidebarOpGraphsQuery($selector: PipelineSelector!, $handleID: String!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        solidHandle(handleID: $handleID) {\n          stepStats(limit: 20) {\n            ... on SolidStepStatsConnection {\n              nodes {\n                runId\n                startTime\n                endTime\n                status\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),on=t(45519),an=t(32375),sn=t(54335),ln=function(e){var n=e.solid,t=e.onEnterSubgraph,i=n.inputs.some((function(e){return e.dependsOn.length})),r=n.outputs.some((function(e){return e.dependedBy.length}));return(0,I.jsx)("div",{children:(0,I.jsx)(Ce.pC,{title:"Invocation",children:(0,I.jsxs)(fe.x,{padding:{vertical:16,horizontal:24},children:[(0,I.jsx)(Ce.R8,{children:(0,E.By)(n.name)}),i||r?(0,I.jsx)(sn.eK,{children:(0,I.jsxs)("tbody",{children:[i?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(sn.ep,{label:"Inputs"}),n.inputs.map((function(e){var n=e.definition,t=e.dependsOn,i=e.isDynamicCollect;return t.map((function(e,t){return(0,I.jsx)(sn.uC,{from:e,to:n.name,isDynamic:i},t)}))}))]}):null,r?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(sn.ep,{label:"Outputs"}),n.outputs.map((function(e){var n=e.definition;return e.dependedBy.map((function(e,t){return(0,I.jsx)(sn.uC,{from:n.name,to:e,isDynamic:n.isDynamic},t)}))}))]}):null]})}):null,t&&(0,I.jsx)(fe.x,{margin:{top:12},children:(0,I.jsx)(on.zx,{icon:(0,I.jsx)(an.JO,{name:"zoom_in"}),onClick:function(){return t({name:n.name})},children:"Expand graph"})})]})})})},cn=(0,l.Ps)(Ae||(Ae=(0,i.Z)(["\n  fragment SidebarOpInvocationFragment on Solid {\n    name\n    inputs {\n      isDynamicCollect\n      definition {\n        name\n        description\n        type {\n          ...DagsterTypeWithTooltipFragment\n        }\n      }\n      dependsOn {\n        definition {\n          name\n        }\n        solid {\n          name\n        }\n      }\n    }\n    outputs {\n      definition {\n        name\n        description\n        isDynamic\n        type {\n          ...DagsterTypeWithTooltipFragment\n        }\n      }\n      dependedBy {\n        definition {\n          name\n        }\n        solid {\n          name\n        }\n      }\n    }\n  }\n\n  ","\n"])),Oe.B),dn=function(e){var n=e.handleID,t=e.explorerPath,i=e.getInvocations,r=e.showingSubgraph,o=e.onEnterSubgraph,a=e.onClickOp,s=e.repoAddress,l=e.isGraph,c=function(e,n,t,i){var r=(0,he.a)(pn,{variables:{selector:{repositoryName:(null===i||void 0===i?void 0:i.name)||"",repositoryLocationName:(null===i||void 0===i?void 0:i.location)||"",pipelineName:e},handleID:n},skip:t}),o=(0,he.a)(fn,{variables:{selector:{repositoryName:(null===i||void 0===i?void 0:i.name)||"",repositoryLocationName:(null===i||void 0===i?void 0:i.location)||"",graphName:e},handleID:n},skip:!t});if(t){var a=o.error,s=o.data,l=o.loading;return{error:a,solidContainer:"Graph"===(null===s||void 0===s?void 0:s.graphOrError.__typename)?s.graphOrError:void 0,isLoading:!!l}}var c=r.error,d=r.data,u=r.loading;return{error:c,solidContainer:"Pipeline"===(null===d||void 0===d?void 0:d.pipelineOrError.__typename)?d.pipelineOrError:void 0,isLoading:!!u}}(t.pipelineName,n,l,s),d=c.error,u=c.solidContainer,p=c.isLoading;return d?(0,I.jsx)(fe.x,{padding:64,flex:{justifyContent:"center"},children:(0,I.jsx)(Pe.t,{icon:"error",title:"GraphQL Error - see console for details"})}):p?(0,I.jsx)(ge.T,{purpose:"section"}):u?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ln,{solid:u.solidHandle.solid,onEnterSubgraph:"CompositeSolidDefinition"===u.solidHandle.solid.definition.__typename?o:void 0},"".concat(n,"-inv")),!l&&s&&(0,I.jsx)(tn,{handleID:n,solidName:u.solidHandle.solid.name,pipelineName:t.pipelineName,repoAddress:s},"".concat(n,"-graphs")),(0,I.jsx)(qe.I,{showingSubgraph:r,definition:u.solidHandle.solid.definition,getInvocations:i,onClickInvocation:function(e){var n=e.handleID;return a({path:n.split(".")})},repoAddress:s},"".concat(n,"-def"))]}):(0,I.jsx)(fe.x,{padding:{vertical:16,horizontal:24},style:{color:m.w.Gray500},children:"Could not load ops."})},un=(0,l.Ps)(Me||(Me=(0,i.Z)(["\n  fragment SidebarOpFragment on SolidContainer {\n    id\n    name\n    solidHandle(handleID: $handleID) {\n      solid {\n        ...SidebarOpInvocationFragment\n\n        definition {\n          ...SidebarOpDefinitionFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"])),cn,qe.u),pn=(0,l.Ps)(Re||(Re=(0,i.Z)(["\n  query SidebarPipelineOpQuery($selector: PipelineSelector!, $handleID: String!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        ...SidebarOpFragment\n      }\n    }\n  }\n\n  ","\n"])),un),fn=(0,l.Ps)(Ke||(Ke=(0,i.Z)(["\n  query SidebarGraphOpQuery($selector: GraphSelector!, $handleID: String!) {\n    graphOrError(selector: $selector) {\n      ... on Graph {\n        id\n        ...SidebarOpFragment\n      }\n    }\n  }\n\n  ","\n"])),un),mn=function(e){var n,t=e.tab,i=e.typeName,r=e.container,o=e.repoAddress,a=e.explorerPath,s=e.opHandleID,l=e.getInvocations,c=e.parentOpHandleID,d=e.onEnterSubgraph,p=e.onClickOp,f=t||"info",h=[{name:"Info",key:"info",content:function(){return s?(0,I.jsx)(dn,{explorerPath:a,handleID:s,showingSubgraph:!1,getInvocations:l,onEnterSubgraph:d,onClickOp:p,repoAddress:o,isGraph:"Graph"===r.__typename},s):c?(0,I.jsx)(dn,{explorerPath:a,handleID:c,showingSubgraph:!0,getInvocations:l,onClickOp:p,repoAddress:o,isGraph:"Graph"===r.__typename},c):(0,I.jsx)(pe.S,{repoAddress:o,container:r})}},{name:"Types",key:"types",content:function(){return i?(0,I.jsx)(Ie,{explorerPath:a,repoAddress:o,typeName:i}):(0,I.jsx)(Ve,{repoAddress:o,explorerPath:a})}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(fe.x,{padding:{horizontal:24},border:{side:"bottom",width:1,color:m.w.KeylineGray},children:(0,I.jsx)(me.mQ,{selectedTabId:f,children:h.map((function(e){var n=e.name,t=e.key;return(0,I.jsx)(We.f,{id:t,to:{search:"?tab=".concat(t)},title:n},t)}))})}),(0,I.jsx)(bn,{children:(0,I.jsx)(u.S,{region:"tab",resetErrorOnChange:[f,a],children:null===(n=h.find((function(e){return e.key===f})))||void 0===n?void 0:n.content()})})]})},hn=function(e){var n=e.getInvocations,t=e.handles,i=e.options,s=e.container,l=e.explorerPath,m=e.onChangeExplorerPath,h=e.parentHandle,g=e.setOptions,x=e.repoAddress,S=e.isGraph,C=v.useState(""),N=(0,a.Z)(C,2),k=N[0],E=N[1],Z=function(e){m((0,o.Z)((0,o.Z)({},l),{},{opsQuery:e}),"replace")},P=v.useMemo((function(){return function(e){var n=(0,r.Z)(l.opNames);if(void 0!==e(n))throw new Error("handleAdjustPath function is expected to mutate the array and return nothing");m((0,o.Z)((0,o.Z)({},l),{},{opNames:n}),"push")}}),[m,l]),_=function(e){P((function(n){if("name"in e)n[n.length?n.length-1:0]=e.name;else{for(".."!==e.path[0]&&(n.length=0),".."===e.path[0]&&""!==n[n.length-1]&&n.pop();".."===e.path[0];)e.path.shift(),n.pop();n.push.apply(n,(0,r.Z)(e.path))}}))},O=function(e){_(e),window.requestAnimationFrame((function(){P((function(n){var t="name"in e?e.name:e.path[e.path.length-1];n[n.length-1]=t,n.push("")}))}))},D=l.opsQuery,T=l.opNames,A=T[T.length-1],M=t.find((function(e){return A===e.solid.name})),R=A&&!M,K=h&&"CompositeSolidDefinition"!==h.solid.definition.__typename;v.useEffect((function(){(R||K)&&P((function(e){e.pop()}))}),[P,R,K]);var L=v.useMemo((function(){return t.map((function(e){return e.solid}))}),[t]),F=!h&&!l.snapshotId,z=!S&&L.some((function(e){return e.definition.assetNodes.length>0})),G=!h&&(i.explodeComposites||L.some((function(e){return"CompositeSolidDefinition"===e.definition.__typename}))),B=v.useMemo((function(){return F?(0,j.V)(L,D):{all:L,focus:[],applyingEmptyDefault:!1}}),[D,L,F]),$=v.useMemo((function(){return B.all.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}))}),[k,B.all]),H=h&&h.solid,V=(0,ce.QT)(B.all,H),U=V.layout,W=V.loading,q=V.async,J=v.useMemo((function(){var e=l.opNames,n=e.map((function(n,t){return{text:n,onClick:function(){m((0,o.Z)((0,o.Z)({},l),{},{opNames:e.slice(0,t+1)}),"push")}}}));return(0,w.pv)(l.pipelineName)&&n.shift(),n}),[l,m]);return(0,I.jsx)(d.OS,{identifier:"explorer",firstInitialPercent:70,first:(0,I.jsxs)(u.S,{region:"op graph",children:[F?(0,I.jsx)(Sn,{children:(0,I.jsx)(de.j,{items:L,value:l.opsQuery,placeholder:"Type an op subset\u2026",popoverPosition:"bottom-left",onChange:Z})}):J.length>1?(0,I.jsx)(Cn,{children:(0,I.jsx)(c.Oo,{currentBreadcrumbRenderer:function(){return(0,I.jsx)("span",{})},items:J})}):null,(z||G)&&(0,I.jsxs)(jn,{children:[z&&(0,I.jsx)(p.X,{format:"switch",label:"View as Asset Graph",checked:i.preferAssetRendering,onChange:function(){m((0,o.Z)((0,o.Z)({},l),{},{opNames:[]}),"replace"),g((0,o.Z)((0,o.Z)({},i),{},{preferAssetRendering:!i.preferAssetRendering}))}}),G&&(0,I.jsx)(p.X,{format:"switch",label:"Explode graphs",checked:i.explodeComposites,onChange:function(){Z(""),g((0,o.Z)((0,o.Z)({},i),{},{explodeComposites:!i.explodeComposites}))}})]}),(0,I.jsx)(wn,{children:(0,I.jsx)(f.oi,{name:"highlighted",icon:"search",value:k,placeholder:"Highlight\u2026",onChange:function(e){return E(e.target.value)}})}),0===L.length?(0,I.jsx)(ue.LS,{nodeType:"op",isGraph:S}):B.applyingEmptyDefault?(0,I.jsx)(ue.K4,{nodeType:"op"}):0===Object.keys(B.all).length?(0,I.jsx)(ue.VQ,{nodeType:"op"}):void 0,W||!U?(0,I.jsx)(ue.W_,{async:q,nodeType:"op"}):(0,I.jsx)(ae,{jobName:s.name,ops:B.all,focusOps:B.focus,highlightedOps:$,selectedHandleID:M&&M.handleID,selectedOp:M&&M.solid,parentHandleID:h&&h.handleID,parentOp:H,onClickOp:_,onClickBackground:function(){_({name:""})},onEnterSubgraph:O,onLeaveSubgraph:function(){P((function(e){e.pop()}))},layout:U})]}),second:(0,I.jsx)(vn,{children:(0,I.jsx)(b.AW,{children:function(e){var t=e.location;return(0,I.jsx)(mn,(0,o.Z)({container:s,explorerPath:l,opHandleID:M&&M.handleID,parentOpHandleID:h&&h.handleID,getInvocations:n,onEnterSubgraph:O,onClickOp:_,repoAddress:x},y().parse(t.search||"",{ignoreQueryPrefix:!0})))}})})})},gn=(0,l.Ps)(Le||(Le=(0,i.Z)(["\n  fragment GraphExplorerFragment on SolidContainer {\n    id\n    name\n    description\n    ...SidebarRootContainerFragment\n  }\n\n  ","\n"])),pe.q),xn=(0,l.Ps)(Fe||(Fe=(0,i.Z)(["\n  fragment GraphExplorerAssetNodeFragment on AssetNode {\n    id\n    opNames\n    assetKey {\n      path\n    }\n  }\n"]))),yn=(0,l.Ps)(ze||(ze=(0,i.Z)(["\n  fragment GraphExplorerSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      ...GraphExplorerSolid\n    }\n  }\n\n  fragment GraphExplorerSolid on Solid {\n    name\n    ...OpGraphOpFragment\n  }\n\n  ","\n"])),se),vn=s.ZP.div.withConfig({displayName:"GraphExplorer__RightInfoPanel",componentId:"sc-12nvdik-0"})(["position:relative;height:100%;min-height:0;overflow:hidden;display:flex;flex-direction:column;background:",";"],m.w.White),bn=s.ZP.div.withConfig({displayName:"GraphExplorer__RightInfoPanelContent",componentId:"sc-12nvdik-1"})(["flex:1;overflow-y:auto;"]),jn=s.ZP.div.withConfig({displayName:"GraphExplorer__OptionsOverlay",componentId:"sc-12nvdik-2"})(["background-color:",";z-index:2;padding:15px 20px;display:inline-flex;align-items:stretch;white-space:nowrap;position:absolute;bottom:0;left:0;gap:8px;"],g()(m.w.White).fade(.6).toString()),wn=s.ZP.div.withConfig({displayName:"GraphExplorer__HighlightOverlay",componentId:"sc-12nvdik-3"})(["background-color:",";z-index:2;padding:8px 12px 0 0;display:inline-flex;align-items:stretch;position:absolute;top:0;right:0;"],g()(m.w.White).fade(.6).toString()),Sn=s.ZP.div.withConfig({displayName:"GraphExplorer__QueryOverlay",componentId:"sc-12nvdik-4"})(["z-index:2;position:absolute;top:8px;left:24px;white-space:nowrap;display:flex;gap:10px;"]),Cn=s.ZP.div.withConfig({displayName:"GraphExplorer__BreadcrumbsOverlay",componentId:"sc-12nvdik-5"})(["background-color:",";z-index:2;padding:12px 0 0 20px;height:42px;max-width:calc(100% - 250px);display:inline-flex;align-items:center;position:absolute;top:0;left:0;"],g()(m.w.White).fade(.6).toString())},78387:function(e,n,t){t.d(n,{K4:function(){return p},LS:function(){return f},VQ:function(){return m},W_:function(){return h}});var i=t(60319),r=t(32375),o=t(67445),a=t(47515),s=t(62459),l=t(32667),c=t(45832),d=t.n(c),u=(t(78193),t(35936)),p=function(e){var n=e.nodeType;return(0,u.jsxs)(y,{children:[(0,u.jsx)(r.JO,{name:"arrow_upward",size:24}),(0,u.jsxs)(v,{children:[(0,u.jsxs)("p",{children:["This is a large DAG that may be difficult to visualize. Type ",(0,u.jsx)("code",{children:"*"})," in the graph filter bar to render the entire thing, or type ",n," names and use:"]}),(0,u.jsxs)("ul",{style:{marginBottom:0},children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("code",{children:"+"})," to expand a single layer before or after the ",n,"."]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("code",{children:"*"})," to expand recursively before or after the ",n,"."]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("code",{children:"AND"})," to render another disconnected fragment."]})]})]})]})},f=function(e){var n=e.isGraph,t=e.nodeType;return(0,u.jsx)(x,{children:(0,u.jsx)(o.t,{icon:"no-results",title:n?"Empty graph":"Empty job",description:(0,u.jsxs)("div",{children:["This ",n?"graph":"job"," is empty. ",d()(t),"s will appear here when they are added to your definitions."]})})})},m=function(e){var n=e.nodeType;return(0,u.jsx)(x,{children:(0,u.jsx)(o.t,{icon:"no-results",title:"Nothing to display",description:(0,u.jsxs)("div",{children:["No ",n,"s match your query filter. Try removing your filter, typing ",(0,u.jsx)("code",{children:"*"})," ","to render the entire graph, or entering another filter string."]})})})},h=function(e){var n=e.async;return(0,u.jsxs)(g,{children:[n?(0,u.jsxs)(a.x,{margin:{bottom:24},children:["Rendering a large number of ",e.nodeType,"s, please wait\u2026"]}):null,(0,u.jsx)(s.$,{purpose:"page"})]})},g=i.ZP.div.withConfig({displayName:"GraphNotices__LoadingContainer",componentId:"sc-1clws20-0"})(["background-color:",";position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2;"],l.w.White),x=i.ZP.div.withConfig({displayName:"GraphNotices__CenteredContainer",componentId:"sc-1clws20-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;"]),y=i.ZP.div.withConfig({displayName:"GraphNotices__LargeDAGContainer",componentId:"sc-1clws20-2"})(["width:45vw;position:absolute;left:40px;top:60px;z-index:2;max-width:500px;display:flex;flex-direction:column;[role='img']{opacity:0.5;margin-left:10vw;}"]),v=i.ZP.div.withConfig({displayName:"GraphNotices__LargeDAGInstructionBox",componentId:"sc-1clws20-3"})(["padding:15px 20px;border:1px solid #fff5c3;margin-top:20px;color:",";background:#fffbe5;text-align:left;line-height:1.4rem;box-shadow:0 1px 2px rgba(0,0,0,0.1);code{background:#f8ebad;font-weight:500;padding:0 4px;}"],l.w.Gray800)},89332:function(e,n,t){t.d(n,{q:function(){return E},S:function(){return k}});var i,r,o=t(71171),a=t(31623),s=t(47515),l=t(90519),c=(t(78193),t(88949)),d=t(84674),u=t(92761),p=t(26590),f=t(54665),m=t(34072),h=t(68079),g=t(60319),x=t(32375),y=t(32667),v=t(86741),b=t(11311),j=t(35936),w=function(e){var n=e.mode,t=e.showModeName;return(0,j.jsxs)(m.JB,{children:[t&&(0,j.jsxs)(s.x,{padding:{bottom:16},children:[(0,j.jsx)(m.M$,{children:n.name}),(0,j.jsx)(f.d,{description:n.description||""})]}),(0,j.jsx)(s.x,{flex:{direction:"column",gap:16},children:[].concat((0,h.Z)(n.resources),(0,h.Z)(n.loggers)).map((function(e){return(0,j.jsxs)(N,{children:[(0,j.jsx)(x.JO,{name:"resource",color:y.w.Gray700}),(0,j.jsxs)("div",{children:[(0,j.jsx)(C,{children:e.name}),(0,j.jsx)(f.d,{description:e.description||""}),e.configField&&(0,j.jsx)(v.L,{type:e.configField.configType,typesInScope:e.configField.configType.recursiveConfigTypes})]})]},e.name)}))})]},n.name)},S=(0,a.Ps)(i||(i=(0,o.Z)(["\n  fragment SidebarResourcesSectionFragment on Mode {\n    id\n    name\n    description\n    resources {\n      name\n      description\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n    loggers {\n      name\n      description\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"])),b.S),C=(0,g.ZP)(m.M$).withConfig({displayName:"SidebarResourcesSection__ContextResourceHeader",componentId:"sc-2jw6y4-0"})(["font-size:16px;margin:4px 0;"]),N=g.ZP.div.withConfig({displayName:"SidebarResourcesSection__ContextResourceContainer",componentId:"sc-2jw6y4-1"})(["display:flex;align-items:flex-start;& h4{margin-top:-2px;}& ","{margin-right:8px;}"],x.a1),k=function(e){var n=e.container,t=e.repoAddress,i=(0,u.vl)().options,r=!1,o=!1;if("PipelineSnapshot"===n.__typename){var a=n.pipelineSnapshotId,h=n.parentSnapshotId,g=t?(0,u.qz)(i,t):i.find((function(e){return(0,p.h)(e,n.name)})),x=g&&(0,p.h)(g,n.name);r=!!x&&!x.isJob,o=(null===x||void 0===x?void 0:x.pipelineSnapshotId)!==a&&(null===x||void 0===x?void 0:x.pipelineSnapshotId)!==h}return(0,j.jsxs)("div",{children:[(0,j.jsxs)(s.x,{padding:{vertical:16,horizontal:24},children:[(0,j.jsxs)(m.P3,{children:["Graph"===n.__typename?"Graph":r?"Pipeline":"Job",o?" Snapshot":""]}),(0,j.jsx)(m.R8,{children:(0,c.By)(n.name)})]}),(0,j.jsx)(m.pC,{title:"Description",children:(0,j.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:(0,j.jsx)(f.d,{description:n.description||"No description provided"})})}),"PipelineSnapshot"===n.__typename&&(0,j.jsx)(m.pC,{title:r?"Modes":"Resources",collapsedByDefault:!0,children:(0,j.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:n.modes.map((function(e){return(0,j.jsx)(w,{mode:e,showModeName:r},e.name)}))})}),"PipelineSnapshot"===n.__typename&&(0,j.jsx)(m.pC,{title:"Metadata",children:(0,j.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:(0,j.jsx)(l.nZ,{rows:n.metadataEntries.map((function(e){return{key:e.label,value:(0,j.jsx)(d.BL,{entry:e})}}))})})})]})},E=(0,a.Ps)(r||(r=(0,o.Z)(["\n  fragment SidebarRootContainerFragment on SolidContainer {\n    id\n    name\n    description\n    modes {\n      id\n      ...SidebarResourcesSectionFragment\n    }\n    ... on PipelineSnapshot {\n      pipelineSnapshotId\n      parentSnapshotId\n      metadataEntries {\n        ...MetadataEntryFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),S,d.it)},68109:function(e,n,t){t.d(n,{I:function(){return I},u:function(){return Z}});var i,r=t(96234),o=t(71171),a=t(68079),s=t(60319),l=t(31623),c=t(47515),d=t(86741),u=t(32375),p=t(32667),f=t(57103),m=t(78193),h=t(97412),g=t(88949),x=t(9938),y=t(85514),v=t(58606),b=t(99986),j=t(11311),w=t(60880),S=t(63167),C=t(54665),N=t(34072),k=t(54335),E=t(35936),I=function(e){var n=e.definition,t=e.getInvocations,i=e.showingSubgraph,r=e.onClickInvocation,o=e.repoAddress,s=(0,b.D)(n.metadata),l="CompositeSolidDefinition"===n.__typename,f="SolidDefinition"===n.__typename?n.configField:null,m={},j={};i&&"CompositeSolidDefinition"===n.__typename&&(n.inputMappings.forEach((function(e){return m[e.definition.name]=[].concat((0,a.Z)(m[e.definition.name]||[]),[e.mappedInput])})),n.outputMappings.forEach((function(e){return j[e.definition.name]=[].concat((0,a.Z)(j[e.definition.name]||[]),[e.mappedOutput])})));var I=null;return"SolidDefinition"===n.__typename&&(I=n.requiredResources),(0,E.jsxs)("div",{children:[(0,E.jsx)(N.pC,{title:"Definition",children:(0,E.jsxs)(c.x,{padding:{vertical:16,horizontal:24},children:[(0,E.jsx)(N.P3,{children:l?"Graph":"Op"}),(0,E.jsx)(N.R8,{children:(0,g.By)(n.name)}),(0,E.jsx)(v.z,{definition:n})]})}),n.description&&(0,E.jsx)(N.pC,{title:"Description",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(C.d,{description:n.description})})}),n.metadata&&s&&s.SidebarComponent&&(0,E.jsx)(N.pC,{title:"Metadata",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(s.SidebarComponent,{definition:n,repoAddress:o})})}),f&&(0,E.jsx)(N.pC,{title:"Config",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(d.L,{type:f.configType,typesInScope:f.configType.recursiveConfigTypes})})}),I&&(0,E.jsx)(N.pC,{title:"Required Resources",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,a.Z)(I).sort().map((function(e){return(0,E.jsxs)(k.b1,{children:[(0,E.jsx)(u.JO,{name:"resource",color:p.w.Gray700}),o?(0,E.jsx)(h.rU,{to:(0,S.$U)(o,"/resources/".concat(e.resourceKey)),children:(0,E.jsx)(k.bZ,{children:e.resourceKey})}):(0,E.jsx)(k.bZ,{children:e.resourceKey})]},e.resourceKey)}))})}),(0,E.jsx)(N.pC,{title:"Inputs",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:n.inputDefinitions.map((function(e,n){return(0,E.jsxs)(N.JB,{children:[(0,E.jsx)(N.Pb,{children:(0,g.By)(e.name)}),(0,E.jsx)(k.f3,{children:(0,E.jsx)(w.g,{type:e.type})}),(0,E.jsx)(C.d,{description:e.description}),(0,E.jsx)(k.UX,{title:"Mapped to:",items:m[e.name]})]},n)}))})}),(0,E.jsx)(N.pC,{title:"Outputs",children:(0,E.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:n.outputDefinitions.map((function(e,n){return(0,E.jsxs)(N.JB,{children:[(0,E.jsxs)(N.Pb,{children:[(0,g.By)(e.name),e.isDynamic&&(0,E.jsx)("span",{title:"DynamicOutput",children:"[*]"})]}),(0,E.jsx)(k.f3,{children:(0,E.jsx)(w.g,{type:e.type})}),(0,E.jsx)(k.UX,{title:"Mapped from:",items:j[e.name]}),(0,E.jsx)(C.d,{description:e.description})]},n)}))})}),n.assetNodes.length>0&&(0,E.jsx)(N.pC,{title:"Yielded Assets",children:n.assetNodes.map((function(e){return(0,E.jsxs)(_,{to:(0,y.p)(e.assetKey),children:[(0,E.jsx)(u.JO,{name:"asset"})," ",(0,x.ll)(e.assetKey)]},e.id)}))}),t&&(0,E.jsx)(N.pC,{title:"All Invocations",children:(0,E.jsx)(P,{invocations:t(n.name),onClickInvocation:r})})]})},Z=(0,l.Ps)(i||(i=(0,o.Z)(["\n  fragment SidebarOpDefinitionFragment on ISolidDefinition {\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    assetNodes {\n      id\n      assetKey {\n        path\n      }\n    }\n    outputDefinitions {\n      name\n      description\n      isDynamic\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    inputDefinitions {\n      name\n      description\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    ... on SolidDefinition {\n      requiredResources {\n        resourceKey\n      }\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n    ... on CompositeSolidDefinition {\n      id\n      inputMappings {\n        definition {\n          name\n        }\n        mappedInput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n      outputMappings {\n        definition {\n          name\n        }\n        mappedOutput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...OpTypeSignatureFragment\n  }\n\n  ","\n  ","\n  ","\n"])),w.B,j.S,v.C),P=function(e){var n=e.invocations,t=e.onClickInvocation,i=m.useState(!1),o=(0,r.Z)(i,2),a=o[0],s=o[1],l=n.filter((function(e){return!(0,x.pv)(e.pipelineName||"")})),c=a?l:l.slice(0,20);return(0,E.jsxs)(E.Fragment,{children:[c.map((function(e,n){return(0,E.jsx)(k.Kn,{invocation:e,onClick:function(){return t(e)}},n)})),c.length<l.length&&(0,E.jsx)(k.Sz,{onClick:function(){return s(!0)},children:"Show ".concat(n.length-c.length," More Invocations")})]})},_=(0,s.ZP)(h.rU).withConfig({displayName:"SidebarOpDefinition__AssetNodeListItem",componentId:"sc-42lm98-0"})(["user-select:none;padding:12px 24px;cursor:pointer;border-bottom:1px solid ",";display:flex;gap:6px;&:last-child{border-bottom:none;}&:hover{background:",";}font-family:",";"],p.w.KeylineGray,p.w.Gray50,f.b.monospace)},54335:function(e,n,t){t.d(n,{Kn:function(){return w},Sz:function(){return y},UX:function(){return j},b1:function(){return E},bZ:function(){return N},eK:function(){return I},ep:function(){return C},f3:function(){return v},uC:function(){return S}});var i=t(59740),r=t(33028),o=t(60319),a=t(80018),s=t(32667),l=t(83473),c=t(4537),d=t(32375),u=t(57103),p=(t(78193),t(97412)),f=t(51664),m=t(44099),h=t(34072),g=t(35936),x=["label"],y=o.ZP.button.withConfig({displayName:"SidebarOpHelpers__ShowAllButton",componentId:"sc-re3duj-0"})(["background:transparent;border:none;color:",";text-decoration:underline;padding-top:10px;font-size:0.9rem;"],s.w.Blue500),v=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__TypeWrapper",componentId:"sc-re3duj-1"})(["margin-bottom:10px;"]),b=function(e){return(0,g.jsx)(p.rU,{to:"./".concat(e.solid.name),children:(0,g.jsx)(l.EK,{children:(0,f.R)(e)})})},j=function(e){return e.items&&e.items.length?(0,g.jsxs)(a.xv,{children:[e.title,e.items.map((function(e,n){return(0,g.jsx)(b,(0,r.Z)({},e),n)}))]}):null},w=function(e){var n=e.invocation,t=n.handleID,i=n.pipelineName,r=t.split(".");return(0,g.jsxs)(P,{onClick:e.onClick,children:[i&&(0,g.jsx)("div",{style:{color:s.w.Blue700},children:i}),(0,g.jsx)(m.E6,{stepKey:r.join(".")})]})},S=function(e){var n=e.from,t=e.to,i=e.isDynamic;return(0,g.jsxs)("tr",{children:[(0,g.jsx)(k,{children:"string"===typeof n?(0,g.jsx)(l.EK,{children:n}):(0,g.jsx)(b,(0,r.Z)({},n))}),(0,g.jsx)("td",{style:{whiteSpace:"nowrap",textAlign:"right"},children:(0,g.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[i&&(0,g.jsx)(d.JO,{name:"op_dynamic",color:s.w.Gray700}),(0,g.jsx)(d.JO,{name:"arrow_forward",color:s.w.Gray700})]})}),(0,g.jsx)(k,{children:"string"===typeof t?(0,g.jsx)(l.EK,{children:t}):(0,g.jsx)(b,(0,r.Z)({},t))})]})},C=function(e){var n=e.label,t=(0,i.Z)(e,x);return(0,g.jsx)("tr",{children:(0,g.jsx)(Z,(0,r.Z)((0,r.Z)({},t),{},{children:n}))})},N=(0,o.ZP)(h.M$).withConfig({displayName:"SidebarOpHelpers__ResourceHeader",componentId:"sc-re3duj-2"})(["font-size:14px;"]),k=o.ZP.td.withConfig({displayName:"SidebarOpHelpers__Cell",componentId:"sc-re3duj-3"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:0;width:48%;"]),E=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__ResourceContainer",componentId:"sc-re3duj-4"})(["display:flex;align-items:flex-start;& h4{margin-top:0;}& ","{margin-right:8px;}"],d.a1),I=o.ZP.table.withConfig({displayName:"SidebarOpHelpers__DependencyTable",componentId:"sc-re3duj-5"})(["width:100%;"]),Z=o.ZP.td.withConfig({displayName:"SidebarOpHelpers__DependencyHeaderCell",componentId:"sc-re3duj-6"})(["font-size:0.7rem;color:",";"],s.w.Gray400),P=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__InvocationContainer",componentId:"sc-re3duj-7"})(["user-select:none;padding:12px 24px;cursor:pointer;border-bottom:1px solid ",";&:last-child{border-bottom:none;}&:hover{background:",";}font-family:",";","{margin-left:-12px;}"],s.w.KeylineGray,s.w.Gray50,u.b.monospace,m.dE)},53683:function(e,n,t){t.d(n,{b:function(){return o}});var i=t(78193),r=t(67099),o=function(e,n){var t=e.pipelineName,o=i.useMemo((function(){return n?"Job: ".concat(t):"Pipeline: ".concat(t)}),[n,t]);(0,r.j)(o)}},99986:function(e,n,t){t.d(n,{D:function(){return y}});var i={};t.r(i),t.d(i,{SidebarComponent:function(){return p}});var r={};t.r(r),t.d(r,{SidebarComponent:function(){return m}});var o={};t.r(o),t.d(o,{SidebarComponent:function(){return g}});var a=t(96234),s=t(45519),l=t(32375),c=t(3077),d=t(78193),u=t(35936),p=function(e){var n=d.useState(!1),t=(0,a.Z)(n,2),i=t[0],r=t[1];d.useEffect((function(){var e=function(){return r(!0)};return document.addEventListener("show-kind-info",e),function(){return document.removeEventListener("show-kind-info",e)}}),[]);var o=e.definition.metadata.filter((function(e){return"kind"!==e.key})).sort((function(e,n){return e.key.localeCompare(n.key)}));return 0===o.length?(0,u.jsx)("span",{}):(0,u.jsxs)("div",{children:[(0,u.jsx)(s.zx,{icon:(0,u.jsx)(l.JO,{name:"content_copy"}),onClick:function(){return r(!0)},children:"View metadata"}),(0,u.jsxs)(c.Vq,{title:"Metadata: ".concat(e.definition.name),isOpen:i,onClose:function(){return r(!1)},children:[(0,u.jsx)(c.a7,{children:(0,u.jsx)("div",{style:{maxHeight:400,overflow:"scroll"},children:(0,u.jsxs)("table",{className:"bp4-html-table bp4-html-table-striped",style:{width:"100%"},children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Key"}),(0,u.jsx)("th",{children:"Value"})]})}),(0,u.jsx)("tbody",{children:o.map((function(e){var n=e.key,t=e.value;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n}),(0,u.jsx)("td",{children:(0,u.jsx)("code",{style:{whiteSpace:"pre-wrap"},children:t})})]},n)}))})]})})}),(0,u.jsx)(c.cN,{children:(0,u.jsx)(s.zx,{onClick:function(){return r(!1)},children:"Close"})})]})]})},f=t(80671),m=function(e){var n,t=e.definition.metadata.find((function(e){return"notebook_path"===e.key})),i=null===(n=e.repoAddress)||void 0===n?void 0:n.location;return(0,u.jsx)(f.c,{path:null===t||void 0===t?void 0:t.value,repoLocation:i||"",label:"View Source Notebook"})},h=t(9886),g=function(e){var n=d.useState(!1),t=(0,a.Z)(n,2),i=t[0],r=t[1];d.useEffect((function(){var e=function(){return r(!0)};return document.addEventListener("show-kind-info",e),function(){return document.removeEventListener("show-kind-info",e)}}),[]);var o=e.definition.metadata.find((function(e){return"sql"===e.key}));return o?(0,u.jsxs)("div",{children:[(0,u.jsx)(s.zx,{icon:(0,u.jsx)(l.JO,{name:"content_copy"}),onClick:function(){return r(!0)},children:"View SQL"}),(0,u.jsxs)(c.Vq,{icon:"info",onClose:function(){return r(!1)},style:{width:"80vw",maxWidth:900},title:"SQL: ".concat(e.definition.name),isOpen:i,children:[(0,u.jsx)(h.NU,{options:{lineNumbers:!0,mode:"sql"},value:o.value}),(0,u.jsx)(c.cN,{topBorder:!0,children:(0,u.jsx)(s.zx,{intent:"primary",onClick:function(){return r(!1)},children:"Close"})})]})]}):(0,u.jsx)("span",{})},x={sql:o,ipynb:r,snowflake:o,noteable:r};function y(e){var n=e.find((function(e){return"kind"===e.key}));return n?x[n.value]||i:null}},11311:function(e,n,t){t.d(n,{S:function(){return o}});var i,r=t(71171),o=(0,t(31623).Ps)(i||(i=(0,r.Z)(["\n  fragment ConfigTypeSchemaFragment on ConfigType {\n    ... on EnumConfigType {\n      givenName\n      values {\n        value\n        description\n      }\n    }\n    ... on RegularConfigType {\n      givenName\n    }\n    key\n    description\n    isSelector\n    typeParamKeys\n    ... on CompositeConfigType {\n      fields {\n        name\n        description\n        isRequired\n        configTypeKey\n        defaultValueAsJson\n      }\n    }\n    ... on ScalarUnionConfigType {\n      scalarTypeKey\n      nonScalarTypeKey\n    }\n    ... on MapConfigType {\n      keyLabelName\n    }\n  }\n"])))},60880:function(e,n,t){t.d(n,{B:function(){return u},g:function(){return d}});var i,r=t(71171),o=t(60319),a=t(31623),s=t(32667),l=(t(78193),t(97412)),c=t(35936),d=function(e){var n=e.type,t=n.name,i=n.displayName;return t?(0,c.jsx)(p,{to:{search:"?tab=types&typeName=".concat(i)},children:(0,c.jsx)(f,{children:i})}):(0,c.jsx)(f,{children:i})},u=(0,a.Ps)(i||(i=(0,r.Z)(["\n  fragment DagsterTypeWithTooltipFragment on DagsterType {\n    name\n    displayName\n    description\n  }\n"]))),p=(0,o.ZP)(l.rU).withConfig({displayName:"TypeWithTooltip__TypeLink",componentId:"sc-19aiyzm-0"})([":hover{text-decoration:none;}"]),f=o.ZP.code.withConfig({displayName:"TypeWithTooltip__TypeName",componentId:"sc-19aiyzm-1"})(["background:",";border:none;padding:1px 4px;border-bottom:1px solid ",";border-radius:0.25em;font-size:14px;font-weight:500;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;"],s.w.Blue50,s.w.Blue500)},13422:function(e,n,t){t.d(n,{T:function(){return u},g:function(){return d}});var i=t(96234),r=t(47515),o=t(67445),a=t(62459),s=t(78193),l=t(47345),c=t(35936),d=function(e){var n=e.children,t=e.purpose,a=e.allowStaleData,d=void 0!==a&&a,p=e.renderError,f=e.queryResult,m=f.error,h=f.data,g=f.loading,x=s.useState(!0),y=(0,i.Z)(x,2),v=y[0],b=y[1],j=!h||g&&!d||0===Object.keys(h).length;if(s.useEffect((function(){var e;return j?e=setTimeout((function(){return b(!1)}),500):b(!0),function(){e&&clearTimeout(e)}}),[j]),m){if(p)return(0,c.jsx)(c.Fragment,{children:p(m)});var w=m.networkError;if(!w)return(0,c.jsx)(r.x,{padding:64,flex:{justifyContent:"center"},children:(0,c.jsx)(o.t,{icon:"error",title:"GraphQL Error - see console for details"})});if("statusCode"in w&&l.h.has(w.statusCode)){var S=w.statusCode;return(0,c.jsx)(r.x,{padding:64,flex:{justifyContent:"center"},children:(0,c.jsx)(o.t,{icon:"error",title:"Network error",description:(0,l.F)(S)})})}}return j?v?null:(0,c.jsx)(u,{purpose:t}):(0,c.jsx)(c.Fragment,{children:n(h)})},u=function(e){var n=e.purpose,t="page"===n;return(0,c.jsx)(r.x,{padding:64,flex:{grow:t?1:void 0,justifyContent:"center",alignItems:"center"},style:t?{height:"100%"}:void 0,children:(0,c.jsx)(a.$,{purpose:n})})};d.defaultProps={purpose:"page"}},4248:function(e,n,t){t.d(n,{f:function(){return d}});var i=t(33028),r=t(59740),o=t(60319),a=t(16185),s=(t(78193),t(97412)),l=t(35936),c=["to","title","disabled"],d=(0,o.ZP)((function(e){var n=e.to,t=e.title,o=e.disabled,d=(0,r.Z)(e,c),u=(0,a.xv)(e),p=(0,a.BY)(e),f="string"===typeof t?t:void 0;return(0,l.jsx)(s.rU,(0,i.Z)((0,i.Z)((0,i.Z)({to:o?"#":n,title:f},u),d),{},{children:p}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],a.gA)},16255:function(e,n,t){t.d(n,{b:function(){return d}});var i=t(60319),r=t(78193),o=t(47515),a=t(32667),s=t(4537),l=t(32375),c=t(35936),d=function(e){var n=e.intent,t=e.title,i=e.description,d=e.onClose,h=r.useMemo((function(){switch(n){case"warning":return{backgroundColor:a.w.Yellow50,borderColor:a.w.Yellow500,icon:"warning",iconColor:a.w.Yellow500,textColor:a.w.Yellow700};case"error":return{backgroundColor:a.w.Red50,borderColor:a.w.Red500,icon:"error",iconColor:a.w.Red500,textColor:a.w.Red700};case"success":return{backgroundColor:a.w.Green50,borderColor:a.w.Green500,icon:"done",iconColor:a.w.Green500,textColor:a.w.Green700};default:return{backgroundColor:a.w.Blue50,borderColor:a.w.Blue500,icon:"info",iconColor:a.w.Blue500,textColor:a.w.Blue700}}}),[n]),g=h.backgroundColor,x=h.borderColor,y=h.icon,v=h.iconColor,b=h.textColor;return(0,c.jsx)(p,{background:g,$borderColor:x,$textColor:b,padding:{horizontal:16,vertical:12},children:(0,c.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,c.jsxs)(s.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[e.icon||(0,c.jsx)(l.JO,{name:y,color:v}),(0,c.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,c.jsx)(f,{children:t}),i?(0,c.jsx)(m,{children:i}):null]})]}),d?(0,c.jsx)(u,{onClick:d,children:(0,c.jsx)(l.JO,{name:"close",color:b})}):null]})})};d.defaultProps={intent:"info"};var u=i.ZP.button.withConfig({displayName:"Alert__ButtonWrapper",componentId:"sc-8stlxo-0"})(["background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;flex-direction:column;height:fit-content;"]),p=(0,i.ZP)(o.x).withConfig({displayName:"Alert__AlertContainer",componentId:"sc-8stlxo-1"})(["box-shadow:inset 4px 0 ",";color:",";a:link,a:visited,a:hover,a:active{color:",";text-decoration:underline;}"],(function(e){return e.$borderColor}),(function(e){return e.$textColor}),(function(e){return e.$textColor})),f=i.ZP.div.withConfig({displayName:"Alert__AlertTitle",componentId:"sc-8stlxo-2"})(["font-weight:600;"]),m=i.ZP.div.withConfig({displayName:"Alert__AlertDescription",componentId:"sc-8stlxo-3"})(["font-weight:400;"])},3586:function(e,n,t){t.d(n,{T:function(){return i}});var i=t(60319).ZP.div.withConfig({displayName:"Page",componentId:"sc-1qh2hrd-0"})(["height:100%;overflow-y:auto;padding-bottom:64px;width:100%;"])}}]);
//# sourceMappingURL=867.c925784d.chunk.js.map